<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>8&nbsp;深层、浅层和可选语义</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Typed Racket &#21442;&#32771;</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="type-ref.html" class="tocviewlink" data-pltdoc="x">Type &#21442;&#32771;</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="special-forms.html" class="tocviewlink" data-pltdoc="x">&#29305;&#27530;&#24418;&#24335;&#21442;&#32771;</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Typed_Racket_____.html" class="tocviewlink" data-pltdoc="x">Typed Racket &#25552;&#20379;&#30340;&#24211;</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="____.html" class="tocviewlink" data-pltdoc="x">&#31867;&#22411;&#21270;&#31867;</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="_____.html" class="tocviewlink" data-pltdoc="x">&#31867;&#22411;&#21270;&#21333;&#20803;</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Utilities.html" class="tocviewlink" data-pltdoc="x">Utilities</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="Exploring_Types.html" class="tocviewlink" data-pltdoc="x">Exploring Types</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">&#28145;&#23618;&#12289;&#27973;&#23618;&#21644;&#21487;&#36873;&#35821;&#20041;</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="________Typed_Racket___.html" class="tocviewlink" data-pltdoc="x">&#27809;&#26377;&#31867;&#22411;&#26816;&#26597;&#30340; Typed Racket &#35821;&#27861;</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="Typed_Regions.html" class="tocviewlink" data-pltdoc="x">Typed Regions</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="Typed_Racket____.html" class="tocviewlink" data-pltdoc="x">Typed Racket &#30340;&#20248;&#21270;</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="_____Typed_Racket___.html" class="tocviewlink" data-pltdoc="x">&#19981;&#23433;&#20840;&#30340; Typed Racket &#25805;&#20316;</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="Legacy_Forms.html" class="tocviewlink" data-pltdoc="x">Legacy Forms</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="Compatibility_Languages.html" class="tocviewlink" data-pltdoc="x">Compatibility Languages</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="Experimental_Features.html" class="tocviewlink" data-pltdoc="x">Experimental Features</a></td></tr><tr><td align="right"></td><td><a href="tr-bibliography.html" class="tocviewlink" data-pltdoc="x">Bibliography</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>8&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">&#28145;&#23618;&#12289;&#27973;&#23618;&#21644;&#21487;&#36873;&#35821;&#20041;</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">8.1&nbsp;</td><td><a href="#%28part._~e4~ba~a4~e4~ba~92~e7~a4~ba~e4~be~8b%29" class="tocviewlink" data-pltdoc="x">&#20132;&#20114;&#31034;&#20363;</a></td></tr><tr><td align="right">8.2&nbsp;</td><td><a href="#%28part._~e4~be~9d~e8~b5~96~e4~ba~8e~e7~b1~bb~e5~9e~8b~e8~a1~8c~e4~b8~ba~e7~9a~84~e7~aa~97~e4~bd~93%29" class="tocviewlink" data-pltdoc="x">&#20381;&#36182;&#20110;&#31867;&#22411;&#34892;&#20026;&#30340;&#31383;&#20307;</a></td></tr><tr><td align="right">8.3&nbsp;</td><td><a href="#%28part._how-to-choose%29" class="tocviewlink" data-pltdoc="x">&#22914;&#20309;&#22312; Deep, Shallow &#21644; Optional &#20043;&#38388;&#36827;&#34892;&#36873;&#25321;</a></td></tr><tr><td align="right">8.4&nbsp;</td><td><a href="#%28part._~e9~80~90~e6~ad~a5~e7~b1~bb~e5~9e~8b~e5~8c~96~e7~9a~84~e7~9b~b8~e5~85~b3~e5~b7~a5~e4~bd~9c%29" class="tocviewlink" data-pltdoc="x">&#36880;&#27493;&#31867;&#22411;&#21270;&#30340;&#30456;&#20851;&#24037;&#20316;</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">8.1<tt>&nbsp;</tt></span><a href="#%28part._~e4~ba~a4~e4~ba~92~e7~a4~ba~e4~be~8b%29" class="tocsubseclink" data-pltdoc="x">&#20132;&#20114;&#31034;&#20363;</a></td></tr><tr><td><span class="tocsublinknumber">8.1.1<tt>&nbsp;</tt></span><a href="#%28part._~e6~a3~80~e6~9f~a5~e4~b8~8d~e5~8f~af~e5~8f~98~e6~95~b0~e6~8d~ae__~e5~af~bc~e5~85~a5~e5~88~97~e8~a1~a8%29" class="tocsubseclink" data-pltdoc="x">检查不可变数据:<span class="mywbr"> &nbsp;</span> &#23548;&#20837;&#21015;&#34920;</a></td></tr><tr><td><span class="tocsublinknumber">8.1.2<tt>&nbsp;</tt></span><a href="#%28part._~e6~a3~80~e6~9f~a5~e5~8f~af~e5~8f~98~e6~95~b0~e6~8d~ae__~e5~af~bc~e5~85~a5~e5~90~91~e9~87~8f%29" class="tocsubseclink" data-pltdoc="x">检查可变数据:<span class="mywbr"> &nbsp;</span> &#23548;&#20837;&#21521;&#37327;</a></td></tr><tr><td><span class="tocsublinknumber">8.1.3<tt>&nbsp;</tt></span><a href="#%28part._~e6~a3~80~e6~9f~a5~e8~b7~a8~e8~b6~8a~e5~a4~9a~e4~b8~aa~e8~be~b9~e7~95~8c~e7~9a~84~e5~87~bd~e6~95~b0%29" class="tocsubseclink" data-pltdoc="x">&#26816;&#26597;&#36328;&#36234;&#22810;&#20010;&#36793;&#30028;&#30340;&#20989;&#25968;</a></td></tr><tr><td><span class="tocsublinknumber">8.2<tt>&nbsp;</tt></span><a href="#%28part._~e4~be~9d~e8~b5~96~e4~ba~8e~e7~b1~bb~e5~9e~8b~e8~a1~8c~e4~b8~ba~e7~9a~84~e7~aa~97~e4~bd~93%29" class="tocsubseclink" data-pltdoc="x">&#20381;&#36182;&#20110;&#31867;&#22411;&#34892;&#20026;&#30340;&#31383;&#20307;</a></td></tr><tr><td><span class="tocsublinknumber">8.2.1<tt>&nbsp;</tt></span><a href="#%28part._~e7~a4~ba~e4~be~8b__~e6~b7~b1~e5~b1~82_~e6~b5~85~e5~b1~82~e5~92~8c~e5~8f~af~e9~80~89~e7~9a~84~e6~8a~95~e9~80~92%29" class="tocsubseclink" data-pltdoc="x">&#31034;&#20363;&#65306; &#28145;&#23618;&#12289;&#27973;&#23618;&#21644;&#21487;&#36873;&#30340;&#25237;&#36882;</a></td></tr><tr><td><span class="tocsublinknumber">8.3<tt>&nbsp;</tt></span><a href="#%28part._how-to-choose%29" class="tocsubseclink" data-pltdoc="x">&#22914;&#20309;&#22312; Deep, Shallow &#21644; Optional &#20043;&#38388;&#36827;&#34892;&#36873;&#25321;</a></td></tr><tr><td><span class="tocsublinknumber">8.3.1<tt>&nbsp;</tt></span><a href="#%28part._~e4~bd~95~e6~97~b6~e4~bd~bf~e7~94~a8~e6~b7~b1~e5~b1~82~e7~b1~bb~e5~9e~8b%29" class="tocsubseclink" data-pltdoc="x">&#20309;&#26102;&#20351;&#29992;&#28145;&#23618;&#31867;&#22411;</a></td></tr><tr><td><span class="tocsublinknumber">8.3.2<tt>&nbsp;</tt></span><a href="#%28part._~e4~bd~95~e6~97~b6~e4~bd~bf~e7~94~a8~e6~b5~85~e5~b1~82~e7~b1~bb~e5~9e~8b%29" class="tocsubseclink" data-pltdoc="x">&#20309;&#26102;&#20351;&#29992;&#27973;&#23618;&#31867;&#22411;</a></td></tr><tr><td><span class="tocsublinknumber">8.3.3<tt>&nbsp;</tt></span><a href="#%28part._~e4~bd~95~e6~97~b6~e4~bd~bf~e7~94~a8~e5~8f~af~e9~80~89~e7~b1~bb~e5~9e~8b%29" class="tocsubseclink" data-pltdoc="x">&#20309;&#26102;&#20351;&#29992;&#21487;&#36873;&#31867;&#22411;</a></td></tr><tr><td><span class="tocsublinknumber">8.3.4<tt>&nbsp;</tt></span><a href="#%28part._~e4~b8~80~e8~88~ac~e6~8f~90~e7~a4~ba%29" class="tocsubseclink" data-pltdoc="x">&#19968;&#33324;&#25552;&#31034;</a></td></tr><tr><td><span class="tocsublinknumber">8.4<tt>&nbsp;</tt></span><a href="#%28part._~e9~80~90~e6~ad~a5~e7~b1~bb~e5~9e~8b~e5~8c~96~e7~9a~84~e7~9b~b8~e5~85~b3~e5~b7~a5~e4~bd~9c%29" class="tocsubseclink" data-pltdoc="x">&#36880;&#27493;&#31867;&#22411;&#21270;&#30340;&#30456;&#20851;&#24037;&#20316;</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.9</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.9&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.9&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Exploring_Types.html" title="backward to &quot;7 Exploring Types&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Typed Racket 参考&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="________Typed_Racket___.html" title="forward to &quot;9 没有类型检查的 Typed Racket 语法&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;typed-racket/scribblings/ts-reference.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;behavior-of-types&quot;">8<tt>&nbsp;</tt><a name="(part._behavior-of-types)"></a>&#28145;&#23618;&#12289;&#27973;&#23618;&#21644;&#21487;&#36873;&#35821;&#20041;</h3><a name="(part._typed_racket_deep)"></a><a name="(mod-path._typed/racket/deep)"></a><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=Module-Syntax.html%23%2528part._hash-lang%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="#%28mod-path._typed%2Fracket%2Fdeep%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket/deep</span></a></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/typed-racket-lib" title="Install this package using `raco pkg install typed-racket-lib`"><span class="stt">typed-racket-lib</span></a></span></td></tr></table></p><a name="(part._typed_racket_base_deep)"></a><a name="(mod-path._typed/racket/base/deep)"></a><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=Module-Syntax.html%23%2528part._hash-lang%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="#%28mod-path._typed%2Fracket%2Fbase%2Fdeep%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket/base/deep</span></a></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/typed-racket-lib" title="Install this package using `raco pkg install typed-racket-lib`"><span class="stt">typed-racket-lib</span></a></span></td></tr></table></p><a name="(part._typed_racket_shallow)"></a><a name="(mod-path._typed/racket/shallow)"></a><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=Module-Syntax.html%23%2528part._hash-lang%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="#%28mod-path._typed%2Fracket%2Fshallow%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket/shallow</span></a></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/typed-racket-lib" title="Install this package using `raco pkg install typed-racket-lib`"><span class="stt">typed-racket-lib</span></a></span></td></tr></table></p><a name="(part._typed_racket_base_shallow)"></a><a name="(mod-path._typed/racket/base/shallow)"></a><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=Module-Syntax.html%23%2528part._hash-lang%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="#%28mod-path._typed%2Fracket%2Fbase%2Fshallow%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket/base/shallow</span></a></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/typed-racket-lib" title="Install this package using `raco pkg install typed-racket-lib`"><span class="stt">typed-racket-lib</span></a></span></td></tr></table></p><a name="(part._typed_racket_optional)"></a><a name="(mod-path._typed/racket/optional)"></a><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=Module-Syntax.html%23%2528part._hash-lang%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="#%28mod-path._typed%2Fracket%2Foptional%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket/optional</span></a></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/typed-racket-lib" title="Install this package using `raco pkg install typed-racket-lib`"><span class="stt">typed-racket-lib</span></a></span></td></tr></table></p><a name="(part._typed_racket_base_optional)"></a><a name="(mod-path._typed/racket/base/optional)"></a><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=Module-Syntax.html%23%2528part._hash-lang%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="#%28mod-path._typed%2Fracket%2Fbase%2Foptional%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket/base/optional</span></a></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/typed-racket-lib" title="Install this package using `raco pkg install typed-racket-lib`"><span class="stt">typed-racket-lib</span></a></span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>&#20063;&#35831;&#21442;&#35265;: Typed Racket &#25351;&#21335;&#20013;&#30340;
<a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-guide&amp;rel=typed-untyped-interaction.html&amp;version=8.9" class="Sq" data-pltdoc="x">Typed-Untyped &#20132;&#20114;</a> &#12290;</p></blockquote></blockquote></blockquote></div><div class="SIntrapara">Typed Racket &#20801;&#35768;&#22312;&#19968;&#20010;&#31243;&#24207;&#20013;&#32467;&#21512;&#31867;&#22411;&#21270;&#21644;&#38750;&#31867;&#22411;&#21270;&#30340;&#20195;&#30721;&#12290;
 &#38750;&#31867;&#22411;&#21270;&#30340;&#20195;&#30721;&#21487;&#20197;&#33258;&#30001;&#22320;&#23548;&#20837;&#31867;&#22411;&#21270;&#30340;&#26631;&#35782;&#31526;&#12290;
&#26377;&#31867;&#22411;&#30340;&#20195;&#30721;&#21487;&#20197;&#36890;&#36807;&#36171;&#20104;&#23427;&#20204;&#31867;&#22411;(&#36890;&#36807; <span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._require%2Ftyped%29%29" class="RktStxLink" data-pltdoc="x">require/typed</a></span>) &#26469;&#23548;&#20837;&#26080;&#31867;&#22411;&#30340;&#26631;&#35782;&#31526;&#12290;</div></p><p>&#20801;&#35768;&#31867;&#22411;&#21270;/&#38750;&#31867;&#22411;&#21270;&#30340;&#32452;&#21512;&#24341;&#21457;&#20102;&#20851;&#20110;&#31867;&#22411;&#26159; <span class="emph">whether</span> &#24212;&#35813;&#20197;&#21450; <span class="emph">how</span> &#32422;&#26463;&#38750;&#31867;&#22411;&#21270;&#20195;&#30721;&#30340;&#34892;&#20026;&#30340;&#38382;&#39064;&#12290;
 &#19968;&#26041;&#38754;,&#24378;&#31867;&#22411;&#32422;&#26463;&#26159;&#26377;&#29992;&#30340;,&#22240;&#20026;&#23427;&#20204;&#21487;&#20197;&#26816;&#27979;&#21040;&#31867;&#22411;&#21270;&#19982;&#38750;&#31867;&#22411;&#21270;&#20043;&#38388;&#30340;&#20132;&#20114;&#20986;&#38169;&#12290;
 &#21478;&#19968;&#26041;&#38754;,&#32422;&#26463;&#24517;&#39035;&#36890;&#36807;&#36816;&#34892;&#26102;&#26816;&#26597;&#26469;&#25191;&#34892;,&#36825;&#24433;&#21709;&#20102;&#36816;&#34892;&#26102;&#24615;&#33021;&#12290;&#36739;&#24378;&#30340;&#32422;&#26463;&#36890;&#24120;&#20250;&#24102;&#26469;&#36739;&#39640;&#30340;&#24615;&#33021;&#25104;&#26412;&#12290;</p><p>&#40664;&#35748;&#24773;&#20917;&#19979;,Typed Racket &#25552;&#20379;&#20102; <font class="badlink"><span class="techoutside"><span class="techinside">Deep</span></span></font> &#31867;&#22411;,&#20005;&#26684;&#38480;&#21046;&#20102;&#38750;&#31867;&#22411;&#21270;&#20195;&#30721;&#30340;&#34892;&#20026;&#12290;
&#20294;&#30001;&#20110;&#36825;&#20123;&#32422;&#26463;&#21487;&#33021;&#24456;&#26114;&#36149;,Typed Racket &#25552;&#20379;&#20102;&#20004;&#31181;&#36873;&#25321;: <font class="badlink"><span class="techoutside"><span class="techinside">Shallow</span></span></font> &#21644;
<font class="badlink"><span class="techoutside"><span class="techinside">Optional</span></span></font> &#31867;&#22411;&#12290;
&#36825;&#19977;&#31181;&#31867;&#22411;&#37117;&#20351;&#29992;&#30456;&#21516;&#30340;&#38745;&#24577;&#31867;&#22411;&#21644;&#38745;&#24577;&#26816;&#26597;,&#20294;&#23427;&#20204;&#36880;&#27493;&#21066;&#24369;&#20102;&#31867;&#22411;&#30340;&#36816;&#34892;&#26102;&#34892;&#20026;&#12290;</p><ul><li><p><a name="(tech._~e6~b7~b1~e5~b1~82~e7~b1~bb~e5~9e~8b)"></a><span style="font-style: italic">&#28145;&#23618;&#31867;&#22411;</span> &#25191;&#34892;&#24378;&#22823;&#30340;&#12289;&#32452;&#21512;&#24615;&#30340;&#20445;&#35777;&#12290;
&#22914;&#26524;&#19968;&#20010;&#20540;&#34987;&#27880;&#37322;&#20026;&#28145;&#24230;&#31867;&#22411;,&#37027;&#20040;&#23427;&#19982;&#20854;&#20182;&#20195;&#30721;&#30340;&#25152;&#26377;&#20132;&#20114;&#37117;&#24517;&#39035;&#19982;&#35813;&#31867;&#22411;&#30456;&#21305;&#37197;&#12290;
 &#20363;&#22914;,&#19968;&#20010;&#31867;&#22411;&#20026; <span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Listof%29%29" class="RktStxLink" data-pltdoc="x">Listof</a></span><span class="stt"> </span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="RktPn">)</span> &#30340;&#20540;&#24517;&#39035;&#26159;&#19968;&#20010;&#21482;&#21253;&#21547;&#23383;&#31526;&#20018;&#30340;&#21015;&#34920;;&#21542;&#21017;,Typed Racket &#20250;&#24341;&#21457;&#19968;&#20010;&#38169;&#35823;&#12290;</p><p>Available in: <a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket</span></a>, <a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket/base</span></a>, <a href="#%28mod-path._typed%2Fracket%2Fdeep%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket/deep</span></a>, and <a href="#%28mod-path._typed%2Fracket%2Fbase%2Fdeep%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket/base/deep</span></a>.</p></li><li><p><a name="(tech._~e6~b5~85~e5~b1~82~e7~b1~bb~e5~9e~8b)"></a><span style="font-style: italic">&#27973;&#23618;&#31867;&#22411;</span> &#24378;&#21046;&#25191;&#34892;&#20540;&#30340;&#22806;&#37096;&#24418;&#29366;&#12290;
 &#20363;&#22914;,Shallow &#31867;&#22411; <span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Listof%29%29" class="RktStxLink" data-pltdoc="x">Listof</a></span><span class="stt"> </span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="RktPn">)</span> &#21482;&#26816;&#26597;&#21015;&#34920;&ndash;&#23427;&#19981;&#26816;&#26597;&#21015;&#34920;&#20803;&#32032;&#26159;&#21542;&#26159;&#23383;&#31526;&#20018;&#12290;
&#36825;&#31181;&#24378;&#21046;&#21147;&#20045;&#19968;&#30475;&#20284;&#20046;&#24456;&#24369;,&#20294; Shallow &#31867;&#22411;&#21487;&#20197;&#20849;&#21516;&#25552;&#20379;&#19968;&#20010;&#20307;&#38754;&#30340;&#23433;&#20840;&#32593;&#12290;
 &#22914;&#26524; Shallow &#31867;&#22411;&#30340;&#20195;&#30721;&#20174;&#21015;&#34920;&#20013;&#33719;&#24471;&#19968;&#20010;&#20803;&#32032;,&#24182;&#26399;&#26395;&#24471;&#21040;&#19968;&#20010; <span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span>,
  &#37027;&#20040;&#21478;&#19968;&#20010;&#26816;&#26597;&#23558;&#30830;&#20445;&#35813;&#20803;&#32032;&#30830;&#23454;&#26159;&#19968;&#20010;&#23383;&#31526;&#20018;&#12290;</p><p>Available in: <a href="#%28mod-path._typed%2Fracket%2Fshallow%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket/shallow</span></a>, and <a href="#%28mod-path._typed%2Fracket%2Fbase%2Fshallow%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket/base/shallow</span></a>.</p></li><li><p><a name="(tech._~e5~8f~af~e9~80~89~e7~b1~bb~e5~9e~8b)"></a><span style="font-style: italic">&#21487;&#36873;&#31867;&#22411;</span> &#19981;&#20250;&#24378;&#21046;&#25191;&#34892;&#20219;&#20309;&#19996;&#35199;,&#20063;&#19981;&#20250;&#22686;&#21152;&#36816;&#34892;&#26102;&#38388;&#25104;&#26412;&#12290;
&#36825;&#20123;&#31867;&#22411;&#23545;&#20110;&#22312;&#32534;&#35793;&#26102;&#21457;&#29616;&#31867;&#22411;&#21270;&#20195;&#30721;&#20013;&#30340;&#38169;&#35823;&#24456;&#26377;&#29992;,&#20294;&#23427;&#20204;&#19981;&#33021;&#22312;&#36816;&#34892;&#26102;&#26816;&#27979;&#20132;&#20114;&#38169;&#35823;&#12290;</p><p>Available in: <a href="#%28mod-path._typed%2Fracket%2Foptional%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket/optional</span></a>, and <a href="#%28mod-path._typed%2Fracket%2Fbase%2Foptional%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket/base/optional</span></a>.</p></li></ul><h4 x-source-module="(lib &quot;typed-racket/scribblings/ts-reference.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;交互示例&quot;">8.1<tt>&nbsp;</tt><a name="(part._~e4~ba~a4~e4~ba~92~e7~a4~ba~e4~be~8b)"></a>&#20132;&#20114;&#31034;&#20363;</h4><p>&#19979;&#38754;&#30340;&#20363;&#23376;&#23637;&#31034;&#20102; Deep&#12289;Shallow &#21644; Optional &#22914;&#20309;&#25913;&#21464;&#31867;&#22411;&#30340;&#36816;&#34892;&#26102;&#34892;&#20026;(&#25110;&#32773;&#35828;,&#35821;&#20041;)&#12290;</p><h5 x-source-module="(lib &quot;typed-racket/scribblings/ts-reference.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;检查不可变数据__导入列表&quot;">8.1.1<tt>&nbsp;</tt><a name="(part._~e6~a3~80~e6~9f~a5~e4~b8~8d~e5~8f~af~e5~8f~98~e6~95~b0~e6~8d~ae__~e5~af~bc~e5~85~a5~e5~88~97~e8~a1~a8)"></a>&#26816;&#26597;&#19981;&#21487;&#21464;&#25968;&#25454;: &#23548;&#20837;&#21015;&#34920;</h5><p><div class="SIntrapara">&#24403;&#31867;&#22411;&#21270;&#30340;&#20195;&#30721;&#23548;&#20837;&#19968;&#20010;&#26410;&#31867;&#22411;&#21270;&#30340;&#21015;&#34920;&#26102;:
</div><div class="SIntrapara"><ul><li><p>&#28145;&#23618;&#31867;&#22411;&#22312;&#26410;&#31867;&#22411;&#21270;&#20195;&#30721;&#30340;&#36793;&#30028;&#22788;&#26816;&#26597;&#21015;&#34920;&#30340;&#27599;&#20010;&#20803;&#32032;;</p></li><li><p>&#27973;&#23618;&#31867;&#22411;&#26816;&#26597;&#19968;&#20010;&#21015;&#34920;,&#24403;&#23427;&#20204;&#34987;&#35775;&#38382;&#26102;&#26816;&#26597;&#20803;&#32032;;&#20197;&#21450;</p></li><li><p>&#21487;&#36873;&#31867;&#22411;&#19981;&#26816;&#26597;&#20219;&#20309;&#19996;&#35199;&#12290;</p></li></ul></div></p><p>&#19979;&#38754;&#30340;&#20363;&#23376;&#23548;&#20837;&#20102;&#20989;&#25968; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-%7E3elist%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">string-&gt;list</a></span>, &#23427;&#36820;&#22238;&#19968;&#20010;&#23383;&#31526;&#30340;&#21015;&#34920;,
&#24182;&#20351;&#29992;&#20102;&#19968;&#20010;&#19981;&#27491;&#30830;&#30340;&#31867;&#22411;,&#26399;&#26395;&#19968;&#20010;&#23383;&#31526;&#20018;&#30340;&#21015;&#34920;&#12290;&#28145;&#23618;&#21644;&#27973;&#23618;&#31867;&#22411;&#37117;&#22312;&#26576;&#19968;&#26102;&#21051;&#25429;&#25417;&#21040;&#20102;&#36825;&#20010;&#38169;&#35823;&#12290;
&#21487;&#36873;&#31867;&#22411;&#27809;&#26377;&#25429;&#25417;&#21040;&#36825;&#20010;&#38169;&#35823;&#12290;</p><p>&#28145;&#23618;&#31867;&#22411;&#38459;&#27490;&#19968;&#20010;&#23383;&#31526;&#21015;&#34920;&#36827;&#20837;&#31867;&#22411; <span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Listof%29%29" class="RktStxLink" data-pltdoc="x">Listof</a></span><span class="stt"> </span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="RktPn">)</span> &#30340;&#25171;&#23383;&#20195;&#30721;:</p><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=Module-Syntax.html%23%2528part._hash-lang%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket</span></a><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">or #lang typed/racket/deep</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._require%2Ftyped%29%29" class="RktStxLink" data-pltdoc="x">require/typed</a></span><span class="hspace">&nbsp;</span><span class="RktSym">racket/base</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-%7E3elist%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">string-&gt;list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types-extra..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Listof%29%29" class="RktStxLink" data-pltdoc="x">Listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-%7E3elist%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">string-&gt;list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"racket"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">string-&gt;list: broke its own contract</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">promised: string?</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">produced: #\r</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: an element of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">the range of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(-&gt; any/c (listof string?))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: (interface for string-&gt;list)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: (interface for string-&gt;list)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at: eval:1:0</span></p></td></tr></table></blockquote></div></p><p>&#27973;&#23618;&#31867;&#22411;&#20801;&#35768;&#19968;&#20010;&#23383;&#31526;&#21015;&#34920;&#20855;&#26377;&#31867;&#22411; <span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Listof%29%29" class="RktStxLink" data-pltdoc="x">Listof</a></span><span class="stt"> </span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="RktPn">)</span>, &#20294;&#26159;&#22914;&#26524;&#25171;&#23383;&#20195;&#30721;&#20174;&#21015;&#34920;&#20013;&#35835;&#21462;&#19968;&#20010;&#20803;&#32032;,&#23601;&#20250;&#26816;&#27979;&#20986;&#38169;&#35823;:</p><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=Module-Syntax.html%23%2528part._hash-lang%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="#%28mod-path._typed%2Fracket%2Fshallow%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket/shallow</span></a></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._require%2Ftyped%29%29" class="RktStxLink" data-pltdoc="x">require/typed</a></span><span class="hspace">&nbsp;</span><span class="RktSym">racket/base</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-%7E3elist%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">string-&gt;list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types-extra..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Listof%29%29" class="RktStxLink" data-pltdoc="x">Listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lst</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-%7E3elist%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">string-&gt;list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"racket"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._first%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">first</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lst</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">shape-check: value does not match expected type</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">value: #\r</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">type: String</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">lang: 'typed/racket/shallow</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">src: '(eval 3 0 3 1)</span></p></td></tr></table></blockquote></div></p><p>&#21487;&#36873;&#31867;&#22411;&#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#19981;&#26816;&#27979;&#20219;&#20309;&#38169;&#35823;:</p><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=Module-Syntax.html%23%2528part._hash-lang%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="#%28mod-path._typed%2Fracket%2Foptional%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket/optional</span></a></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._require%2Ftyped%29%29" class="RktStxLink" data-pltdoc="x">require/typed</a></span><span class="hspace">&nbsp;</span><span class="RktSym">racket/base</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-%7E3elist%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">string-&gt;list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types-extra..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Listof%29%29" class="RktStxLink" data-pltdoc="x">Listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lst</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-%7E3elist%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">string-&gt;list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"racket"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._first%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">first</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lst</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">- : String</span></p></td></tr><tr><td><p><span class="RktRes">#\r</span></p></td></tr></table></blockquote></div></p><h5 x-source-module="(lib &quot;typed-racket/scribblings/ts-reference.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;检查可变数据__导入向量&quot;">8.1.2<tt>&nbsp;</tt><a name="(part._~e6~a3~80~e6~9f~a5~e5~8f~af~e5~8f~98~e6~95~b0~e6~8d~ae__~e5~af~bc~e5~85~a5~e5~90~91~e9~87~8f)"></a>&#26816;&#26597;&#21487;&#21464;&#25968;&#25454;: &#23548;&#20837;&#21521;&#37327;</h5><p><div class="SIntrapara">&#24403;&#31867;&#22411;&#21270;&#30340;&#20195;&#30721;&#23548;&#20837;&#19968;&#20010;&#26410;&#31867;&#22411;&#21270;&#30340;&#21521;&#37327;&#26102;:
</div><div class="SIntrapara"><ul><li><p>&#28145;&#23618;&#31867;&#22411;&#23558;&#21521;&#37327;&#21253;&#35065;&#22312;&#19968;&#20010;&#26816;&#26597;&#26410;&#26469;&#35835;&#21644;&#20889;&#30340;&#22865;&#32422;&#20013;;</p></li><li><p>&#27973;&#23618;&#31867;&#22411;&#22312;&#36793;&#30028;&#22788;&#26816;&#26597;&#21521;&#37327;,&#24182;&#22312;&#38656;&#35201;&#26102;&#26816;&#26597;&#20803;&#32032;(&#19982;&#21015;&#34920;&#30456;&#21516;);&#20197;&#21450;</p></li><li><p>&#21487;&#36873;&#31867;&#22411;&#19981;&#26816;&#26597;&#20219;&#20309;&#19996;&#35199;&#12290;</p></li></ul></div></p><p>&#19979;&#38754;&#30340;&#20363;&#23376;&#29992;&#19968;&#20010;&#19981;&#27491;&#30830;&#30340;&#31867;&#22411;&#23548;&#20837; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._make-vector%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">make-vector</a></span> ,&#35813;&#31867;&#22411;&#26399;&#26395;&#19968;&#20010;&#23383;&#31526;&#20018;&#30340;&#21521;&#37327;&#20316;&#20026;&#20854;&#36755;&#20986;&#12290;
 &#24403; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._make-vector%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">make-vector</a></span> &#36820;&#22238;&#19968;&#20010;&#25968;&#23383;&#21521;&#37327;&#26102;,Deep &#21644; Shallow &#31867;&#22411;&#22312;&#20174;&#21521;&#37327;&#20013;&#35835;&#21462;&#26102;&#37117;&#20250;&#25429;&#25417;&#21040;&#36825;&#20010;&#38169;&#35823;&#12290;
 &#21487;&#36873;&#31867;&#22411;&#19981;&#20250;&#25429;&#25417;&#21040;&#36825;&#20010;&#38169;&#35823;&#12290;</p><p><div class="SIntrapara">&#28145;&#24230;&#25429;&#25417;&#19981;&#33391;&#30690;&#37327;&#20803;&#32032;:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=Module-Syntax.html%23%2528part._hash-lang%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket</span></a><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">or #lang typed/racket/deep</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._require%2Ftyped%29%29" class="RktStxLink" data-pltdoc="x">require/typed</a></span><span class="hspace">&nbsp;</span><span class="RktSym">racket/base</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._make-vector%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">make-vector</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types-extra..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Integer%29%29" class="RktStxLink" data-pltdoc="x">Integer</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Vectorof%29%29" class="RktStxLink" data-pltdoc="x">Vectorof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">vec</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._make-vector%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">make-vector</a></span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._vector-ref%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">vector-ref</a></span><span class="hspace">&nbsp;</span><span class="RktSym">vec</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">make-vector: broke its own contract</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">promised: string?</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">produced: 0</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: an element of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">the range of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(-&gt; any/c (vectorof string?))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: (interface for make-vector)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: (interface for make-vector)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at: eval:3:0</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara">&#27973;&#23618;&#25429;&#25417;&#19981;&#33391;&#30690;&#37327;&#20803;&#32032;:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=Module-Syntax.html%23%2528part._hash-lang%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="#%28mod-path._typed%2Fracket%2Fshallow%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket/shallow</span></a></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._require%2Ftyped%29%29" class="RktStxLink" data-pltdoc="x">require/typed</a></span><span class="hspace">&nbsp;</span><span class="RktSym">racket/base</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._make-vector%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">make-vector</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types-extra..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Integer%29%29" class="RktStxLink" data-pltdoc="x">Integer</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Vectorof%29%29" class="RktStxLink" data-pltdoc="x">Vectorof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">vec</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._make-vector%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">make-vector</a></span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._vector-ref%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">vector-ref</a></span><span class="hspace">&nbsp;</span><span class="RktSym">vec</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">shape-check: value does not match expected type</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">value: 0</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">type: String</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">lang: 'typed/racket/shallow</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">src: '(eval 6 0 6 1)</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara">&#21487;&#36873;&#39033;&#19981;&#20250;&#25429;&#25417;&#21040;&#22351;&#30340;&#20803;&#32032;:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=Module-Syntax.html%23%2528part._hash-lang%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="#%28mod-path._typed%2Fracket%2Foptional%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket/optional</span></a></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._require%2Ftyped%29%29" class="RktStxLink" data-pltdoc="x">require/typed</a></span><span class="hspace">&nbsp;</span><span class="RktSym">racket/base</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._make-vector%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">make-vector</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types-extra..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Integer%29%29" class="RktStxLink" data-pltdoc="x">Integer</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Vectorof%29%29" class="RktStxLink" data-pltdoc="x">Vectorof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">vec</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._make-vector%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">make-vector</a></span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._vector-ref%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">vector-ref</a></span><span class="hspace">&nbsp;</span><span class="RktSym">vec</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">- : String</span></p></td></tr><tr><td><p><span class="RktRes">0</span></p></td></tr></table></blockquote></div></p><h5 x-source-module="(lib &quot;typed-racket/scribblings/ts-reference.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;检查跨越多个边界的函数&quot;">8.1.3<tt>&nbsp;</tt><a name="(part._~e6~a3~80~e6~9f~a5~e8~b7~a8~e8~b6~8a~e5~a4~9a~e4~b8~aa~e8~be~b9~e7~95~8c~e7~9a~84~e5~87~bd~e6~95~b0)"></a>&#26816;&#26597;&#36328;&#36234;&#22810;&#20010;&#36793;&#30028;&#30340;&#20989;&#25968;</h5><p>&#28145;&#23618;&#31867;&#22411;&#21487;&#20197;&#26816;&#27979;&#21040;&#19968;&#20123;&#27973;&#23618;&#31867;&#22411;&#25152;&#36951;&#28431;&#30340;&#38169;&#35823;,&#29305;&#21035;&#26159;&#24403;&#19968;&#20010;&#31243;&#24207;&#21253;&#21547;&#22810;&#20010;&#27169;&#22359;&#26102;&#12290;
&#36825;&#26159;&#22240;&#20026;&#31243;&#24207;&#20013;&#30340;&#27599;&#20010;&#27169;&#22359;&#37117;&#21487;&#20197;&#30456;&#20449;&#27599;&#20010; Deep &#31867;&#22411;&#26159;&#19968;&#20010;&#30495;&#23454;&#30340;&#20027;&#24352;,&#20294;&#21482;&#26377;&#23450;&#20041; Shallow &#31867;&#22411;&#30340;&#37027;&#20010;&#27169;&#22359;&#21487;&#20197;&#20381;&#36182;&#36825;&#20010;&#31867;&#22411;&#12290;
 &#31616;&#32780;&#35328;&#20043;,Deep &#31867;&#22411;&#26159; <span class="emph">&#27704;&#20037;&#30340;</span> ,&#32780; Shallow &#31867;&#22411;&#26159; <span class="emph">&#26242;&#26102;&#30340;</span> &#12290;</p><p>&#19979;&#38754;&#30340;&#20363;&#23376;&#20351;&#29992;&#20102;&#19977;&#20010;&#27169;&#22359;&#26469;&#21019;&#36896;&#19968;&#31181;&#24773;&#20917;,&#21363;&#28145;&#23618;&#31867;&#22411;&#25235;&#20303;&#20102;&#19968;&#20010;&#27973;&#23618;&#31867;&#22411;&#25152;&#38169;&#36807;&#30340;&#38169;&#35823;&#12290;
&#39318;&#20808;,&#38750;&#31867;&#22411;&#21270;&#27169;&#22359; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=index.html&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">racket/base</span></a> &#25552;&#20379;&#20102;&#26631;&#20934;&#30340; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">string-length</a></span> &#20989;&#25968;&#12290;
&#31532;&#20108;,&#19968;&#20010;&#31867;&#22411;&#21270;&#30340; <span class="RktVar">interface</span> &#27169;&#22359;&#29992;&#19968;&#20010;&#19981;&#27491;&#30830;&#30340;&#31867;&#22411;&#23548;&#20837; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">string-length</a></span> ,
&#24182;&#37325;&#26032;&#25552;&#20379;&#20102;&#19968;&#20010;&#26032;&#30340;&#21517;&#23383;: <span class="RktSym">strlen</span> &#12290;
&#31532;&#19977;,&#19968;&#20010;&#31867;&#22411;&#21270;&#30340;&#23458;&#25143;&#31471;&#27169;&#22359;&#20197;&#27491;&#30830;&#30340;&#31867;&#22411;&#23548;&#20837; <span class="RktSym">strlen</span> ,&#24182;&#22312;&#19968;&#20010;&#23383;&#31526;&#20018;&#19978;&#35843;&#29992;&#23427;&#12290;</p><p>&#28145;&#23618;&#31867;&#22411;&#22312;&#35843;&#29992; <span class="RktSym">strlen</span> &#26102;&#24341;&#21457;&#20102;&#19968;&#20010;&#38169;&#35823;,&#22240;&#20026;&#25509;&#21475;&#20013;&#30340;&#31867;&#22411;&#19981;&#27491;&#30830;:</p><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=Module-Syntax.html%23%2528part._hash-lang%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket</span></a><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">or #lang typed/racket/deep</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=module.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._module%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">module</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=createinterface.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._interface%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">interface</a></span><span class="hspace">&nbsp;</span><span class="RktSym">typed/racket</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._require%2Ftyped%29%29" class="RktStxLink" data-pltdoc="x">require/typed</a></span><span class="hspace">&nbsp;</span><span class="RktSym">racket/base</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">string-length</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types-extra..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Void%29%29" class="RktStxLink" data-pltdoc="x">Void</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">strlen</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">string-length</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._provide%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">provide</a></span><span class="hspace">&nbsp;</span><span class="RktSym">strlen</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._require%2Ftyped%29%29" class="RktStxLink" data-pltdoc="x">require/typed</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">interface</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">strlen</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types-extra..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Natural%29%29" class="RktStxLink" data-pltdoc="x">Natural</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">strlen</span><span class="hspace">&nbsp;</span><span class="RktVal">"racket"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">string-length: broke its own contract</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">promised: void?</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">produced: 6</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: (-&gt; any/c void?)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: (interface for string-length)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: (interface for string-length)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at: eval:6:0</span></p></td></tr></table></blockquote></div></p><p>&#27973;&#23618;&#31867;&#22411;&#19981;&#20250;&#24341;&#21457;&#38169;&#35823;,&#22240;&#20026;&#25509;&#21475;&#31867;&#22411;&#23545;&#22806;&#23618;&#23458;&#25143;&#27169;&#22359;&#26469;&#35828;&#27809;&#26377;&#34987;&#24378;&#21046;&#25191;&#34892;:</p><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=Module-Syntax.html%23%2528part._hash-lang%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="#%28mod-path._typed%2Fracket%2Fshallow%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket/shallow</span></a></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=module.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._module%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">module</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=createinterface.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._interface%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">interface</a></span><span class="hspace">&nbsp;</span><span class="RktSym">typed/racket/shallow</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._require%2Ftyped%29%29" class="RktStxLink" data-pltdoc="x">require/typed</a></span><span class="hspace">&nbsp;</span><span class="RktSym">racket/base</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">string-length</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types-extra..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Void%29%29" class="RktStxLink" data-pltdoc="x">Void</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">strlen</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">string-length</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._provide%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">provide</a></span><span class="hspace">&nbsp;</span><span class="RktSym">strlen</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._require%2Ftyped%29%29" class="RktStxLink" data-pltdoc="x">require/typed</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">interface</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">strlen</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types-extra..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Natural%29%29" class="RktStxLink" data-pltdoc="x">Natural</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">strlen</span><span class="hspace">&nbsp;</span><span class="RktVal">"racket"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">- : Integer [more precisely: Nonnegative-Integer]</span></p></td></tr><tr><td><p><span class="RktRes">6</span></p></td></tr></table></blockquote></div></p><p>&#21487;&#36873;&#31867;&#22411;&#20063;&#19981;&#20250;&#24341;&#21457;&#38169;&#35823;:</p><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=Module-Syntax.html%23%2528part._hash-lang%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="#%28mod-path._typed%2Fracket%2Foptional%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket/optional</span></a></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=module.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._module%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">module</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=createinterface.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._interface%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">interface</a></span><span class="hspace">&nbsp;</span><span class="RktSym">typed/racket/optional</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._require%2Ftyped%29%29" class="RktStxLink" data-pltdoc="x">require/typed</a></span><span class="hspace">&nbsp;</span><span class="RktSym">racket/base</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">string-length</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types-extra..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Void%29%29" class="RktStxLink" data-pltdoc="x">Void</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">strlen</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">string-length</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._provide%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">provide</a></span><span class="hspace">&nbsp;</span><span class="RktSym">strlen</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._require%2Ftyped%29%29" class="RktStxLink" data-pltdoc="x">require/typed</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">interface</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">strlen</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types-extra..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Natural%29%29" class="RktStxLink" data-pltdoc="x">Natural</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">strlen</span><span class="hspace">&nbsp;</span><span class="RktVal">"racket"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">- : Integer [more precisely: Nonnegative-Integer]</span></p></td></tr><tr><td><p><span class="RktRes">6</span></p></td></tr></table></blockquote></div></p><h4 x-source-module="(lib &quot;typed-racket/scribblings/ts-reference.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;依赖于类型行为的窗体&quot;">8.2<tt>&nbsp;</tt><a name="(part._~e4~be~9d~e8~b5~96~e4~ba~8e~e7~b1~bb~e5~9e~8b~e8~a1~8c~e4~b8~ba~e7~9a~84~e7~aa~97~e4~bd~93)"></a>&#20381;&#36182;&#20110;&#31867;&#22411;&#34892;&#20026;&#30340;&#31383;&#20307;</h4><p>&#19979;&#38754;&#30340; Typed Racket &#34920;&#21333;&#20351;&#29992;&#31867;&#22411;&#26469;&#21019;&#24314;&#36816;&#34892;&#26102;&#26816;&#26597;&#12290;
&#22240;&#27492;,&#23427;&#20204;&#30340;&#34892;&#20026;&#20250;&#26681;&#25454;&#31867;&#22411;&#26159;&#28145;&#23618;&#12289;&#27973;&#23618;&#36824;&#26159;&#21487;&#36873;&#31867;&#22411;&#32780;&#25913;&#21464;&#12290;</p><p>&#22312;&#36825;&#20123;&#34920;&#21333;&#20013;,&#21464;&#21270;&#26159;&#22823;&#33268;&#30456;&#21516;&#30340;&#12290;&#28145;&#23618;&#31867;&#22411;&#20316;&#20026;(&#39640;&#38454;)&#22865;&#32422;&#34987;&#25191;&#34892;,&#27973;&#23618;&#31867;&#22411;&#20316;&#20026; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-guide&amp;rel=typed-untyped-interaction.html%23%2528tech._shape._check%2529&amp;version=8.9" class="techoutside Sq" data-pltdoc="x"><span class="techinside">shape checks</span></a> &#34987;&#25191;&#34892;,
&#32780;&#21487;&#36873;&#31867;&#22411;&#27809;&#26377;&#34987;&#25191;&#34892;&#12290;
 &#38656;&#35201;&#29702;&#35299;&#30340;&#20851;&#38190;&#28857;&#26159; <span class="emph">&#21738;&#20123;</span> &#31867;&#22411;&#22312;&#36816;&#34892;&#26102;&#34987;&#24378;&#21046;&#25191;&#34892;&#12290;</p><ul><li><p><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._require%2Ftyped%29%29" class="RktStxLink" data-pltdoc="x">require/typed</a></span> &#20174;&#21478;&#19968;&#20010;&#27169;&#22359;&#23548;&#20837;&#32465;&#23450;,&#24182;&#23558;&#31867;&#22411;&#38468;&#21152;&#21040;&#32465;&#23450;&#19978;&#12290;
&#38468;&#21152;&#30340;&#31867;&#22411;&#20250;&#34987;&#24378;&#21046;&#25191;&#34892;&#12290;</p></li><li><p><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._cast%29%29" class="RktStxLink" data-pltdoc="x">cast</a></span> &#23558;&#19968;&#20010;&#31867;&#22411;&#20998;&#37197;&#32473;&#19968;&#20010;&#34920;&#36798;&#24335;&#12290;&#25351;&#23450;&#30340;&#31867;&#22411;&#34987;&#24378;&#21046;&#25191;&#34892;&#12290;</p></li><li><p><span class="RktSym"><a href="Typed_Regions.html#%28form._%28%28lib._typed-racket%2Ftyped-racket..rkt%29._with-type%29%29" class="RktStxLink" data-pltdoc="x">with-type</a></span> &#22312;&#38750;&#31867;&#22411;&#21270;&#20195;&#30721;&#20013;&#21019;&#24314;&#19968;&#20010;&#31867;&#22411;&#21270;&#21306;&#22495;&#12290;
&#22312;&#36825;&#20010;&#21306;&#22495;&#21644;&#38750;&#31867;&#22411;&#21270;&#20195;&#30721;&#30340;&#36793;&#30028;&#19978;&#30340;&#31867;&#22411;&#34987;&#25191;&#34892;&#12290;</p></li></ul><p>&#20197;&#19979;&#24418;&#24335;&#20462;&#25913;&#20102; Deep Typed Racket &#29983;&#25104;&#30340;&#22865;&#32422;&#12290;
 &#36825;&#20123;&#24418;&#24335;&#30340;&#20351;&#29992;&#21487;&#33021;&#38656;&#35201;&#25913;&#21464;&#20197;&#36866;&#24212; Shallow &#21644; Optional &#23458;&#25143;&#31471;</p><ul><li><p><span class="RktSym"><a href="Utilities.html#%28form._%28%28lib._typed%2Funtyped-utils..rkt%29._require%2Funtyped-contract%29%29" class="RktStxLink" data-pltdoc="x">require/untyped-contract</a></span> &#23558;&#19968;&#20010;&#26631;&#35782;&#31526;&#20174;&#28145;&#31867;&#22411;&#20195;&#30721;&#24102;&#21040;&#26410;&#31867;&#22411;&#20195;&#30721;,&#20351;&#29992;&#20854;&#23454;&#38469;&#31867;&#22411;&#30340;&#19968;&#20010;&#23376;&#31867;&#22411;&#12290;
&#22914;&#26524;&#34987;&#35201;&#27714;&#30340;&#26631;&#35782;&#31526;&#20174;&#26410;&#31867;&#22411;&#21270;&#30340;&#20195;&#30721;&#21040;&#19968;&#20010;&#27973;&#23618;&#25110;&#21487;&#36873;&#23458;&#25143;&#31471;,&#36825;&#20010;&#23458;&#25143;&#31471;&#24517;&#39035;&#20351;&#29992;&#23376;&#31867;&#22411;&#12290;
 &#28145;&#23618;&#23458;&#25143;&#31471;&#23558;&#33021;&#22815;&#20351;&#29992;&#27491;&#24120;&#31867;&#22411;&#12290;</p></li><li><p><span class="RktSym"><a href="Utilities.html#%28form._%28%28lib._typed%2Funtyped-utils..rkt%29._define-typed%2Funtyped-identifier%29%29" class="RktStxLink" data-pltdoc="x">define-typed/untyped-identifier</a></span>
&#25509;&#21463;&#22235;&#20010;&#26631;&#35782;&#31526;&#26469;&#24494;&#35843;&#23427;&#23545; Deep&#12289;untyped&#12289;Shallow &#21644; Optional &#23458;&#25143;&#31471;&#30340;&#34892;&#20026;&#12290;</p></li></ul><h5 x-source-module="(lib &quot;typed-racket/scribblings/ts-reference.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;示例__深层_浅层和可选的投递&quot;">8.2.1<tt>&nbsp;</tt><a name="(part._~e7~a4~ba~e4~be~8b__~e6~b7~b1~e5~b1~82_~e6~b5~85~e5~b1~82~e5~92~8c~e5~8f~af~e9~80~89~e7~9a~84~e6~8a~95~e9~80~92)"></a>&#31034;&#20363;&#65306; &#28145;&#23618;&#12289;&#27973;&#23618;&#21644;&#21487;&#36873;&#30340;&#25237;&#36882;</h5><p>&#20030;&#19968;&#20010;&#20381;&#36182;&#20110;&#31867;&#22411;&#34892;&#20026;&#30340;&#20363;&#23376;,
<span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._cast%29%29" class="RktStxLink" data-pltdoc="x">cast</a></span> &#22312; Deep &#27169;&#24335;&#19979;&#26816;&#26597;&#23436;&#25972;&#30340;&#31867;&#22411;,&#22312; Shallow &#27169;&#24335;&#19979;&#26816;&#26597;&#24418;&#29366;,&#32780;&#22312; Optional &#27169;&#24335;&#19979;&#19981;&#26816;&#26597;&#20219;&#20309;&#19996;&#35199;&#12290;</p><p><div class="SIntrapara">Deep&#26816;&#27979;&#21040;&#19968;&#20010;&#22351;&#30340;&#38136;&#20214;:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">#lang typed/racket</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">or #lang typed/racket/deep</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._cast%29%29" class="RktStxLink" data-pltdoc="x">cast</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">42</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Listof%29%29" class="RktStxLink" data-pltdoc="x">Listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">broke its own contract</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">promised: string?</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">produced: 42</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: an element of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(listof string?)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: cast</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: cast</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at: eval:9:0</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara">&#27973;&#23618;&#20801;&#35768;&#19968;&#27425;&#31967;&#31957;&#30340;&#25237;&#25527;,&#20294;&#20250;&#26816;&#27979;&#21040;&#19968;&#27425;&#24418;&#29366;&#32423;&#30340;&#25237;&#25527;:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">#lang typed/racket/shallow</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._cast%29%29" class="RktStxLink" data-pltdoc="x">cast</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">42</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Listof%29%29" class="RktStxLink" data-pltdoc="x">Listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">- : (Listof String)</span></p></td></tr><tr><td><p><span class="RktRes">'(42)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._cast%29%29" class="RktStxLink" data-pltdoc="x">cast</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">42</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Number%29%29" class="RktStxLink" data-pltdoc="x">Number</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">shape-check: value does not match expected type</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">value: '(42)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">type: Number</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">lang: 'typed/racket/shallow</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">src: '(eval 11 0 11 1)</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara">&#21487;&#36873;&#25321;&#24615;&#22320;&#35753;&#20219;&#20309;&#26045;&#27861;&#25104;&#21151;:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">#lang typed/racket/optional</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._cast%29%29" class="RktStxLink" data-pltdoc="x">cast</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">42</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Listof%29%29" class="RktStxLink" data-pltdoc="x">Listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">- : (Listof String)</span></p></td></tr><tr><td><p><span class="RktRes">'(42)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="special-forms.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fprims..rkt%29._cast%29%29" class="RktStxLink" data-pltdoc="x">cast</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">42</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Number%29%29" class="RktStxLink" data-pltdoc="x">Number</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">- : Number</span></p></td></tr><tr><td><p><span class="RktRes">'(42)</span></p></td></tr></table></blockquote></div></p><h4 x-source-module="(lib &quot;typed-racket/scribblings/ts-reference.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;how-to-choose&quot;">8.3<tt>&nbsp;</tt><a name="(part._how-to-choose)"></a>&#22914;&#20309;&#22312; Deep, Shallow &#21644; Optional &#20043;&#38388;&#36827;&#34892;&#36873;&#25321;</h4><p>&#28145;&#23618;&#12289;&#27973;&#23618;&#21644;&#21487;&#36873;&#31867;&#22411;&#26377;&#20114;&#34917;&#30340;&#20248;&#21183;&#21644;&#21155;&#21183;&#12290;
&#28145;&#31867;&#22411;&#25552;&#20379;&#20102;&#24378;&#22823;&#30340;&#31867;&#22411;&#20445;&#35777;,&#24182;&#33021;&#23454;&#29616;&#23436;&#20840;&#30340;&#31867;&#22411;&#23450;&#21521;&#20248;&#21270;,&#20294;&#22312;&#36793;&#30028;&#22788;&#21487;&#33021;&#35201;&#20184;&#20986;&#39640;&#26114;&#30340;&#20195;&#20215;&#12290;&#29305;&#21035;&#26159;,&#39640;&#38454;&#31867;&#22411;&#30340;&#25104;&#26412;&#24456;&#39640;&#12290;
 &#20363;&#23376;&#21253;&#25324; <span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Hash.Table%29%29" class="RktStxLink" data-pltdoc="x">HashTable</a></span>, <span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types-extra..rkt%29._-~3e%2A%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span>*</a></span> &#21644; <span class="RktSym"><a href="____.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types-extra..rkt%29._.Object%29%29" class="RktStxLink" data-pltdoc="x">Object</a></span> &#12290;
 &#27973;&#23618;&#31867;&#22411;&#25552;&#20379;&#20102;&#24369;&#30340;&#20445;&#35777;,&#20294;&#25104;&#26412;&#36739;&#20302;&#12290;
&#23545;&#20110;&#35768;&#22810;&#31867;&#22411;,&#21253;&#25324; <span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Hash.Table%29%29" class="RktStxLink" data-pltdoc="x">HashTable</a></span> &#21644; <span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types-extra..rkt%29._-~3e%2A%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span>*</a></span>,
&#25104;&#26412;&#26159;&#24658;&#23450;&#30340;,&#23545;&#20110;&#20854;&#20182;&#19968;&#20123;&#31867;&#22411;,&#22914; <span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.U%29%29" class="RktStxLink" data-pltdoc="x">U</a></span> &#21644; <span class="RktSym"><a href="____.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types-extra..rkt%29._.Object%29%29" class="RktStxLink" data-pltdoc="x">Object</a></span> ,&#25104;&#26412;&#26159;&#32447;&#24615;&#30340;&#12290;
&#21487;&#36873;&#31867;&#22411;&#19981;&#25552;&#20379;&#20219;&#20309;&#20445;&#35777;,&#20294;&#27809;&#26377;&#25104;&#26412;&#12290;</p><p>&#22522;&#20110;&#36825;&#20123;&#26435;&#34913;,&#26412;&#33410;&#25552;&#20379;&#20102;&#19968;&#20123;&#20851;&#20110;&#20309;&#26102;&#36873;&#25321;&#19968;&#31181;&#39118;&#26684;&#32780;&#19981;&#26159;&#20854;&#20182;&#39118;&#26684;&#30340;&#24314;&#35758;&#12290;</p><h5 x-source-module="(lib &quot;typed-racket/scribblings/ts-reference.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;何时使用深层类型&quot;">8.3.1<tt>&nbsp;</tt><a name="(part._~e4~bd~95~e6~97~b6~e4~bd~bf~e7~94~a8~e6~b7~b1~e5~b1~82~e7~b1~bb~e5~9e~8b)"></a>&#20309;&#26102;&#20351;&#29992;&#28145;&#23618;&#31867;&#22411;</h5><p>&#22312;&#19979;&#21015;&#24773;&#20917;&#19979;,&#28145;&#31867;&#22411;&#26159;&#26368;&#22909;&#30340;:</p><ul><li><p>&#23545;&#20110;&#22823;&#22359;&#30340;&#31867;&#22411;&#21270;&#20195;&#30721;,&#20197;&#20805;&#20998;&#21033;&#29992;&#27599;&#20010;&#22359;&#20869;&#30340;&#31867;&#22411;&#23548;&#21521;&#20248;&#21270;&#12290;</p></li><li><p>&#23545;&#20110;&#32039;&#23494;&#36830;&#25509;&#30340;&#31867;&#22411;&#21270;&#27169;&#22359;&#32452;,&#22240;&#20026;&#28145;&#23618;&#31867;&#22411;&#19981;&#38656;&#35201;&#25903;&#20184;&#25104;&#26412;&#23601;&#21487;&#20197;&#30456;&#20114;&#20316;&#29992;&#12290;</p></li><li><p>&#23545;&#20110;&#37027;&#20123;&#20320;&#24076;&#26395;&#31867;&#22411;&#34987;&#23436;&#20840;&#25191;&#34892;&#30340;&#27169;&#22359;,&#20063;&#35768;&#26159;&#20026;&#20102;&#39044;&#27979;&#31867;&#22411;-&#38750;&#31867;&#22411;&#20132;&#20114;&#30340;&#34892;&#20026;,&#25110;&#32773;&#20026;&#20102;&#35843;&#35797;&#12290;</p></li></ul><h5 x-source-module="(lib &quot;typed-racket/scribblings/ts-reference.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;何时使用浅层类型&quot;">8.3.2<tt>&nbsp;</tt><a name="(part._~e4~bd~95~e6~97~b6~e4~bd~bf~e7~94~a8~e6~b5~85~e5~b1~82~e7~b1~bb~e5~9e~8b)"></a>&#20309;&#26102;&#20351;&#29992;&#27973;&#23618;&#31867;&#22411;</h5><p>&#22312;&#20197;&#19979;&#24773;&#20917;&#19979;,&#27973;&#31867;&#22411;&#26159;&#26368;&#22909;&#30340;</p><ul><li><p>&#23545;&#20110;&#32463;&#24120;&#19982;&#38750;&#31867;&#22411;&#21270;&#20195;&#30721;&#20132;&#20114;&#30340;&#31867;&#22411;&#21270;&#20195;&#30721;,&#29305;&#21035;&#26159;&#24403;&#23427;&#36328;&#36793;&#30028;&#21457;&#36865;&#22823;&#30340;&#19981;&#21487;&#21464;&#30340;&#20540;&#25110;&#39640;&#38454;&#20540;(&#21521;&#37327;&#12289;&#20989;&#25968;&#31561;)&#26102;&#12290;</p></li><li><p>&#23545;&#20110;&#20027;&#35201;&#20351;&#29992;&#22522;&#26412;&#20540;(&#25968;&#23383;&#12289;&#23383;&#31526;&#20018;&#31561;)&#25110;&#21333;&#24577;&#25968;&#25454;&#32467;&#26500;&#30340;&#22823;&#22411;&#31867;&#22411;&#21270;&#20195;&#30721;&#22359;&#12290;
&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;,Shallow &#31867;&#22411;&#21487;&#20197;&#24471;&#21040;&#31867;&#22411;&#23450;&#21521;&#20248;&#21270;&#30340;&#20840;&#37096;&#22909;&#22788;,&#32780;&#19988;&#36816;&#34892;&#26102;&#25104;&#26412;&#24456;&#23569;&#12290;</p></li><li><p>&#23545;&#20110; Deep &#25191;&#34892;(&#36890;&#36807;&#21512;&#21516;)&#36807;&#20110;&#20005;&#26684;&#30340;&#36793;&#30028;&#12290;
&#20363;&#22914;,Deep &#20195;&#30721;&#27704;&#36828;&#19981;&#33021;&#35843;&#29992;&#19968;&#20010;&#20855;&#26377; <span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Procedure%29%29" class="RktStxLink" data-pltdoc="x">Procedure</a></span> &#31867;&#22411;&#30340;&#20989;&#25968;,&#20294;Shallow&#21487;&#20197;&#22312;&#36716;&#25442;&#21518;&#35843;&#29992;&#12290;</p></li><li><p>&#23545;&#20110;Deep&#19981;&#33021;&#23558;&#31867;&#22411;&#36716;&#25442;&#20026;&#22865;&#32422;&#30340;&#36793;&#30028;,&#20363;&#22914;&#23545;&#20110;&#39640;&#38454;&#35821;&#27861;&#23545;&#35937;,&#22914; <span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Syntaxof%29%29" class="RktStxLink" data-pltdoc="x">Syntaxof</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Boxof%29%29" class="RktStxLink" data-pltdoc="x">Boxof</a></span><span class="stt"> </span><span class="RktSym"><a href="type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Real%29%29" class="RktStxLink" data-pltdoc="x">Real</a></span><span class="RktPn">)</span><span class="RktPn">)</span> &#12290;</p></li></ul><h5 x-source-module="(lib &quot;typed-racket/scribblings/ts-reference.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;何时使用可选类型&quot;">8.3.3<tt>&nbsp;</tt><a name="(part._~e4~bd~95~e6~97~b6~e4~bd~bf~e7~94~a8~e5~8f~af~e9~80~89~e7~b1~bb~e5~9e~8b)"></a>&#20309;&#26102;&#20351;&#29992;&#21487;&#36873;&#31867;&#22411;</h5><p>&#21487;&#36873;&#31867;&#22411;&#22312;&#20197;&#19979;&#24773;&#20917;&#19979;&#26159;&#26368;&#22909;&#30340;:</p><ul><li><p>&#23545;&#20110;&#38656;&#35201;&#39044;&#27979;&#24615;&#33021;&#30340;&#31867;&#22411;&#21040;&#38750;&#31867;&#22411;&#30340;&#36801;&#31227;,&#22240;&#20026;&#19968;&#20010; Optional &#31867;&#22411;&#30340;&#31243;&#24207;&#30340;&#34892;&#20026;&#23601;&#20687;&#19968;&#20010;&#24573;&#30053;&#20102;&#25152;&#26377;&#31867;&#22411;&#30340;Racket&#31243;&#24207;&#12290;</p></li><li><p>&#23545;&#20110; Deep &#21644; Shallow &#37117;&#26080;&#27861;&#34920;&#36798;&#30340;&#36793;&#30028;&#12290;
&#20363;&#22914;,&#21482;&#26377; Optional &#21487;&#20197;&#22312;&#19968;&#20010;&#36793;&#30028;&#20351;&#29992;&#21457;&#29983;&#31867;&#22411;&#12290;</p></li><li><p>&#29992;&#20110;&#21407;&#22411;&#35774;&#35745;;&#20063;&#23601;&#26159;&#35828;,&#29992;&#20110;&#27979;&#35797;&#19968;&#20010;&#24819;&#27861;&#26159;&#21542;&#21487;&#20197;&#36827;&#34892;&#31867;&#22411;&#26816;&#26597;,&#32780;&#19981;&#38656;&#35201;&#27979;&#35797;&#23427;&#26159;&#21542;&#19982;&#26410;&#31867;&#22411;&#21270;&#30340;&#20195;&#30721;&#26377;&#33391;&#22909;&#30340;&#20132;&#20114;&#12290;</p></li></ul><h5 x-source-module="(lib &quot;typed-racket/scribblings/ts-reference.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;一般提示&quot;">8.3.4<tt>&nbsp;</tt><a name="(part._~e4~b8~80~e8~88~ac~e6~8f~90~e7~a4~ba)"></a>&#19968;&#33324;&#25552;&#31034;</h5><ul><li><p>Deep&#12289;Shallow &#21644; Optional &#20351;&#29992;&#30456;&#21516;&#30340;&#32534;&#35793;&#26102;&#31867;&#22411;&#26816;&#26597;,
&#22240;&#27492;&#23558;&#19968;&#20010;&#27169;&#22359;&#20174;&#19968;&#31181;&#39118;&#26684;&#20999;&#25442;&#21040;&#21478;&#19968;&#31181;&#39118;&#26684;&#36890;&#24120;&#21482;&#38656;&#25913;&#21464;&#19968;&#34892;(&#21040; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=Module-Syntax.html%23%2528part._hash-lang%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a> &#34892;)&#12290;</p></li><li><p>&#24403;&#25226; Racket &#31243;&#24207;&#36716;&#25442;&#20026; Typed Racket &#26102;,&#39318;&#20808;&#23581;&#35797; Deep &#31867;&#22411;,
&#22914;&#26524;&#36816;&#34892;&#26102;&#30340;&#24615;&#33021;&#25104;&#20026;&#29942;&#39048;(&#25110;&#32773;,&#22914;&#26524;&#22865;&#32422;&#21253;&#35013;&#22120;&#24341;&#36215;&#20102;&#27491;&#30830;&#24615;&#38382;&#39064;),&#23601;&#25913;&#25104; Shallow &#31867;&#22411;&#12290;</p></li></ul><h4 x-source-module="(lib &quot;typed-racket/scribblings/ts-reference.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;逐步类型化的相关工作&quot;">8.4<tt>&nbsp;</tt><a name="(part._~e9~80~90~e6~ad~a5~e7~b1~bb~e5~9e~8b~e5~8c~96~e7~9a~84~e7~9b~b8~e5~85~b3~e5~b7~a5~e4~bd~9c)"></a>&#36880;&#27493;&#31867;&#22411;&#21270;&#30340;&#30456;&#20851;&#24037;&#20316;</h4><p>Shallow Typed Racket &#23454;&#29616;&#20102;&#28176;&#36827;&#24335;&#35821;&#35328;&#30340; <span class="emph">Transient</span> &#35821;&#20041; [<a href="tr-bibliography.html#%28cite._.Programming-2022%29" data-pltdoc="x">Programming-2022</a>, <a href="tr-bibliography.html#%28cite._.P.L.D.I-2022%29" data-pltdoc="x">PLDI-2022</a>],
&#23427;&#26159;&#30001; Michael M. Vitousek &#21457;&#26126;&#30340; [<a href="tr-bibliography.html#%28cite._.R.P~3a.D.L.S-2014%29" data-pltdoc="x">RP:DLS-2014</a>, <a href="tr-bibliography.html#%28cite._.R.P~3a.P.O.P.L-2017%29" data-pltdoc="x">RP:POPL-2017</a>, <a href="tr-bibliography.html#%28cite._.R.P~3a.Vitousek-2019%29" data-pltdoc="x">RP:Vitousek-2019</a>, <a href="tr-bibliography.html#%28cite._.R.P~3a.D.L.S-2019%29" data-pltdoc="x">RP:DLS-2019</a>] &#12290;
Transient &#36890;&#36807;&#37325;&#20889;&#20195;&#30721;&#26469;&#20445;&#25252;&#31867;&#22411;&#21270;&#30340;&#20195;&#30721;,&#27599;&#24403;&#23427;&#35843;&#29992;&#19968;&#20010;&#20989;&#25968;,&#20174;&#19968;&#20010;&#25968;&#25454;&#32467;&#26500;&#20013;&#35835;&#21462;,
&#25110;&#20197;&#20854;&#20182;&#26041;&#24335;&#25509;&#25910;&#21487;&#33021;&#26469;&#33258;&#38750;&#31867;&#22411;&#21270;&#26469;&#28304;&#30340;&#36755;&#20837;&#26102;,&#23427;&#23601;&#20250;&#38450;&#24481;&#24615;&#22320;&#26816;&#26597;&#20540;&#30340;&#24418;&#29366;&#12290;
&#30001;&#20110;&#37325;&#20889;,Transient &#33021;&#22815;&#22312;&#27809;&#26377;&#39640;&#38454;&#22865;&#32422;&#30340;&#24773;&#20917;&#19979;&#25191;&#34892;&#31867;&#22411;&#20581;&#20840;&#24615;&#12290;</p><p>Deep Typed Racket &#23454;&#29616;&#20102;&#28176;&#36827;&#24335;&#35821;&#35328;&#30340;&#26631;&#20934;&#35821;&#20041;,&#23427;&#34987;&#31216;&#20026; Guarded [<a href="tr-bibliography.html#%28cite._.R.P~3a.P.O.P.L-2017%29" data-pltdoc="x">RP:POPL-2017</a>],
Natural [<a href="tr-bibliography.html#%28cite._.T.O.P.L.A.S-2009%29" data-pltdoc="x">TOPLAS-2009</a>] &#21644; Behavioral [<a href="tr-bibliography.html#%28cite._.Kaf.Ka-2018%29" data-pltdoc="x">KafKa-2018</a>] &#12290;
&#36825;&#31181; <span class="emph">Guarded</span> &#35821;&#20041;&#22312;&#21487;&#33021;&#30340;&#24773;&#20917;&#19979;&#24613;&#20999;&#22320;&#26816;&#26597;&#26410;&#31867;&#22411;&#21270;&#30340;&#20540;,&#21542;&#21017;&#20250;&#21019;&#24314;&#21253;&#35013;&#22120;&#26469;&#25512;&#36831;&#26816;&#26597;&#12290;</p><p>Typed Racket &#20351;&#29992; &ldquo;Shallow&rdquo; &#21644; &ldquo;Deep&rdquo; &#30340;&#21517;&#23383;,&#32780;&#19981;&#26159; &ldquo;Transient&rdquo; &#21644; &ldquo;Guarded&rdquo; &#65292;
&#20197;&#24378;&#35843;&#36825;&#31181;&#31867;&#22411;&#25552;&#20379;&#30340;&#20445;&#35777;,&#32780;&#19981;&#26159;&#29992;&#26469;&#23454;&#29616;&#36825;&#20123;&#20445;&#35777;&#30340;&#26041;&#27861;&#12290;
&#27973;&#23618;&#31867;&#22411;&#25552;&#20379;&#31867;&#22411;&#20581;&#20840;&#24615;&#20445;&#35777;;&#28145;&#23618;&#31867;&#22411;&#25552;&#20379;&#31867;&#22411;&#20581;&#20840;&#24615;&#21644;&#23436;&#20840;&#30417;&#25511; [<a href="tr-bibliography.html#%28cite._.O.O.P.S.L.A-2019%29" data-pltdoc="x">OOPSLA-2019</a>].</p><p>&#21487;&#36873;&#31867;&#22411;&#26159;&#19968;&#31181;&#34987;&#24191;&#27867;&#20351;&#29992;&#30340;&#36880;&#27493;&#31867;&#22411;&#21270;&#30340;&#26041;&#27861;,&#23613;&#31649;&#23427;&#20204;&#23545;&#31867;&#22411;&#21270;-&#38750;&#31867;&#22411;&#21270;&#20132;&#20114;&#30340;&#25903;&#25345;&#19981;&#20581;&#20840;&#12290;
 &#21487;&#36873;&#31867;&#22411;&#30340;&#35821;&#35328;&#21253;&#25324;&#20197;&#19979;&#20960;&#31181;:
<a href="https://www.typescriptlang.org">TypeScript</a>,
<a href="https://flow.org">Flow</a>,
<a href="http://mypy-lang.org">mypy</a>,
&#21644; Typed Clojure [<a href="tr-bibliography.html#%28cite._.E.S.O.P-2016%29" data-pltdoc="x">ESOP-2016</a>, <a href="tr-bibliography.html#%28cite._.Bonnaire-.Sergeant-2019%29" data-pltdoc="x">Bonnaire-Sergeant-2019</a>] &#12290;</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.9&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.9&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Exploring_Types.html" title="backward to &quot;7 Exploring Types&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Typed Racket 参考&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="________Typed_Racket___.html" title="forward to &quot;9 没有类型检查的 Typed Racket 语法&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>