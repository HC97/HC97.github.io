<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>13.1.10&nbsp;更多的端口构造器、程序和事件</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="extras.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Racket &#21442;&#32771;</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="model.html" class="tocviewlink" data-pltdoc="x">&#35821;&#35328;&#27169;&#22411;</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="notation.html" class="tocviewlink" data-pltdoc="x">&#25991;&#26723;&#30340;&#31526;&#21495;</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="syntax.html" class="tocviewlink" data-pltdoc="x">&#21477;&#27861;&#24418;&#24335;</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="data.html" class="tocviewlink" data-pltdoc="x">&#25968;&#25454;&#31867;&#22411;</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="structures.html" class="tocviewlink" data-pltdoc="x">&#32467;&#26500;</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="mzlib_class.html" class="tocviewlink" data-pltdoc="x">Classes and Objects</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="mzlib_unit.html" class="tocviewlink" data-pltdoc="x">&#21333;&#20301;</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="contracts.html" class="tocviewlink" data-pltdoc="x">Contracts</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="match.html" class="tocviewlink" data-pltdoc="x">&#27169;&#24335;&#21305;&#37197;</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="control.html" class="tocviewlink" data-pltdoc="x">Control Flow</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="concurrency.html" class="tocviewlink" data-pltdoc="x">Concurrency and Parallelism</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="Macros.html" class="tocviewlink" data-pltdoc="x">Macros</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="input-and-output.html" class="tocviewselflink" data-pltdoc="x">&#36755;&#20837;&#21644;&#36755;&#20986;</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="security.html" class="tocviewlink" data-pltdoc="x">Reflection and Security</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="os.html" class="tocviewlink" data-pltdoc="x">&#25805;&#20316;&#31995;&#32479;</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="memory.html" class="tocviewlink" data-pltdoc="x">&#20869;&#23384;&#31649;&#29702;</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="unsafe.html" class="tocviewlink" data-pltdoc="x">&#19981;&#23433;&#20840;&#30340;&#25805;&#20316;</a></td></tr><tr><td align="right">18&nbsp;</td><td><a href="running.html" class="tocviewlink" data-pltdoc="x">&#36816;&#34892; Racket</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" data-pltdoc="x">Bibliography</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>13&nbsp;</td><td><a href="input-and-output.html" class="tocviewlink" data-pltdoc="x">&#36755;&#20837;&#21644;&#36755;&#20986;</a></td></tr></table><div class="tocviewsublist" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">13.1&nbsp;</td><td><a href="ports.html" class="tocviewselflink" data-pltdoc="x">&#31471;&#21475;</a></td></tr><tr><td align="right">13.2&nbsp;</td><td><a href="Byte_and_String_Input.html" class="tocviewlink" data-pltdoc="x">Byte and String Input</a></td></tr><tr><td align="right">13.3&nbsp;</td><td><a href="Byte_and_String_Output.html" class="tocviewlink" data-pltdoc="x">Byte and String Output</a></td></tr><tr><td align="right">13.4&nbsp;</td><td><a href="Reading.html" class="tocviewlink" data-pltdoc="x">Reading</a></td></tr><tr><td align="right">13.5&nbsp;</td><td><a href="Writing.html" class="tocviewlink" data-pltdoc="x">Writing</a></td></tr><tr><td align="right">13.6&nbsp;</td><td><a href="pretty-print.html" class="tocviewlink" data-pltdoc="x">&#28418;&#20142;&#30340;&#25171;&#21360;</a></td></tr><tr><td align="right">13.7&nbsp;</td><td><a href="Reader_Extension.html" class="tocviewlink" data-pltdoc="x">Reader Extension</a></td></tr><tr><td align="right">13.8&nbsp;</td><td><a href="Printer_Extension.html" class="tocviewlink" data-pltdoc="x">Printer Extension</a></td></tr><tr><td align="right">13.9&nbsp;</td><td><a href="serialization.html" class="tocviewlink" data-pltdoc="x">Serialization</a></td></tr><tr><td align="right">13.10&nbsp;</td><td><a href="fasl.html" class="tocviewlink" data-pltdoc="x">Fast-<wbr></wbr>Load Serialization</a></td></tr><tr><td align="right">13.11&nbsp;</td><td><a href="sha.html" class="tocviewlink" data-pltdoc="x">Cryptographic Hashing</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9660;</a></td><td>13.1&nbsp;</td><td><a href="ports.html" class="tocviewlink" data-pltdoc="x">&#31471;&#21475;</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">13.1.1&nbsp;</td><td><a href="encodings.html" class="tocviewlink" data-pltdoc="x">&#32534;&#30721;&#21644;&#22320;&#22495;</a></td></tr><tr><td align="right">13.1.2&nbsp;</td><td><a href="port-ops.html" class="tocviewlink" data-pltdoc="x">&#31649;&#29702;&#31471;&#21475;</a></td></tr><tr><td align="right">13.1.3&nbsp;</td><td><a href="port-buffers.html" class="tocviewlink" data-pltdoc="x">&#31471;&#21475;&#32531;&#20914;&#21306;&#21644;&#20301;&#32622;</a></td></tr><tr><td align="right">13.1.4&nbsp;</td><td><a href="linecol.html" class="tocviewlink" data-pltdoc="x">&#35745;&#31639;&#20301;&#32622;&#12289;&#34892;&#21644;&#21015;</a></td></tr><tr><td align="right">13.1.5&nbsp;</td><td><a href="file-ports.html" class="tocviewlink" data-pltdoc="x">&#25991;&#20214;&#31471;&#21475;</a></td></tr><tr><td align="right">13.1.6&nbsp;</td><td><a href="stringport.html" class="tocviewlink" data-pltdoc="x">&#23383;&#31526;&#20018;&#31471;&#21475;</a></td></tr><tr><td align="right">13.1.7&nbsp;</td><td><a href="pipeports.html" class="tocviewlink" data-pltdoc="x">&#31649;&#36947;</a></td></tr><tr><td align="right">13.1.8&nbsp;</td><td><a href="portstructs.html" class="tocviewlink" data-pltdoc="x">Structures as Ports</a></td></tr><tr><td align="right">13.1.9&nbsp;</td><td><a href="customport.html" class="tocviewlink" data-pltdoc="x">Custom Ports</a></td></tr><tr><td align="right">13.1.10&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">&#26356;&#22810;&#30340;&#31471;&#21475;&#26500;&#36896;&#22120;&#12289;&#31243;&#24207;&#21644;&#20107;&#20214;</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_3&quot;);">&#9658;</a></td><td>13.1.10&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">&#26356;&#22810;&#30340;&#31471;&#21475;&#26500;&#36896;&#22120;&#12289;&#31243;&#24207;&#21644;&#20107;&#20214;</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_3"><table cellspacing="0" cellpadding="0"><tr><td align="right">13.1.10.1&nbsp;</td><td><a href="#%28part._~e7~ab~af~e5~8f~a3~e5~ad~97~e7~ac~a6~e4~b8~b2~e5~92~8c~e5~88~97~e8~a1~a8~e7~9a~84~e8~bd~ac~e6~8d~a2%29" class="tocviewlink" data-pltdoc="x">&#31471;&#21475;&#23383;&#31526;&#20018;&#21644;&#21015;&#34920;&#30340;&#36716;&#25442;</a></td></tr><tr><td align="right">13.1.10.2&nbsp;</td><td><a href="#%28part._~e5~88~9b~e5~bb~ba~e7~ab~af~e5~8f~a3%29" class="tocviewlink" data-pltdoc="x">&#21019;&#24314;&#31471;&#21475;</a></td></tr><tr><td align="right">13.1.10.3&nbsp;</td><td><a href="#%28part._~e7~ab~af~e5~8f~a3~e4~ba~8b~e4~bb~b6%29" class="tocviewlink" data-pltdoc="x">&#31471;&#21475;&#20107;&#20214;</a></td></tr><tr><td align="right">13.1.10.4&nbsp;</td><td><a href="#%28part._~e5~a4~8d~e5~88~b6~e6~b5~81%29" class="tocviewlink" data-pltdoc="x">&#22797;&#21046;&#27969;</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">13.1.10.1<tt>&nbsp;</tt></span><a href="#%28part._~e7~ab~af~e5~8f~a3~e5~ad~97~e7~ac~a6~e4~b8~b2~e5~92~8c~e5~88~97~e8~a1~a8~e7~9a~84~e8~bd~ac~e6~8d~a2%29" class="tocsubseclink" data-pltdoc="x">&#31471;&#21475;&#23383;&#31526;&#20018;&#21644;&#21015;&#34920;&#30340;&#36716;&#25442;</a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._port-~3elist%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">port-<wbr></wbr>&gt;list</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._port-~3estring%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">port-<wbr></wbr>&gt;string</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._port-~3ebytes%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">port-<wbr></wbr>&gt;bytes</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._port-~3elines%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">port-<wbr></wbr>&gt;lines</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._port-~3ebytes-lines%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">port-<wbr></wbr>&gt;bytes-<wbr></wbr>lines</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._display-lines%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">display-<wbr></wbr>lines</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._call-with-output-string%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">call-<wbr></wbr>with-<wbr></wbr>output-<wbr></wbr>string</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._call-with-output-bytes%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">call-<wbr></wbr>with-<wbr></wbr>output-<wbr></wbr>bytes</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._with-output-to-string%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">with-<wbr></wbr>output-<wbr></wbr>to-<wbr></wbr>string</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._with-output-to-bytes%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">with-<wbr></wbr>output-<wbr></wbr>to-<wbr></wbr>bytes</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._call-with-input-string%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">call-<wbr></wbr>with-<wbr></wbr>input-<wbr></wbr>string</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._call-with-input-bytes%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">call-<wbr></wbr>with-<wbr></wbr>input-<wbr></wbr>bytes</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._with-input-from-string%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">with-<wbr></wbr>input-<wbr></wbr>from-<wbr></wbr>string</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._with-input-from-bytes%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">with-<wbr></wbr>input-<wbr></wbr>from-<wbr></wbr>bytes</span></span></a></td></tr><tr><td><span class="tocsublinknumber">13.1.10.2<tt>&nbsp;</tt></span><a href="#%28part._~e5~88~9b~e5~bb~ba~e7~ab~af~e5~8f~a3%29" class="tocsubseclink" data-pltdoc="x">&#21019;&#24314;&#31471;&#21475;</a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._input-port-append%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">input-<wbr></wbr>port-<wbr></wbr>append</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._make-input-port%2Fread-to-peek%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>input-<wbr></wbr>port/<span class="mywbr"> &nbsp;</span>read-<wbr></wbr>to-<wbr></wbr>peek</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._make-limited-input-port%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>limited-<wbr></wbr>input-<wbr></wbr>port</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._make-pipe-with-specials%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>pipe-<wbr></wbr>with-<wbr></wbr>specials</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._combine-output%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">combine-<wbr></wbr>output</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._merge-input%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">merge-<wbr></wbr>input</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._open-output-nowhere%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">open-<wbr></wbr>output-<wbr></wbr>nowhere</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._peeking-input-port%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">peeking-<wbr></wbr>input-<wbr></wbr>port</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._reencode-input-port%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">reencode-<wbr></wbr>input-<wbr></wbr>port</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._reencode-output-port%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">reencode-<wbr></wbr>output-<wbr></wbr>port</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._dup-input-port%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">dup-<wbr></wbr>input-<wbr></wbr>port</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._dup-output-port%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">dup-<wbr></wbr>output-<wbr></wbr>port</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._relocate-input-port%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">relocate-<wbr></wbr>input-<wbr></wbr>port</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._relocate-output-port%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">relocate-<wbr></wbr>output-<wbr></wbr>port</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._transplant-input-port%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">transplant-<wbr></wbr>input-<wbr></wbr>port</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._transplant-output-port%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">transplant-<wbr></wbr>output-<wbr></wbr>port</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._filter-read-input-port%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">filter-<wbr></wbr>read-<wbr></wbr>input-<wbr></wbr>port</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._special-filter-input-port%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">special-<wbr></wbr>filter-<wbr></wbr>input-<wbr></wbr>port</span></span></a></td></tr><tr><td><span class="tocsublinknumber">13.1.10.3<tt>&nbsp;</tt></span><a href="#%28part._~e7~ab~af~e5~8f~a3~e4~ba~8b~e4~bb~b6%29" class="tocsubseclink" data-pltdoc="x">&#31471;&#21475;&#20107;&#20214;</a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._eof-evt%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">eof-<wbr></wbr>evt</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._read-bytes-evt%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">read-<wbr></wbr>bytes-<wbr></wbr>evt</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._read-bytes%21-evt%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">read-<wbr></wbr>bytes!-<wbr></wbr>evt</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._read-bytes-avail%21-evt%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">read-<wbr></wbr>bytes-<wbr></wbr>avail!-<wbr></wbr>evt</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._read-string-evt%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">read-<wbr></wbr>string-<wbr></wbr>evt</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._read-string%21-evt%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">read-<wbr></wbr>string!-<wbr></wbr>evt</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._read-line-evt%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">read-<wbr></wbr>line-<wbr></wbr>evt</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._read-bytes-line-evt%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">read-<wbr></wbr>bytes-<wbr></wbr>line-<wbr></wbr>evt</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._peek-bytes-evt%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">peek-<wbr></wbr>bytes-<wbr></wbr>evt</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._peek-bytes%21-evt%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">peek-<wbr></wbr>bytes!-<wbr></wbr>evt</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._peek-bytes-avail%21-evt%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">peek-<wbr></wbr>bytes-<wbr></wbr>avail!-<wbr></wbr>evt</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._peek-string-evt%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">peek-<wbr></wbr>string-<wbr></wbr>evt</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._peek-string%21-evt%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">peek-<wbr></wbr>string!-<wbr></wbr>evt</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._regexp-match-evt%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">regexp-<wbr></wbr>match-<wbr></wbr>evt</span></span></a></td></tr><tr><td><span class="tocsublinknumber">13.1.10.4<tt>&nbsp;</tt></span><a href="#%28part._~e5~a4~8d~e5~88~b6~e6~b5~81%29" class="tocsubseclink" data-pltdoc="x">&#22797;&#21046;&#27969;</a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._convert-stream%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">convert-<wbr></wbr>stream</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._copy-port%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">copy-<wbr></wbr>port</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.9&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.9&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="customport.html" title="backward to &quot;13.1.9 Custom Ports&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="ports.html" title="up to &quot;13.1 端口&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Byte_and_String_Input.html" title="forward to &quot;13.2 Byte and String Input&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h5 x-source-module="(lib &quot;scribblings/reference/reference.scrbl&quot;)" x-source-pkg="racket-doc" x-part-tag="&quot;port-lib&quot;">13.1.10<tt>&nbsp;</tt><a name="(part._port-lib)"></a><a name="(mod-path._racket/port)"></a>&#26356;&#22810;&#30340;&#31471;&#21475;&#26500;&#36896;&#22120;&#12289;&#31243;&#24207;&#21644;&#20107;&#20214;</h5><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">racket/port</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/base" title="Install this package using `raco pkg install base`"><span class="stt">base</span></a></span></td></tr></table></div><div class="SIntrapara">The bindings documented in this section are provided by the <a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">racket/port</span></a> and <a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">racket</span></a> libraries, but not <a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">racket/base</span></a>.</div></p><h5 x-source-module="(lib &quot;scribblings/reference/reference.scrbl&quot;)" x-source-pkg="racket-doc" x-part-tag="&quot;端口字符串和列表的转换&quot;">13.1.10.1<tt>&nbsp;</tt><a name="(part._~e7~ab~af~e5~8f~a3~e5~ad~97~e7~ac~a6~e4~b8~b2~e5~92~8c~e5~88~97~e8~a1~a8~e7~9a~84~e8~bd~ac~e6~8d~a2)"></a>&#31471;&#21475;&#23383;&#31526;&#20018;&#21644;&#21015;&#34920;&#30340;&#36716;&#25442;</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._port-~3elist))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._port-~3elist%29%29" class="RktValDef RktValLink" data-pltdoc="x">port-&gt;list</a></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Reading.html#%28def._%28%28quote._~23~25kernel%29._read%29%29" class="RktValLink" data-pltdoc="x">read</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._current-input-port%29%29" class="RktValLink" data-pltdoc="x">current-input-port</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">&#36820;&#22238;&#19968;&#20010;&#21015;&#34920;,&#20854;&#20803;&#32032;&#26159;&#36890;&#36807;&#23545; <span class="RktVar">in</span> &#35843;&#29992; <span class="RktVar">r</span> &#20135;&#29983;&#30340;,&#30452;&#21040;&#20135;&#29983; <span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._eof%29%29" class="RktValLink" data-pltdoc="x">eof</a></span> &#12290;</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">read-number</span><span class="hspace">&nbsp;</span><span class="RktSym">input-port</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">char</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Byte_and_String_Input.html#%28def._%28%28quote._~23~25kernel%29._read-char%29%29" class="RktValLink" data-pltdoc="x">read-char</a></span><span class="hspace">&nbsp;</span><span class="RktSym">input-port</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._eof-object~3f%29%29" class="RktValLink" data-pltdoc="x">eof-object?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">char</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym">char</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._string-~3enumber%29%29" class="RktValLink" data-pltdoc="x">string-&gt;number</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="strings.html#%28def._%28%28quote._~23~25kernel%29._string%29%29" class="RktValLink" data-pltdoc="x">string</a></span><span class="hspace">&nbsp;</span><span class="RktSym">char</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._port-~3elist%29%29" class="RktValLink" data-pltdoc="x">port-&gt;list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">read-number</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stringport.html#%28def._%28%28quote._~23~25kernel%29._open-input-string%29%29" class="RktValLink" data-pltdoc="x">open-input-string</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"12345"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(1 2 3 4 5)</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._port-~3estring))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._port-~3estring%29%29" class="RktValDef RktValLink" data-pltdoc="x">port-&gt;string</a></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span><span class="RktPn">#:close?</span><span class="hspace">&nbsp;</span><span class="RktVar">close?</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._current-input-port%29%29" class="RktValLink" data-pltdoc="x">current-input-port</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">close?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">&#20174; <span class="RktVar">in</span> &#20013;&#35835;&#21462;&#25152;&#26377;&#30340;&#23383;&#31526;,&#24182;&#23558;&#20854;&#20316;&#20026;&#19968;&#20010;&#23383;&#31526;&#20018;&#36820;&#22238;&#12290;
 &#36755;&#20837;&#31471;&#21475;&#34987;&#20851;&#38381;,&#38500;&#38750; <span class="RktVar">close?</span> &#26159; <span class="RktVal">#f</span> &#12290;</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._port-~3estring%29%29" class="RktValLink" data-pltdoc="x">port-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stringport.html#%28def._%28%28quote._~23~25kernel%29._open-input-string%29%29" class="RktValLink" data-pltdoc="x">open-input-string</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"hello world"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"hello world"</span></p></td></tr></table></blockquote></div></p><p class="SHistory">Changed in version 6.8.0.2 of package <span class="stt">base</span>: &#22686;&#21152;&#20102; <span class="RktPn">#:close?</span> &#21442;&#25968;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._port-~3ebytes))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._port-~3ebytes%29%29" class="RktValDef RktValLink" data-pltdoc="x">port-&gt;bytes</a></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span><span class="RktPn">#:close?</span><span class="hspace">&nbsp;</span><span class="RktVar">close?</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._current-input-port%29%29" class="RktValLink" data-pltdoc="x">current-input-port</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">close?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">&#20174; <span class="RktVar">in</span> &#20013;&#35835;&#21462;&#25152;&#26377;&#30340;&#23383;&#33410;,&#24182;&#23558;&#20854;&#20316;&#20026;&#19968;&#20010; <a href="bytestrings.html#%28tech._byte._string%29" class="techoutside" data-pltdoc="x"><span class="techinside">byte string</span></a> &#36820;&#22238;&#12290;
 &#38500;&#38750; <span class="RktVar">close?</span> &#26159; <span class="RktVal">#f</span> ,&#21542;&#21017;&#36755;&#20837;&#31471;&#21475;&#23558;&#34987;&#20851;&#38381;&#12290;</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._port-~3ebytes%29%29" class="RktValLink" data-pltdoc="x">port-&gt;bytes</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stringport.html#%28def._%28%28quote._~23~25kernel%29._open-input-string%29%29" class="RktValLink" data-pltdoc="x">open-input-string</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"hello world"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#"hello world"</span></p></td></tr></table></blockquote></div></p><p class="SHistory">Changed in version 6.8.0.2 of package <span class="stt">base</span>: &#22686;&#21152;&#20102; <span class="RktPn">#:close?</span> &#21442;&#25968;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._port-~3elines))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._port-~3elines%29%29" class="RktValDef RktValLink" data-pltdoc="x">port-&gt;lines</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">in</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:line-mode</span><span class="hspace">&nbsp;</span><span class="RktVar">line-mode</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:close?</span><span class="hspace">&nbsp;</span><span class="RktVar">close?</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._current-input-port%29%29" class="RktValLink" data-pltdoc="x">current-input-port</a></span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">line-mode</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">linefeed</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">return</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">return-linefeed</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">any</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">any-one</span><span class="RktPn">)</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">'</span><span class="RktVal">any</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">close?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">&#20174; <span class="RktVar">in</span> &#20013;&#35835;&#21462;&#25152;&#26377;&#23383;&#31526;,&#24182;&#23558;&#23427;&#20204;&#20998;&#25104;&#20960;&#34892;&#12290;
<span class="RktVar">line-mode</span> &#21442;&#25968;&#19982; <span class="RktSym"><a href="Byte_and_String_Input.html#%28def._%28%28quote._~23~25kernel%29._read-line%29%29" class="RktValLink" data-pltdoc="x">read-line</a></span> &#30340;&#31532;&#20108;&#20010;&#21442;&#25968;&#30456;&#21516;,
 &#20294;&#40664;&#35748;&#26159; <span class="RktVal">'</span><span class="RktVal">any</span> &#32780;&#19981;&#26159; <span class="RktVal">'</span><span class="RktVal">linefeed</span> &#12290;
 &#36755;&#20837;&#31471;&#21475;&#34987;&#20851;&#38381;,&#38500;&#38750; <span class="RktVar">close?</span> &#26159; <span class="RktVal">#f</span> &#12290;</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._port-~3elines%29%29" class="RktValLink" data-pltdoc="x">port-&gt;lines</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stringport.html#%28def._%28%28quote._~23~25kernel%29._open-input-string%29%29" class="RktValLink" data-pltdoc="x">open-input-string</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"line 1\nline 2\n</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">line 3\nline 4"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'("line 1" "line 2" "</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">line 3" "line 4")</span></p></td></tr></table></blockquote></div></p><p class="SHistory">Changed in version 6.8.0.2 of package <span class="stt">base</span>: &#22686;&#21152;&#20102; <span class="RktPn">#:close?</span> &#21442;&#25968;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._port-~3ebytes-lines))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._port-~3ebytes-lines%29%29" class="RktValDef RktValLink" data-pltdoc="x">port-&gt;bytes-lines</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">in</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:line-mode</span><span class="hspace">&nbsp;</span><span class="RktVar">line-mode</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:close?</span><span class="hspace">&nbsp;</span><span class="RktVar">close?</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._current-input-port%29%29" class="RktValLink" data-pltdoc="x">current-input-port</a></span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">line-mode</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">linefeed</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">return</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">return-linefeed</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">any</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">any-one</span><span class="RktPn">)</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">'</span><span class="RktVal">any</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">close?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">&#21644; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._port-~3elines%29%29" class="RktValLink" data-pltdoc="x">port-&gt;lines</a></span> &#19968;&#26679;, &#20294;&#26159;&#35835;&#21462;&#23383;&#33410;&#24182;&#23558;&#23427;&#20204;&#25910;&#38598;&#21040;&#34892;&#20013;, &#23601;&#20687; <span class="RktSym"><a href="Byte_and_String_Input.html#%28def._%28%28quote._~23~25kernel%29._read-bytes-line%29%29" class="RktValLink" data-pltdoc="x">read-bytes-line</a></span> &#12290;
&#38500;&#38750; <span class="RktVar">close?</span> &#26159; <span class="RktVal">#f</span> ,&#21542;&#21017;&#36755;&#20837;&#31471;&#21475;&#23558;&#34987;&#20851;&#38381;&#12290;</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._port-~3ebytes-lines%29%29" class="RktValLink" data-pltdoc="x">port-&gt;bytes-lines</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stringport.html#%28def._%28%28quote._~23~25kernel%29._open-input-string%29%29" class="RktValLink" data-pltdoc="x">open-input-string</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"line 1\nline 2\n</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">line 3\nline 4"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(#"line 1" #"line 2" #"</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">line 3" #"line 4")</span></p></td></tr></table></blockquote></div></p><p class="SHistory">Changed in version 6.8.0.2 of package <span class="stt">base</span>: &#22686;&#21152;&#20102; <span class="RktPn">#:close?</span> &#21442;&#25968;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._display-lines))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._display-lines%29%29" class="RktValDef RktValLink" data-pltdoc="x">display-lines</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lst</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">out</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:separator</span><span class="hspace">&nbsp;</span><span class="RktVar">separator</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="pairs.html#%28def._%28%28quote._~23~25kernel%29._list~3f%29%29" class="RktValLink" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._current-output-port%29%29" class="RktValLink" data-pltdoc="x">current-output-port</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">separator</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#"\n"</span></td></tr></table></blockquote></div><div class="SIntrapara">&#22312; <span class="RktVar">lst</span> &#30340;&#27599;&#20010;&#20803;&#32032;&#19978;&#20351;&#29992; <span class="RktSym"><a href="Writing.html#%28def._%28%28quote._~23~25kernel%29._display%29%29" class="RktValLink" data-pltdoc="x">display</a></span> &#21040; <span class="RktVar">out</span>, &#22312;&#27599;&#20010;&#20803;&#32032;&#21518;&#28155;&#21152; <span class="RktVar">separator</span> &#12290;</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._call-with-output-string))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._call-with-output-string%29%29" class="RktValDef RktValLink" data-pltdoc="x">call-with-output-string</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">&#29992;&#19968;&#20010;&#36755;&#20986;&#31471;&#21475;&#35843;&#29992; <span class="RktVar">proc</span> ,&#23558;&#25152;&#26377;&#36755;&#20986;&#32047;&#31215;&#25104;&#19968;&#20010;&#23383;&#31526;&#20018;,&#24182;&#36820;&#22238;&#35813;&#23383;&#31526;&#20018;&#12290;</div></p><p>&#20256;&#36882;&#32473; <span class="RktVar">proc</span> &#30340;&#31471;&#21475;&#19982; <span class="RktSym"><a href="stringport.html#%28def._%28%28quote._~23~25kernel%29._open-output-string%29%29" class="RktValLink" data-pltdoc="x">open-output-string</a></span> &#21019;&#24314;&#30340;&#31471;&#21475;&#19968;&#26679;,
 &#21482;&#26159;&#36890;&#36807; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._dup-output-port%29%29" class="RktValLink" data-pltdoc="x">dup-output-port</a></span> &#36827;&#34892;&#20102;&#21253;&#35013;,
 &#22240;&#27492; <span class="RktVar">proc</span> &#26080;&#27861;&#20351;&#29992; <span class="RktSym"><a href="stringport.html#%28def._%28%28quote._~23~25kernel%29._get-output-string%29%29" class="RktValLink" data-pltdoc="x">get-output-string</a></span> &#35775;&#38382;&#31471;&#21475;&#30340;&#20869;&#23481;&#12290;
&#22914;&#26524;&#25511;&#21046;&#26435;&#36339;&#22238; <span class="RktVar">proc</span>, &#21017;&#31471;&#21475;&#20250;&#32487;&#32493;&#31215;&#32047;&#26032;&#30340;&#25968;&#25454;,
 &#32780; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._call-with-output-string%29%29" class="RktValLink" data-pltdoc="x">call-with-output-string</a></span> &#20250;&#21516;&#26102;&#36820;&#22238;&#26087;&#25968;&#25454;&#21644;&#26032;&#31215;&#32047;&#30340;&#25968;&#25454;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._call-with-output-bytes))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._call-with-output-bytes%29%29" class="RktValDef RktValLink" data-pltdoc="x">call-with-output-bytes</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">&#23601;&#20687; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._call-with-output-string%29%29" class="RktValLink" data-pltdoc="x">call-with-output-string</a></span> &#19968;&#26679;,&#20294;&#26159;&#23558;&#32047;&#31215;&#30340;&#32467;&#26524;&#20197; <a href="bytestrings.html#%28tech._byte._string%29" class="techoutside" data-pltdoc="x"><span class="techinside">byte string</span></a> &#32780;&#19981;&#26159;&#23383;&#31526;&#20018;&#30340;&#24418;&#24335;&#36820;&#22238;&#12290;
&#27492;&#22806;,&#24403; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._call-with-output-bytes%29%29" class="RktValLink" data-pltdoc="x">call-with-output-bytes</a></span> &#36820;&#22238;&#26102;,&#31471;&#21475;&#30340;&#20869;&#23481;&#34987;&#28165;&#31354;,
 &#22240;&#27492;&#22914;&#26524;&#25511;&#21046;&#36339;&#22238; <span class="RktVar">proc</span> &#24182;&#31532;&#20108;&#27425;&#36820;&#22238;&#26102;,&#21482;&#36820;&#22238;&#26032;&#31215;&#32047;&#30340;&#23383;&#33410;&#12290;</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._with-output-to-string))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._with-output-to-string%29%29" class="RktValDef RktValLink" data-pltdoc="x">with-output-to-string</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">&#30456;&#24403;&#20110;</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._call-with-output-string%29%29" class="RktValLink" data-pltdoc="x">call-with-output-string</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._lambda%29%29" class="RktStxLink" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="parameters.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._parameterize%29%29" class="RktStxLink" data-pltdoc="x">parameterize</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._current-output-port%29%29" class="RktValLink" data-pltdoc="x">current-output-port</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._with-output-to-bytes))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._with-output-to-bytes%29%29" class="RktValDef RktValLink" data-pltdoc="x">with-output-to-bytes</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">&#30456;&#24403;&#20110;</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._call-with-output-bytes%29%29" class="RktValLink" data-pltdoc="x">call-with-output-bytes</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._lambda%29%29" class="RktStxLink" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="parameters.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._parameterize%29%29" class="RktStxLink" data-pltdoc="x">parameterize</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._current-output-port%29%29" class="RktValLink" data-pltdoc="x">current-output-port</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._call-with-input-string))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._call-with-input-string%29%29" class="RktValDef RktValLink" data-pltdoc="x">call-with-input-string</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">str</span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">str</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">&#30456;&#24403;&#20110; <span class="RktPn">(</span><span class="RktVar">proc</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="stringport.html#%28def._%28%28quote._~23~25kernel%29._open-input-string%29%29" class="RktValLink" data-pltdoc="x">open-input-string</a></span><span class="stt"> </span><span class="RktVar">str</span><span class="RktPn">)</span><span class="RktPn">)</span> &#12290;</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._call-with-input-bytes))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._call-with-input-bytes%29%29" class="RktValDef RktValLink" data-pltdoc="x">call-with-input-bytes</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">bstr</span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">bstr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">&#30456;&#24403;&#20110; <span class="RktPn">(</span><span class="RktVar">proc</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="stringport.html#%28def._%28%28quote._~23~25kernel%29._open-input-bytes%29%29" class="RktValLink" data-pltdoc="x">open-input-bytes</a></span><span class="stt"> </span><span class="RktVar">bstr</span><span class="RktPn">)</span><span class="RktPn">)</span> &#12290;</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._with-input-from-string))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._with-input-from-string%29%29" class="RktValDef RktValLink" data-pltdoc="x">with-input-from-string</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">str</span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">str</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">&#30456;&#24403;&#20110;</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="parameters.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._parameterize%29%29" class="RktStxLink" data-pltdoc="x">parameterize</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._current-input-port%29%29" class="RktValLink" data-pltdoc="x">current-input-port</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stringport.html#%28def._%28%28quote._~23~25kernel%29._open-input-string%29%29" class="RktValLink" data-pltdoc="x">open-input-string</a></span><span class="hspace">&nbsp;</span><span class="RktVar">str</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._with-input-from-bytes))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._with-input-from-bytes%29%29" class="RktValDef RktValLink" data-pltdoc="x">with-input-from-bytes</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">bstr</span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">bstr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">&#30456;&#24403;&#20110;</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="parameters.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._parameterize%29%29" class="RktStxLink" data-pltdoc="x">parameterize</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._current-input-port%29%29" class="RktValLink" data-pltdoc="x">current-input-port</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stringport.html#%28def._%28%28quote._~23~25kernel%29._open-input-bytes%29%29" class="RktValLink" data-pltdoc="x">open-input-bytes</a></span><span class="hspace">&nbsp;</span><span class="RktSym">str</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><h5 x-source-module="(lib &quot;scribblings/reference/reference.scrbl&quot;)" x-source-pkg="racket-doc" x-part-tag="&quot;创建端口&quot;">13.1.10.2<tt>&nbsp;</tt><a name="(part._~e5~88~9b~e5~bb~ba~e7~ab~af~e5~8f~a3)"></a>&#21019;&#24314;&#31471;&#21475;</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._input-port-append))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._input-port-append%29%29" class="RktValDef RktValLink" data-pltdoc="x">input-port-append</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">close-at-eof?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">in</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">close-at-eof?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="inspectors.html#%28def._%28%28quote._~23~25kernel%29._object-name%29%29" class="RktValLink" data-pltdoc="x">object-name</a></span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">&#25509;&#21463;&#20219;&#24847;&#25968;&#37327;&#30340;&#36755;&#20837;&#31471;&#21475;&#24182;&#36820;&#22238;&#19968;&#20010;&#36755;&#20837;&#31471;&#21475;&#12290;&#20174;&#36755;&#20837;&#31471;&#21475;&#35835;&#20986;&#30340;&#23383;&#33410;(&#21644;&#29305;&#27530;&#30340;&#38750;&#23383;&#33410;&#20540;)&#20250;&#20381;&#27425;&#20174;&#32473;&#23450;&#30340;&#36755;&#20837;&#31471;&#21475;&#20013;&#25277;&#21462;&#12290;
&#22914;&#26524; <span class="RktVar">close-at-eof?</span> &#20026;&#30495;,&#37027;&#20040;&#24403;&#20174;&#35813;&#31471;&#21475;&#36935;&#21040;&#25991;&#20214;&#32467;&#26463;&#26102;,&#25110;&#32773;&#24403;&#32467;&#26524;&#36755;&#20837;&#31471;&#21475;&#34987;&#20851;&#38381;&#26102;,&#27599;&#20010;&#31471;&#21475;&#37117;&#34987;&#20851;&#38381;&#12290;
 &#21542;&#21017;,&#27809;&#26377;&#20174;&#36820;&#22238;&#30340;&#36755;&#20837;&#31471;&#21475;&#35835;&#21462;&#30340;&#25968;&#25454;&#20173;&#28982;&#21487;&#20197;&#22312;&#20854;&#21407;&#26469;&#30340;&#36755;&#20837;&#31471;&#21475;&#35835;&#21462;&#12290;</div></p><p><span class="RktVar">name</span> &#21442;&#25968;&#20915;&#23450;&#20102;&#30001; <span class="RktSym"><a href="inspectors.html#%28def._%28%28quote._~23~25kernel%29._object-name%29%29" class="RktValLink" data-pltdoc="x">object-name</a></span> &#25253;&#21578;&#30340;&#36820;&#22238;&#36755;&#20837;&#31471;&#21475;&#30340;&#21517;&#31216;&#12290;</p><p>&#20063;&#35831;&#21442;&#35265; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._merge-input%29%29" class="RktValLink" data-pltdoc="x">merge-input</a></span>, &#23427;&#21487;&#20197;&#22312;&#22810;&#20010;&#36755;&#20837;&#31471;&#21475;&#30340;&#25968;&#25454;&#21487;&#29992;&#26102;&#20132;&#32455;&#22312;&#19968;&#36215;&#12290;</p><p class="SHistory">Changed in version 6.90.0.19 of package <span class="stt">base</span>: &#22686;&#21152;&#20102; <span class="RktVar">name</span> &#21442;&#25968;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._make-input-port/read-to-peek))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._make-input-port%2Fread-to-peek%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-input-port/read-to-peek</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">read-in</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">fast-peek</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">close</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">get-location</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">count-lines!</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">init-position</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">buffer-mode</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">buffering?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">on-consumed</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">read-in</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._eof-object~3f%29%29" class="RktValLink" data-pltdoc="x">eof-object?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="procedures.html#%28def._%28%28quote._~23~25kernel%29._procedure~3f%29%29" class="RktValLink" data-pltdoc="x">procedure?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">fast-peek</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._eof-object~3f%29%29" class="RktValLink" data-pltdoc="x">eof-object?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="procedures.html#%28def._%28%28quote._~23~25kernel%29._procedure~3f%29%29" class="RktValLink" data-pltdoc="x">procedure?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._eof-object~3f%29%29" class="RktValLink" data-pltdoc="x">eof-object?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="procedures.html#%28def._%28%28quote._~23~25kernel%29._procedure~3f%29%29" class="RktValLink" data-pltdoc="x">procedure?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">close</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">get-location</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="values.html#%28def._%28%28quote._~23~25kernel%29._values%29%29" class="RktValLink" data-pltdoc="x">values</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-positive-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-positive-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-positive-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-positive-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">#f</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">count-lines!</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="void.html#%28def._%28%28quote._~23~25kernel%29._void%29%29" class="RktValLink" data-pltdoc="x">void</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">init-position</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-positive-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-positive-integer?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">1</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">buffer-mode</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._case-~3e%29%29" class="RktStxLink" data-pltdoc="x">case-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">block</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">none</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">block</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">none</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">#f</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">buffering?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">on-consumed</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._eof-object~3f%29%29" class="RktValLink" data-pltdoc="x">eof-object?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="procedures.html#%28def._%28%28quote._~23~25kernel%29._procedure~3f%29%29" class="RktValLink" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">#f</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">&#19982; <span class="RktSym"><a href="customport.html#%28def._%28%28quote._~23~25kernel%29._make-input-port%29%29" class="RktValLink" data-pltdoc="x">make-input-port</a></span> &#31867;&#20284;,&#20294;&#26159;&#22914;&#26524;&#32473;&#23450;&#30340; <span class="RktVar">read-in</span> &#36820;&#22238;&#19968;&#20010;&#20107;&#20214;,
 &#37027;&#20040;&#35813;&#20107;&#20214;&#30340;&#20540;&#24517;&#39035;&#26159; <span class="RktVal">0</span> &#12290;
 &#30001;&#27492;&#20135;&#29983;&#30340;&#31471;&#21475;&#30340; peek &#25805;&#20316;&#34987;&#33258;&#21160;&#23454;&#29616;(&#23601; <span class="RktVar">read-in</span> &#32780;&#35328;),&#21487;&#20197;&#22788;&#29702;&#29305;&#27530;&#30340;&#38750;&#23383;&#33410;&#20540;&#12290;
 progress-event &#21644; commit &#25805;&#20316;&#20063;&#26159;&#33258;&#21160;&#23454;&#29616;&#30340;&#12290;
 &#30001;&#27492;&#20135;&#29983;&#30340;&#31471;&#21475;&#26159;&#32447;&#31243;&#23433;&#20840;&#30340;,&#20294;&#19981;&#26159;&#26432;&#25134;&#23433;&#20840;&#30340;(&#20063;&#23601;&#26159;&#35828;,&#22914;&#26524;&#19968;&#20010;&#32447;&#31243;&#22312;&#20351;&#29992;&#35813;&#31471;&#21475;&#26102;&#34987;&#32456;&#27490;&#25110;&#26242;&#20572;,&#35813;&#31471;&#21475;&#21487;&#33021;&#20250;&#34987;&#25439;&#22351;)&#12290;</div></p><p><span class="RktVar">read-in</span>, <span class="RktVar">close</span>, <span class="RktVar">get-location</span>,
<span class="RktVar">count-lines!</span>, <span class="RktVar">init-position</span> &#21644;
<span class="RktVar">buffer-mode</span> &#31243;&#24207;&#19982; <span class="RktSym"><a href="customport.html#%28def._%28%28quote._~23~25kernel%29._make-input-port%29%29" class="RktValLink" data-pltdoc="x">make-input-port</a></span> &#30456;&#21516;&#12290;</p><p><span class="RktVar">fast-peek</span> &#21442;&#25968;&#21487;&#20197;&#26159; <span class="RktVal">#f</span> ,&#20063;&#21487;&#20197;&#26159;&#19968;&#20010;&#21253;&#21547;&#19977;&#20010;&#21442;&#25968;&#30340;&#36807;&#31243;:
 &#19968;&#20010;&#25509;&#25910;peek&#30340;&#23383;&#33410;&#23383;&#31526;&#20018;,&#19968;&#20010;&#36339;&#36807;&#30340;&#35745;&#25968;,&#20197;&#21450;&#19968;&#20010;&#21253;&#21547;&#20004;&#20010;&#21442;&#25968;&#30340;&#36807;&#31243;&#12290;
 <span class="RktVar">fast-peek</span> &#36807;&#31243;&#21487;&#20197;&#23454;&#29616;&#35831;&#27714;&#30340;&#20599;&#30475;,&#20063;&#21487;&#20197;&#27966;&#21457;&#32473;&#23427;&#30340;&#31532;&#19977;&#20010;&#21442;&#25968;&#26469;&#23454;&#29616;&#20599;&#30475;&#12290;
 &#24403;&#19968;&#20010;&#31397;&#35270;&#35831;&#27714;&#26377;&#19968;&#20010;&#30456;&#20851;&#30340;&#36827;&#24230;&#20107;&#20214;&#26102;, <span class="RktVar">fast-peek</span> &#19981;&#34987;&#20351;&#29992;&#12290;</p><p><span class="RktVar">buffering?</span> &#21442;&#25968;&#20915;&#23450;&#20102;&#26159;&#21542;&#21487;&#20197;&#35843;&#29992; <span class="RktVar">read-in</span> &#26469;&#35835;&#21462;&#27604;&#26032;&#31471;&#21475;&#30340;&#29992;&#25143;&#31435;&#21363;&#35201;&#27714;&#30340;&#26356;&#22810;&#30340;&#23383;&#31526;&#12290;
&#22914;&#26524; <span class="RktVar">buffer-mode</span> &#19981;&#26159; <span class="RktVal">#f</span>,
&#37027;&#20040; <span class="RktVar">buffering?</span> &#20915;&#23450;&#20102;&#21021;&#22987;&#30340;&#32531;&#20914;&#27169;&#24335;,&#21482;&#26377;&#24403;&#26032;&#27169;&#24335;&#26159; <span class="RktVal">'</span><span class="RktVal">block</span> &#26102;,
 <span class="RktVar">buffering?</span> &#25165;&#20250;&#22312;&#32531;&#20914;&#25913;&#21464;&#21518;&#34987;&#21551;&#29992;&#12290;</p><p>&#22914;&#26524; <span class="RktVar">on-consumed</span> &#19981;&#26159; <span class="RktVal">#f</span>, &#37027;&#20040;&#24403;&#25968;&#25454;&#20174;&#31471;&#21475;&#35835;&#21462;(&#25110;&#25552;&#20132;)&#26102;,&#23427;&#23601;&#20250;&#34987;&#35843;&#29992;,&#32780;&#19981;&#26159;&#20165;&#20165;&#34987;&#20599;&#30475;&#12290;
<span class="RktVar">on-consumed</span> &#30340;&#21442;&#25968;&#26159; port &#35835;&#21462;&#36807;&#31243;&#30340;&#32467;&#26524;&#20540;, &#22240;&#27492;&#23427;&#21487;&#20197;&#26159;&#19968;&#20010;&#25972;&#25968;&#25110;&#20219;&#20309; <span class="RktVar">read-in</span> &#30340;&#32467;&#26524;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._make-limited-input-port))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._make-limited-input-port%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-limited-input-port</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">in</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">limit</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">close-orig?</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">limit</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">close-orig?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara">&#36820;&#22238;&#19968;&#20010;&#31471;&#21475;,&#20854;&#20869;&#23481;&#26469;&#33258; <span class="RktVar">in</span>, &#20294;&#22312;&#35835;&#23436; <span class="RktVar">limit</span> &#23383;&#33410;(&#21644;&#38750;&#23383;&#33410;&#30340;&#29305;&#27530;&#20540;)&#20043;&#21518;,&#20250;&#25253;&#21578;&#25991;&#20214;&#32467;&#26463;&#12290;
 &#22914;&#26524; <span class="RktVar">close-orig?</span> &#20026; true,&#37027;&#20040;&#22914;&#26524;&#36820;&#22238;&#30340;&#31471;&#21475;&#34987;&#20851;&#38381;,&#21017;&#21407;&#22987;&#31471;&#21475;&#23558;&#34987;&#20851;&#38381;&#12290;</div></p><p>&#21482;&#26377;&#24403;&#23383;&#33410;&#20174;&#36820;&#22238;&#30340;&#31471;&#21475;&#28040;&#32791;&#26102;,&#25165;&#20250;&#20174; <span class="RktVar">in</span> &#28040;&#32791;&#12290;
&#29305;&#21035;&#26159;,&#20599;&#30475;&#36820;&#22238;&#30340;&#31471;&#21475;&#20250;&#20599;&#30475;&#21407;&#22987;&#31471;&#21475;&#12290;</p><p>&#22914;&#26524;&#22312;&#30452;&#25509;&#20351;&#29992; <span class="RktVar">in</span> &#30340;&#21516;&#26102;&#20063;&#20351;&#29992;&#20102;&#36820;&#22238;&#30340;&#31471;&#21475;,
 &#37027;&#20040;&#30001;&#31471;&#21475;&#25552;&#20379;&#30340; <span class="RktVar">limit</span> &#23383;&#33410;&#19981;&#38656;&#35201;&#26159;&#21407;&#22987;&#31471;&#21475;&#27969;&#30340;&#36830;&#32493;&#37096;&#20998;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._make-pipe-with-specials))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._make-pipe-with-specials%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-pipe-with-specials</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">limit</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">in-name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">out-name</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0"><tr><td><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span></td></tr></table></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">limit</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">pipe</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">pipe</span></td></tr></table></blockquote></div><div class="SIntrapara">&#36820;&#22238;&#20004;&#20010;&#31471;&#21475;:&#19968;&#20010;&#36755;&#20837;&#31471;&#21475;&#21644;&#19968;&#20010;&#36755;&#20986;&#31471;&#21475;&#12290;
&#36825;&#20123;&#31471;&#21475;&#30340;&#34892;&#20026;&#19982; <span class="RktSym"><a href="pipeports.html#%28def._%28%28quote._~23~25kernel%29._make-pipe%29%29" class="RktValLink" data-pltdoc="x">make-pipe</a></span> &#36820;&#22238;&#30340;&#31471;&#21475;&#31867;&#20284;,
 &#21482;&#26159;&#36825;&#20123;&#31471;&#21475;&#25903;&#25345;&#29992; <span class="RktSym"><a href="Byte_and_String_Output.html#%28def._%28%28quote._~23~25kernel%29._write-special%29%29" class="RktValLink" data-pltdoc="x">write-special</a></span> &#31561;&#31243;&#24207;&#20889;&#20837;&#30340;&#38750;&#23383;&#33410;&#20540;&#21644;&#29992;
 <span class="RktSym">get-byte-or-special</span> &#31561;&#31243;&#24207;&#35835;&#21462;&#30340;&#38750;&#23383;&#33410;&#20540;&#12290;</div></p><p><span class="RktVar">limit</span> &#21442;&#25968;&#20915;&#23450;&#20102;&#31649;&#36947;&#30340;&#26368;&#22823;&#23481;&#37327;(&#20197;&#23383;&#33410;&#20026;&#21333;&#20301;),
 &#20294;&#26159;&#22914;&#26524;&#22312;&#36798;&#21040; <span class="RktVar">limit</span> &#20043;&#21069;&#21521;&#31649;&#36947;&#20889;&#20837;&#29305;&#27530;&#20540;,&#36825;&#20010; limit &#23558;&#34987;&#31105;&#29992;&#12290;
 &#22312;&#20174;&#31649;&#36947;&#20013;&#35835;&#21462;&#29305;&#27530;&#20540;&#21518;,&#35813;&#38480;&#21046;&#23558;&#34987;&#37325;&#26032;&#21551;&#29992;&#12290;</p><p>&#21487;&#36873;&#30340; <span class="RktVar">in-name</span> &#21644; <span class="RktVar">out-name</span> &#21442;&#25968;&#20915;&#23450;&#32467;&#26524;&#31471;&#21475;&#30340;&#21517;&#31216;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._combine-output))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._combine-output%29%29" class="RktValDef RktValLink" data-pltdoc="x">combine-output</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-out</span><span class="hspace">&nbsp;</span><span class="RktVar">b-out</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b-out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">&#25509;&#21463;&#20004;&#20010;&#36755;&#20986;&#31471;&#21475;,&#24182;&#36820;&#22238;&#19968;&#20010;&#32467;&#21512;&#21407;&#22987;&#31471;&#21475;&#30340;&#26032;&#36755;&#20986;&#31471;&#21475;&#12290;
&#24403;&#34987;&#20889;&#20837;&#26102;,&#21512;&#24182;&#21518;&#30340;&#31471;&#21475;&#39318;&#20808;&#21521; <span class="RktVar">a-out</span> &#20889;&#20837;&#23613;&#21487;&#33021;&#22810;&#30340;&#23383;&#33410;,&#28982;&#21518;&#23581;&#35797;&#21521; <span class="RktVar">b-out</span> &#20889;&#20837;&#30456;&#21516;&#25968;&#37327;&#30340;&#23383;&#33410;&#12290;
 &#22914;&#26524;&#27809;&#26377;&#25104;&#21151;,&#21097;&#19979;&#30340;&#37096;&#20998;&#20250;&#34987;&#32531;&#20914;,&#27809;&#26377;&#36827;&#19968;&#27493;&#30340;&#20889;&#25805;&#20316;&#21487;&#20197;&#36890;&#36807;,&#30452;&#21040;&#31471;&#21475;&#34987;&#24179;&#34913;&#12290;
 &#24403;&#27599;&#20010;&#31471;&#21475;&#25253;&#21578;&#20934;&#22791;&#22909;&#26102;,&#31471;&#21475;&#23601;&#20934;&#22791;&#22909;&#20102;(&#20026;&#20102;&#21516;&#27493;&#30340;&#30446;&#30340;)&#12290;
 &#28982;&#32780;,&#31532;&#19968;&#20010;&#31471;&#21475;&#21487;&#33021;&#22312;&#31561;&#24453;&#31532;&#20108;&#20010;&#31471;&#21475;&#21516;&#27493;&#26102;&#20572;&#27490;&#20934;&#22791;,&#25152;&#20197;&#19981;&#33021;&#20445;&#35777;&#20004;&#20010;&#31471;&#21475;&#21516;&#26102;&#20934;&#22791;&#22909;&#12290;
 &#22312;&#21521; <span class="RktVar">b-out</span> &#20889;&#23436;&#25152;&#26377;&#21097;&#20313;&#30340;&#23383;&#33410;&#21518;,&#20851;&#38381;&#21512;&#24182;&#30340;&#31471;&#21475;&#12290;</div></p><p class="SHistory">Added in version 7.7.0.10 of package <span class="stt">base</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._merge-input))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._merge-input%29%29" class="RktValDef RktValLink" data-pltdoc="x">merge-input</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-in</span><span class="hspace">&nbsp;</span><span class="RktVar">b-in</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">buffer-limit</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b-in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">buffer-limit</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">4096</span></td></tr></table></blockquote></div><div class="SIntrapara">&#25509;&#21463;&#20004;&#20010;&#36755;&#20837;&#31471;&#21475;&#24182;&#36820;&#22238;&#19968;&#20010;&#26032;&#30340;&#36755;&#20837;&#31471;&#21475;&#12290;
 &#26032;&#30340;&#31471;&#21475;&#21512;&#24182;&#20102;&#20004;&#20010;&#21407;&#22987;&#31471;&#21475;&#30340;&#25968;&#25454;,&#22240;&#27492;&#21482;&#35201;&#20004;&#20010;&#21407;&#22987;&#31471;&#21475;&#30340;&#25968;&#25454;&#21487;&#29992;,&#23601;&#21487;&#20197;&#20174;&#26032;&#30340;&#31471;&#21475;&#35835;&#21462;&#25968;&#25454;&#12290;
 &#26469;&#33258;&#21407;&#22987;&#31471;&#21475;&#30340;&#25968;&#25454;&#26159;&#20132;&#38169;&#30340;&#12290;
 &#24403;&#20174;&#19968;&#20010;&#21407;&#22987;&#31471;&#21475;&#35835;&#21462;&#25991;&#20214;&#32467;&#26463;&#26102;,&#23427;&#19981;&#20877;&#20026;&#26032;&#31471;&#21475;&#25552;&#20379;&#23383;&#31526;&#12290;
 &#22312;&#20174;&#20004;&#20010;&#21407;&#22987;&#31471;&#21475;&#35835;&#23436;&#25991;&#20214;&#32467;&#26463;&#21518;,&#26032;&#30340;&#31471;&#21475;&#36820;&#22238;&#25991;&#20214;&#32467;&#26463;&#12290;&#20851;&#38381;&#21512;&#24182;&#21518;&#30340;&#31471;&#21475;&#24182;&#19981;&#20851;&#38381;&#21407;&#26469;&#30340;&#31471;&#21475;&#12290;</div></p><p>&#21487;&#36873;&#30340; <span class="RktVar">buffer-limit</span> &#21442;&#25968;&#38480;&#21046;&#20102;&#20174; <span class="RktVar">a-in</span> &#21644; <span class="RktVar">b-in</span> &#20013;&#32531;&#20914;&#30340;&#23383;&#33410;&#25968;,
 &#36825;&#26679;&#21512;&#24182;&#36807;&#31243;&#23601;&#19981;&#20250;&#20219;&#24847;&#25512;&#36827;,&#36229;&#36807;&#21512;&#24182;&#25968;&#25454;&#30340;&#28040;&#32791;&#36895;&#24230;&#12290;
 &#19968;&#20010; <span class="RktVal">#f</span> &#20540;&#23558;&#31105;&#29992;&#35813;&#38480;&#21046;&#12290;
 &#19982; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._make-pipe-with-specials%29%29" class="RktValLink" data-pltdoc="x">make-pipe-with-specials</a></span> &#19968;&#26679;,&#24403;&#19968;&#20010;&#36755;&#20837;&#31471;&#21475;&#22312;&#36798;&#21040;&#38480;&#21046;&#20043;&#21069;&#20135;&#29983;&#19968;&#20010;&#29305;&#27530;&#20540;&#26102;,
 <span class="RktVar">buffer-limit</span> &#23601;&#19981;&#36866;&#29992;&#12290;</p><p>&#20063;&#35831;&#21442;&#35265; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._input-port-append%29%29" class="RktValLink" data-pltdoc="x">input-port-append</a></span>, &#23427;&#23558;&#36755;&#20837;&#27969;&#36830;&#25509;&#36215;&#26469;,&#32780;&#19981;&#26159;&#20132;&#32455;&#22312;&#19968;&#36215;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._open-output-nowhere))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._open-output-nowhere%29%29" class="RktValDef RktValLink" data-pltdoc="x">open-output-nowhere</a></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktVar">special-ok?</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">nowhere</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">special-ok?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara"><a name="(idx._(gentag._282._(lib._scribblings/reference/reference..scrbl)))"></a>&#21019;&#24314; &#24182;&#36820;&#22238;&#19968;&#20010;&#36755;&#20986;&#31471;&#21475;,&#20002;&#24323;&#25152;&#26377;&#21457;&#36865;&#21040;&#23427;&#30340;&#36755;&#20986;(&#19981;&#38459;&#22622;)&#12290;
 <span class="RktVar">name</span> &#21442;&#25968;&#34987;&#29992;&#20316;&#31471;&#21475;&#30340;&#21517;&#31216;&#12290;
 &#22914;&#26524; <span class="RktVar">special-ok?</span> &#21442;&#25968;&#20026;&#30495;,&#37027;&#20040;&#29983;&#25104;&#30340;&#31471;&#21475;&#23601;&#25903;&#25345; <span class="RktSym"><a href="Byte_and_String_Output.html#%28def._%28%28quote._~23~25kernel%29._write-special%29%29" class="RktValLink" data-pltdoc="x">write-special</a></span>, &#21542;&#21017;&#23601;&#19981;&#25903;&#25345;&#12290;</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._peeking-input-port))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._peeking-input-port%29%29" class="RktValDef RktValLink" data-pltdoc="x">peeking-input-port</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">in</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">skip</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:init-position</span><span class="hspace">&nbsp;</span><span class="RktVar">init-position</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="inspectors.html#%28def._%28%28quote._~23~25kernel%29._object-name%29%29" class="RktValLink" data-pltdoc="x">object-name</a></span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">skip</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">0</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">init-position</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-positive-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-positive-integer?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">1</span></td></tr></table></blockquote></div><div class="SIntrapara">&#36820;&#22238;&#19968;&#20010;&#36755;&#20837;&#31471;&#21475;,&#20854;&#20869;&#23481;&#26159;&#30001;&#31397;&#35270; <span class="RktVar">in</span> &#20915;&#23450;&#30340;&#12290;
 &#25442;&#21477;&#35805;&#35828;,&#36820;&#22238;&#30340;&#31471;&#21475;&#21253;&#21547;&#19968;&#20010;&#20869;&#37096;&#30340;&#36339;&#36807;&#35745;&#25968;,&#27599;&#27425;&#35835;&#21462;&#31471;&#21475;&#26102;&#37117;&#20250;&#29992;&#20869;&#37096;&#30340;&#36339;&#36807;&#35745;&#25968;&#26469;&#20599;&#30475; <span class="RktVar">in</span> ,
 &#28982;&#21518;&#26681;&#25454;&#25104;&#21151;&#20599;&#30475;&#30340;&#25968;&#25454;&#37327;&#26469;&#22686;&#21152;&#36339;&#36807;&#35745;&#25968;&#12290;</div></p><p>&#21487;&#36873;&#30340; <span class="RktVar">name</span> &#21442;&#25968;&#26159;&#29983;&#25104;&#30340;&#31471;&#21475;&#30340;&#21517;&#31216;&#12290;
 <span class="RktVar">skip</span> &#21442;&#25968;&#26159;&#31471;&#21475;&#30340;&#21021;&#22987;&#36339;&#36807;&#27425;&#25968;,&#40664;&#35748;&#20026; <span class="RktVal">0</span> &#12290;</p><p>&#30001;&#27492;&#20135;&#29983;&#30340;&#31471;&#21475;&#30340;&#21021;&#22987;&#20301;&#32622; (&#30001; <span class="RktSym"><a href="port-buffers.html#%28def._%28%28quote._~23~25kernel%29._file-position%29%29" class="RktValLink" data-pltdoc="x">file-position</a></span> &#25253;&#21578;) &#26159; <span class="RktPn">(</span><span class="RktSym"><a href="generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="stt"> </span><span class="RktVar">init-position</span><span class="stt"> </span><span class="RktVal">1</span><span class="RktPn">)</span>,
 &#26080;&#35770; <span class="RktVar">in</span> &#30340;&#20301;&#32622;&#22914;&#20309;&#12290;</p><p>&#30001;&#27492;&#20135;&#29983;&#30340;&#31471;&#21475;&#25903;&#25345;&#32531;&#20914;, <span class="RktVal">'</span><span class="RktVal">block</span> &#32531;&#20914;&#27169;&#24335;&#20801;&#35768;&#31471;&#21475;&#27604;&#35201;&#27714;&#30340;&#26356;&#36828;&#22320;&#31397;&#35270; <span class="RktVar">in</span> &#12290;
 &#25152;&#20135;&#29983;&#30340;&#31471;&#21475;&#30340;&#21021;&#22987;&#32531;&#20914;&#27169;&#24335;&#26159; <span class="RktVal">'</span><span class="RktVal">block</span>, &#38500;&#38750; <span class="RktVar">in</span> &#25903;&#25345;&#32531;&#20914;&#27169;&#24335;,
 &#24182;&#19988;&#20854;&#27169;&#24335;&#26368;&#21021;&#26159; <span class="RktVal">'</span><span class="RktVal">none</span> (&#20063;&#23601;&#26159;&#35828;,&#24403; <span class="RktVar">in</span> &#25903;&#25345;&#32531;&#20914;&#26102;,&#21021;&#22987;&#32531;&#20914;&#27169;&#24335;&#21462;&#33258; <span class="RktVar">in</span>)&#12290;
 &#22914;&#26524; <span class="RktVar">in</span> &#25903;&#25345;&#32531;&#20914;,
 &#36890;&#36807; <span class="RktSym"><a href="port-buffers.html#%28def._%28%28quote._~23~25kernel%29._file-stream-buffer-mode%29%29" class="RktValLink" data-pltdoc="x">file-stream-buffer-mode</a></span> &#35843;&#25972;&#32467;&#26524;&#31471;&#21475;&#30340;&#32531;&#20914;&#27169;&#24335;&#23601;&#20250;&#35843;&#25972; <span class="RktVar">in</span> &#30340;&#32531;&#20914;&#27169;&#24335;&#12290;</p><p>&#20363;&#22914;,&#24403;&#20320;&#20174;&#19968;&#20010;&#20599;&#30475;&#30340;&#31471;&#21475;&#35835;&#21462;&#26102;,&#20320;&#30475;&#21040;&#30340;&#31572;&#26696;&#19982;&#20174;&#21407;&#22987;&#31471;&#21475;&#35835;&#21462;&#26102;&#30456;&#21516;:</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">an-original-port</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stringport.html#%28def._%28%28quote._~23~25kernel%29._open-input-string%29%29" class="RktValLink" data-pltdoc="x">open-input-string</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"123456789"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-peeking-port</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._peeking-input-port%29%29" class="RktValLink" data-pltdoc="x">peeking-input-port</a></span><span class="hspace">&nbsp;</span><span class="RktSym">an-original-port</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="port-buffers.html#%28def._%28%28quote._~23~25kernel%29._file-stream-buffer-mode%29%29" class="RktValLink" data-pltdoc="x">file-stream-buffer-mode</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-peeking-port</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">none</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Byte_and_String_Input.html#%28def._%28%28quote._~23~25kernel%29._read-string%29%29" class="RktValLink" data-pltdoc="x">read-string</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktSym">a-peeking-port</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"123"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Byte_and_String_Input.html#%28def._%28%28quote._~23~25kernel%29._read-string%29%29" class="RktValLink" data-pltdoc="x">read-string</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktSym">an-original-port</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"123"</span></p></td></tr></table></blockquote></div></p><p>&#35201;&#27880;&#24847;&#30340;&#26159;,&#20174;&#21407;&#22987;&#31471;&#21475;&#30340;&#35835;&#25968;&#23545;&#20599;&#30475;&#31471;&#21475;&#26159;&#19981;&#21487;&#35265;&#30340;,&#23427;&#20445;&#25345;&#30528;&#33258;&#24049;&#29420;&#31435;&#30340;&#20869;&#37096;&#35745;&#25968;&#22120;,&#22240;&#27492;&#22312;&#20004;&#20010;&#31471;&#21475;&#19978;&#20132;&#38169;&#35835;&#25968;&#20250;&#20135;&#29983;&#28151;&#20081;&#30340;&#32467;&#26524;&#12290;
 &#32487;&#32493;&#21069;&#38754;&#30340;&#20363;&#23376;,&#22914;&#26524;&#25105;&#20204;&#20174;&#20599;&#30475;&#31471;&#21475;&#20877;&#35835;&#19977;&#20010;&#23383;&#31526;,
 &#25105;&#20204;&#26368;&#32456;&#20250;&#36339;&#36807;&#31471;&#21475;&#20013;&#30340; <span class="RktInBG"><span class="hspace"></span><span class="RktIn">456</span><span class="hspace"></span></span> &#20010;&#23383;&#31526;(&#20294;&#21482;&#26159;&#22240;&#20026;&#25105;&#20204;&#19978;&#38754;&#31105;&#29992;&#20102;&#32531;&#20914;):</p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Byte_and_String_Input.html#%28def._%28%28quote._~23~25kernel%29._read-string%29%29" class="RktValLink" data-pltdoc="x">read-string</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktSym">a-peeking-port</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"789"</span></p></td></tr></table></blockquote></div></p><p>&#22914;&#26524;&#25105;&#20204;&#19981;&#32771;&#34385; <span class="RktSym">a-peeking-port</span> &#30340;&#32531;&#20914;&#27169;&#24335;,
 &#26368;&#21518;&#19968;&#20010; <span class="RktSym"><a href="Byte_and_String_Input.html#%28def._%28%28quote._~23~25kernel%29._read-string%29%29" class="RktValLink" data-pltdoc="x">read-string</a></span> &#24456;&#21487;&#33021;&#20250;&#20135;&#29983; <span class="RktVal">"456"</span> ,
 &#36825;&#26159;&#30001;&#20110;&#20043;&#21069;&#20174; <span class="RktSym">an-original-port</span> &#32531;&#20914;&#20102;&#23383;&#33410;&#30340;&#32467;&#26524;&#12290;</p><p class="SHistory">Changed in version 6.1.0.3 of package <span class="stt">base</span>: &#36890;&#36807; <span class="RktSym"><a href="port-buffers.html#%28def._%28%28quote._~23~25kernel%29._file-stream-buffer-mode%29%29" class="RktValLink" data-pltdoc="x">file-stream-buffer-mode</a></span> &#21551;&#29992;&#20102;&#32531;&#20914;&#21644;&#32531;&#20914;&#27169;&#24335;&#35843;&#25972;,
&#24182;&#23558;&#31471;&#21475;&#30340;&#21021;&#22987;&#32531;&#20914;&#27169;&#24335;&#35774;&#32622;&#20026; <span class="RktVar">in</span> &#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._reencode-input-port))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._reencode-input-port%29%29" class="RktValDef RktValLink" data-pltdoc="x">reencode-input-port</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">in</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">encoding</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">error-bytes</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">close?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">convert-newlines?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">enc-error</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">encoding</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">error-bytes</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">close?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="inspectors.html#%28def._%28%28quote._~23~25kernel%29._object-name%29%29" class="RktValLink" data-pltdoc="x">object-name</a></span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">convert-newlines?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">enc-error</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._lambda%29%29" class="RktStxLink" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">msg</span><span class="hspace">&nbsp;</span><span class="RktSym">port</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="exns.html#%28def._%28%28quote._~23~25kernel%29._error%29%29" class="RktValLink" data-pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">&#20135;&#29983;&#19968;&#20010;&#36755;&#20837;&#31471;&#21475;,&#20174; <span class="RktVar">in</span> &#20013;&#25277;&#21462;&#23383;&#33410;,
 &#20294;&#20351;&#29992; <span class="RktPn">(</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes-open-converter%29%29" class="RktValLink" data-pltdoc="x">bytes-open-converter</a></span><span class="stt"> </span><span class="RktSym">encoding-str</span><span class="stt"> </span><span class="RktVal">"UTF-8"</span><span class="RktPn">)</span>  &#36716;&#25442;&#23383;&#33410;&#27969;&#12290;
&#27492;&#22806;,&#22914;&#26524; <span class="RktVar">convert-newlines?</span> &#20026; true,&#37027;&#20040;&#23545;&#24212;&#20110; <span class="RktVal">"\r\n"</span>,
<span class="RktVal">"\r\u0085"</span>, <span class="RktVal">"\r"</span>, <span class="RktVal">"\u0085"</span> &#21644; <span class="RktVal">"\u2028"</span>
&#30340; UTF-8 &#32534;&#30721;&#30340;&#35299;&#30721;&#24207;&#21015;&#37117;&#34987;&#36716;&#25442;&#20026; <span class="RktVal">"\n"</span> &#30340; UTF-8 &#32534;&#30721;&#12290;</div></p><p>&#22914;&#26524;&#25552;&#20379;&#20102; <span class="RktVar">error-bytes</span> ,&#32780;&#19981;&#26159; <span class="RktVal">#f</span>,
 &#37027;&#20040;&#32473;&#23450;&#30340;&#23383;&#33410;&#24207;&#21015;&#23558;&#34987;&#29992;&#26469;&#26367;&#20195;&#20174; <span class="RktVar">in</span> &#35302;&#21457;&#36716;&#25442;&#38169;&#35823;&#30340;&#23383;&#33410;&#12290;
&#21542;&#21017;,&#22914;&#26524;&#36935;&#21040;&#20102;&#36716;&#25442;,&#23601;&#20250;&#35843;&#29992; <span class="RktVar">enc-error</span> ,&#36825;&#24517;&#39035;&#24341;&#21457;&#19968;&#20010;&#24322;&#24120;&#12290;</p><p>&#22914;&#26524; <span class="RktVar">close?</span> &#20026;&#30495;,&#37027;&#20040;&#20851;&#38381;&#32467;&#26524;&#36755;&#20837;&#31471;&#21475;&#30340;&#21516;&#26102;&#20063;&#20851;&#38381;&#20102; <span class="RktVar">in</span> &#12290;
 <span class="RktVar">name</span> &#21442;&#25968;&#34987;&#29992;&#20316;&#32467;&#26524;&#36755;&#20837;&#31471;&#21475;&#30340;&#21517;&#31216;&#12290;</p><p>&#22312;&#38750;&#32531;&#20914;&#27169;&#24335;&#19979;,&#32467;&#26524;&#36755;&#20837;&#31471;&#21475;&#35797;&#22270;&#20165;&#22312;&#38656;&#35201;&#26102;&#20174; <span class="RktVar">in</span> &#20013;&#25552;&#21462;&#23383;&#33410;&#20197;&#28385;&#36275;&#35831;&#27714;&#12290;
 &#20026;&#20102;&#36798;&#21040;&#36825;&#20010;&#30446;&#30340;,&#36755;&#20837;&#31471;&#21475;&#20551;&#23450;&#33267;&#23569;&#35201;&#35835;&#21462; <span style="font-style: italic">n</span> &#20010;&#23383;&#33410;&#25165;&#33021;&#28385;&#36275;&#23545; <span style="font-style: italic">n</span> &#20010;&#23383;&#33410;&#30340;&#35831;&#27714;&#12290;
 (&#21363;&#20351;&#31471;&#21475;&#24050;&#32463;&#35835;&#21462;&#20102;&#19968;&#20123;&#23383;&#33410;,&#21482;&#35201;&#36825;&#20123;&#23383;&#33410;&#24418;&#25104;&#20102;&#19968;&#20010;&#19981;&#23436;&#25972;&#30340;&#32534;&#30721;&#24207;&#21015;,&#20063;&#26159;&#22914;&#27492;&#12290;)</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._reencode-output-port))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._reencode-output-port%29%29" class="RktValDef RktValLink" data-pltdoc="x">reencode-output-port</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">out</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">encoding</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">error-bytes</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">close?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">newline-bytes</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">enc-error</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">encoding</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">error-bytes</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">close?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="inspectors.html#%28def._%28%28quote._~23~25kernel%29._object-name%29%29" class="RktValLink" data-pltdoc="x">object-name</a></span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">newline-bytes</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">enc-error</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._lambda%29%29" class="RktStxLink" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">msg</span><span class="hspace">&nbsp;</span><span class="RktSym">port</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="exns.html#%28def._%28%28quote._~23~25kernel%29._error%29%29" class="RktValLink" data-pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">&#20135;&#29983;&#19968;&#20010;&#36755;&#20986;&#31471;&#21475;,
 &#23558;&#23383;&#33410;&#24341;&#21521; <span class="RktVar">out</span>,&#20294;&#20351;&#29992; <span class="RktPn">(</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes-open-converter%29%29" class="RktValLink" data-pltdoc="x">bytes-open-converter</a></span><span class="stt"> </span><span class="RktVal">"UTF-8"</span><span class="stt"> </span><span class="RktSym">encoding-str</span><span class="RktPn">)</span> &#36716;&#25442;&#20854;&#23383;&#33410;&#27969;&#12290;
 &#27492;&#22806;,&#22914;&#26524; <span class="RktVar">newline-bytes</span> &#19981;&#26159; <span class="RktVal">#f</span>, &#37027;&#20040;&#20889;&#21040;&#31471;&#21475;&#30340;&#23383;&#33410;&#26159;UTF-8&#32534;&#30721;&#30340; <span class="RktVal">"\n"</span> ,
 &#39318;&#20808;&#34987;&#36716;&#25442;&#20026; <span class="RktVar">newline-bytes</span> (&#22312;&#24212;&#29992; UTF-8 &#21040; <span class="RktSym">encoding-str</span> &#30340;&#36716;&#25442;&#20043;&#21069;)&#12290;</div></p><p>&#22914;&#26524;&#25552;&#20379;&#20102; <span class="RktVar">error-bytes</span> ,&#32780;&#19981;&#26159; <span class="RktVal">#f</span>,
 &#37027;&#20040;&#32473;&#23450;&#30340;&#23383;&#33410;&#24207;&#21015;&#23558;&#34987;&#29992;&#26469;&#26367;&#20195;&#24050;&#32463;&#21457;&#36865;&#21040;&#36755;&#20986;&#31471;&#21475;&#24182;&#24341;&#21457;&#36716;&#25442;&#38169;&#35823;&#30340;&#23383;&#33410;&#12290;
 &#21542;&#21017;,&#23558;&#35843;&#29992; <span class="RktVar">enc-error</span> ,&#23427;&#24517;&#39035;&#24341;&#21457;&#19968;&#20010;&#24322;&#24120;&#12290;</p><p>&#22914;&#26524; <span class="RktVar">close?</span> &#20026;&#30495;,&#37027;&#20040;&#20851;&#38381;&#32467;&#26524;&#36755;&#20986;&#31471;&#21475;&#30340;&#21516;&#26102;&#20063;&#20851;&#38381;&#20102; <span class="RktVar">out</span> &#12290;
 <span class="RktVar">name</span> &#21442;&#25968;&#34987;&#29992;&#20316;&#32467;&#26524;&#36755;&#20986;&#31471;&#21475;&#30340;&#21517;&#31216;&#12290;</p><p>&#32467;&#26524;&#31471;&#21475;&#25903;&#25345;&#32531;&#20914;,&#21021;&#22987;&#32531;&#20914;&#27169;&#24335;&#26159; <span class="RktPn">(</span><span class="RktSym"><a href="if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._or%29%29" class="RktStxLink" data-pltdoc="x">or</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="port-buffers.html#%28def._%28%28quote._~23~25kernel%29._file-stream-buffer-mode%29%29" class="RktValLink" data-pltdoc="x">file-stream-buffer-mode</a></span><span class="stt"> </span><span class="RktVar">out</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">block</span><span class="RktPn">)</span> &#12290;
 &#22312; <span class="RktVal">'</span><span class="RktVal">block</span> &#27169;&#24335;&#19979;,&#31471;&#21475;&#30340;&#32531;&#20914;&#21306;&#21482;&#26377;&#22312;&#28385;&#20102;&#25110;&#32773;&#26126;&#30830;&#35201;&#27714;&#20914;&#21047;&#26102;&#25165;&#20250;&#34987;&#20914;&#21047;&#12290;
&#22312; <span class="RktVal">'</span><span class="RktVal">line</span> &#27169;&#24335;&#19979;,&#27599;&#24403;&#26377;&#25442;&#34892;&#25110;&#22238;&#36710;&#23383;&#33410;&#20889;&#20837;&#31471;&#21475;,&#32531;&#20914;&#21306;&#23601;&#20250;&#34987;&#21047;&#26032;&#12290;
 &#22312; <span class="RktVal">'</span><span class="RktVal">none</span> &#27169;&#24335;&#19979;,&#31471;&#21475;&#30340;&#32531;&#20914;&#21306;&#22312;&#27599;&#27425;&#20889;&#20837;&#21518;&#37117;&#20250;&#34987;&#21047;&#26032;&#12290;
 &#24403; <span class="RktVal">'</span><span class="RktVal">line</span> &#25110; <span class="RktVal">'</span><span class="RktVal">none</span> &#26159;&#19981;&#23436;&#25972;&#30340;&#32534;&#30721;&#24207;&#21015;&#30340;&#19968;&#37096;&#20998;&#26102;,&#38544;&#21547;&#30340;&#21047;&#26032;&#20250;&#23558;&#23383;&#33410;&#30041;&#22312;&#32531;&#20914;&#21306;&#20013;&#12290;</p><p>&#36825;&#26679;&#30340;&#36755;&#20986;&#31471;&#21475;&#19981;&#25903;&#25345;&#21407;&#23376;&#20889;&#20837;&#12290;
 &#22914;&#26524;&#26368;&#36817;&#20889;&#20837;&#30340;&#23383;&#33410;&#24418;&#25104;&#20102;&#19968;&#20010;&#19981;&#23436;&#25972;&#30340;&#32534;&#30721;&#24207;&#21015;,&#37027;&#20040;&#23545;&#36755;&#20986;&#31471;&#21475;&#30340;&#26174;&#24335;&#21047;&#26032;&#25110;&#29305;&#27530;&#20889;&#20837;&#23601;&#20250;&#25346;&#36215;&#12290;</p><p>&#24403;&#31471;&#21475;&#34987;&#32531;&#20914;&#26102;,&#19968;&#20010; <a href="plumbers.html#%28tech._flush._callback%29" class="techoutside" data-pltdoc="x"><span class="techinside">flush callback</span></a> &#34987;&#27880;&#20876;&#21040;&#30340; <a href="plumbers.html#%28tech._current._plumber%29" class="techoutside" data-pltdoc="x"><span class="techinside">current plumber</span></a>
 &#27880;&#20876;&#19968;&#20010; <a href="plumbers.html#%28tech._flush._callback%29" class="techoutside" data-pltdoc="x"><span class="techinside">flush callback</span></a> &#26469;&#21047;&#26032;&#32531;&#20914;&#21306;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._dup-input-port))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._dup-input-port%29%29" class="RktValDef RktValLink" data-pltdoc="x">dup-input-port</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">close?</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">close?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">&#36820;&#22238;&#19968;&#20010;&#30452;&#25509;&#20174; <span class="RktVar">in</span> &#20013;&#25552;&#21462;&#30340;&#36755;&#20837;&#31471;&#21475;&#12290;
 &#21482;&#26377;&#24403; <span class="RktVar">close?</span> &#20026; <span class="RktVal">#t</span> &#26102;,&#20851;&#38381;&#29983;&#25104;&#30340;&#31471;&#21475;&#25165;&#20250;&#20851;&#38381; <span class="RktVar">in</span> &#12290;</div></p><p>&#26032;&#30340;&#31471;&#21475;&#34987;&#21021;&#22987;&#21270;&#20026; <span class="RktVar">in</span> &#30340; <a href="Reading.html#%28tech._port._read._handler%29" class="techoutside" data-pltdoc="x"><span class="techinside">port read handler</span></a> ,
 &#20294;&#26159;&#22312;&#32467;&#26524;&#31471;&#21475;&#19978;&#35774;&#32622;&#22788;&#29702;&#31243;&#24207;&#24182;&#19981;&#24433;&#21709;&#30452;&#25509;&#20174; <span class="RktVar">in</span> &#35835;&#21462;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._dup-output-port))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._dup-output-port%29%29" class="RktValDef RktValLink" data-pltdoc="x">dup-output-port</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">close?</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">close?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">&#36820;&#22238;&#19968;&#20010;&#36755;&#20986;&#31471;&#21475;,&#23558;&#25968;&#25454;&#30452;&#25509;&#20256;&#25773;&#21040; <span class="RktVar">out</span> &#12290;
 &#21482;&#26377;&#24403; <span class="RktVar">close?</span> &#20026; <span class="RktVal">#t</span> &#26102;,&#20851;&#38381;&#32467;&#26524;&#31471;&#21475;&#25165;&#20250;&#20851;&#38381; <span class="RktVar">out</span> &#12290;</div></p><p>&#26032;&#30340;&#31471;&#21475;&#34987;&#21021;&#22987;&#21270;&#20026; <span class="RktVar">out</span> &#30340; <a href="Writing.html#%28tech._port._display._handler%29" class="techoutside" data-pltdoc="x"><span class="techinside">port display handler</span></a> &#21644; <a href="Writing.html#%28tech._port._write._handler%29" class="techoutside" data-pltdoc="x"><span class="techinside">port write handler</span></a> ,
 &#20294;&#22312;&#32467;&#26524;&#31471;&#21475;&#19978;&#35774;&#32622;&#22788;&#29702;&#31243;&#24207;&#24182;&#19981;&#24433;&#21709;&#30452;&#25509;&#21521; <span class="RktVar">out</span> &#20889;&#20837;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._relocate-input-port))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._relocate-input-port%29%29" class="RktValDef RktValLink" data-pltdoc="x">relocate-input-port</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">in</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">line</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">column</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">position</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">close?</span><span class="RktOpt">]</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">line</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-positive-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-positive-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">column</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">position</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-positive-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-positive-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">close?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="inspectors.html#%28def._%28%28quote._~23~25kernel%29._object-name%29%29" class="RktValLink" data-pltdoc="x">object-name</a></span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">&#20135;&#29983;&#19968;&#20010;&#19982; <span class="RktVar">in</span> &#30456;&#24403;&#30340;&#36755;&#20837;&#31471;&#21475;,&#38500;&#20102;&#23427;&#25253;&#21578;&#20301;&#32622;&#20449;&#24687;&#30340;&#26041;&#24335; (&#21487;&#33021;&#36824;&#26377;&#23427;&#30340;&#21517;&#23383;)&#12290;
 &#32467;&#26524;&#31471;&#21475;&#30340;&#20869;&#23481;&#20174; <span class="RktVar">in</span> &#30340;&#21097;&#20313;&#20869;&#23481;&#24320;&#22987;,&#24182;&#19988;&#20174;&#25351;&#23450;&#30340;&#34892;&#12289;&#21015;&#21644;&#20301;&#32622;&#24320;&#22987;&#12290;
 &#34892;&#25110;&#21015;&#30340; <span class="RktVal">#f</span> &#34920;&#31034;&#35813;&#34892;&#21644;&#21015;&#23558;&#22987;&#32456;&#34987;&#25253;&#21578;&#20026; <span class="RktVal">#f</span> &#12290;</div></p><p><span class="RktVar">line</span> &#21644; <span class="RktVar">column</span> &#30340;&#20540;&#21482;&#26377;&#22312;&#20026; <span class="RktVar">in</span> &#21644;&#20135;&#29983;&#30340;&#31471;&#21475;&#21551;&#29992;&#20102;&#34892;&#35745;&#25968;&#26102;&#25165;&#20250;&#20351;&#29992;,
 &#36890;&#24120;&#26159;&#36890;&#36807; <span class="RktSym"><a href="linecol.html#%28def._%28%28quote._~23~25kernel%29._port-count-lines%21%29%29" class="RktValLink" data-pltdoc="x">port-count-lines!</a></span> &#12290;
 <span class="RktVar">column</span> &#20540;&#20915;&#23450;&#20102;&#31532;&#19968;&#34892;&#30340;&#21015;(&#21363;&#19968;&#20010;&#32534;&#21495;&#30340;
<span class="RktVar">line</span>), &#20197;&#21518;&#30340;&#34892;&#20174;&#21015; <span class="RktVal">0</span> &#24320;&#22987;&#12290;
 &#21363;&#20351;&#27809;&#26377;&#21551;&#29992;&#34892;&#35745;&#25968;,&#20063;&#20250;&#20351;&#29992;&#32473;&#23450;&#30340; <span class="RktVar">position</span> &#12290;</p><p>&#24403;&#23545;&#32467;&#26524;&#31471;&#21475;&#30340;&#34892;&#35745;&#25968;&#24320;&#21551;&#26102;,&#20174; <span class="RktVar">in</span> &#32780;&#19981;&#26159;&#20174;&#32467;&#26524;&#31471;&#21475;&#35835;&#21462;,&#20250;&#22686;&#21152;&#32467;&#26524;&#31471;&#21475;&#30340;&#20301;&#32622;&#25253;&#21578;&#12290;
 &#21542;&#21017;,&#24403;&#20174; <span class="RktVar">in</span> &#35835;&#21462;&#25968;&#25454;&#26102;,&#32467;&#26524;&#31471;&#21475;&#30340;&#20301;&#32622;&#19981;&#20250;&#36882;&#22686;&#12290;</p><p>&#22914;&#26524; <span class="RktVar">close?</span> &#26159; true, &#37027;&#20040;&#20851;&#38381;&#20135;&#29983;&#30340;&#31471;&#21475;&#20063;&#20250;&#20851;&#38381; <span class="RktVar">in</span> &#12290;
&#22914;&#26524; <span class="RktVar">close?</span> &#26159; <span class="RktVal">#f</span>, &#21017;&#20851;&#38381;&#20135;&#29983;&#30340;&#31471;&#21475;&#24182;&#19981;&#20851;&#38381; <span class="RktVar">in</span> &#12290;</p><p><span class="RktVar">name</span> &#21442;&#25968;&#34987;&#29992;&#20316;&#20135;&#29983;&#30340;&#31471;&#21475;&#30340;&#21517;&#31216;;&#40664;&#35748;&#20540;&#20445;&#25345;&#19982; <span class="RktVar">in</span> &#30456;&#21516;&#30340;&#21517;&#31216;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._relocate-output-port))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._relocate-output-port%29%29" class="RktValDef RktValLink" data-pltdoc="x">relocate-output-port</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">out</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">line</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">column</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">position</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">close?</span><span class="RktOpt">]</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">line</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-positive-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-positive-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">column</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">position</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-positive-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-positive-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">close?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="inspectors.html#%28def._%28%28quote._~23~25kernel%29._object-name%29%29" class="RktValLink" data-pltdoc="x">object-name</a></span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">&#19982; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._relocate-input-port%29%29" class="RktValLink" data-pltdoc="x">relocate-input-port</a></span> &#31867;&#20284;,&#20294;&#29992;&#20110;&#36755;&#20986;&#31471;&#21475;&#12290;</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._transplant-input-port))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._transplant-input-port%29%29" class="RktValDef RktValLink" data-pltdoc="x">transplant-input-port</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">in</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">get-location</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">init-pos</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">close?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">count-lines!</span><span class="RktOpt">]</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">get-location</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="values.html#%28def._%28%28quote._~23~25kernel%29._values%29%29" class="RktValLink" data-pltdoc="x">values</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-positive-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-positive-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-positive-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-positive-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">init-pos</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-positive-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-positive-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">close?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">count-lines!</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="void.html#%28def._%28%28quote._~23~25kernel%29._void%29%29" class="RktValLink" data-pltdoc="x">void</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="inspectors.html#%28def._%28%28quote._~23~25kernel%29._object-name%29%29" class="RktValLink" data-pltdoc="x">object-name</a></span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">&#21644; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._relocate-input-port%29%29" class="RktValLink" data-pltdoc="x">relocate-input-port</a></span> &#19968;&#26679;,&#38500;&#20102;&#21487;&#20197;&#36890;&#36807; <span class="RktVar">get-location</span> &#20135;&#29983;&#20219;&#24847;&#30340;&#20301;&#32622;&#20449;&#24687; (&#24403;&#34892;&#35745;&#25968;&#34987;&#21551;&#29992;&#26102;),
 &#23427;&#21644; <span class="RktSym"><a href="customport.html#%28def._%28%28quote._~23~25kernel%29._make-input-port%29%29" class="RktValLink" data-pltdoc="x">make-input-port</a></span> &#19968;&#26679;&#34987;&#20351;&#29992;&#12290;
 &#22914;&#26524; <span class="RktVar">get-location</span> &#26159; <span class="RktVal">#f</span>, &#37027;&#20040;&#36825;&#20010;&#31471;&#21475;&#23601;&#20250;&#20197;&#36890;&#24120;&#30340;&#26041;&#24335;&#20174; <span class="RktVar">init-pos</span> &#24320;&#22987;&#35745;&#31639;&#34892;&#25968;,
 &#19982; <span class="RktVar">in</span> &#25253;&#21578;&#30340;&#20301;&#32622;&#26080;&#20851;&#12290;</div></p><p>&#22914;&#26524;&#25552;&#20379;&#20102; <span class="RktVar">count-lines!</span> ,&#21017;&#20250;&#22312;&#25152;&#20135;&#29983;&#30340; port &#21551;&#29992;&#34892;&#35745;&#25968;&#26102;&#35843;&#29992;&#23427;&#12290;&#40664;&#35748;&#24773;&#20917;&#26159; <span class="RktSym"><a href="void.html#%28def._%28%28quote._~23~25kernel%29._void%29%29" class="RktValLink" data-pltdoc="x">void</a></span> &#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._transplant-output-port))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._transplant-output-port%29%29" class="RktValDef RktValLink" data-pltdoc="x">transplant-output-port</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">out</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">get-location</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">init-pos</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">close?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">count-lines!</span><span class="RktOpt">]</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">get-location</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="values.html#%28def._%28%28quote._~23~25kernel%29._values%29%29" class="RktValLink" data-pltdoc="x">values</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-positive-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-positive-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-positive-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-positive-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">init-pos</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-positive-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-positive-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">close?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">count-lines!</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="void.html#%28def._%28%28quote._~23~25kernel%29._void%29%29" class="RktValLink" data-pltdoc="x">void</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="inspectors.html#%28def._%28%28quote._~23~25kernel%29._object-name%29%29" class="RktValLink" data-pltdoc="x">object-name</a></span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">&#19982; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._transplant-input-port%29%29" class="RktValLink" data-pltdoc="x">transplant-input-port</a></span> &#31867;&#20284;,&#20294;&#29992;&#20110;&#36755;&#20986;&#31471;&#21475;&#12290;</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._filter-read-input-port))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._filter-read-input-port%29%29" class="RktValDef RktValLink" data-pltdoc="x">filter-read-input-port</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">in</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">read-wrap</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">peek-wrap</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">close?</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">read-wrap</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._eof-object~3f%29%29" class="RktValLink" data-pltdoc="x">eof-object?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="procedures.html#%28def._%28%28quote._~23~25kernel%29._procedure~3f%29%29" class="RktValLink" data-pltdoc="x">procedure?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._eof-object~3f%29%29" class="RktValLink" data-pltdoc="x">eof-object?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="procedures.html#%28def._%28%28quote._~23~25kernel%29._procedure~3f%29%29" class="RktValLink" data-pltdoc="x">procedure?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">peek-wrap</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._eof-object~3f%29%29" class="RktValLink" data-pltdoc="x">eof-object?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="procedures.html#%28def._%28%28quote._~23~25kernel%29._procedure~3f%29%29" class="RktValLink" data-pltdoc="x">procedure?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._eof-object~3f%29%29" class="RktValLink" data-pltdoc="x">eof-object?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="procedures.html#%28def._%28%28quote._~23~25kernel%29._procedure~3f%29%29" class="RktValLink" data-pltdoc="x">procedure?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">close?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara">&#21019;&#24314;&#19968;&#20010;&#20174; <span class="RktVar">in</span> &#25277;&#21462;&#25968;&#25454;&#30340;&#31471;&#21475;, &#20294;&#36825;&#20010;&#31471;&#21475;&#30340;&#35835;&#21462;&#21644;&#31397;&#35270;&#36807;&#31243;&#30340;&#27599;&#20010;&#32467;&#26524;
 (&#22312; <span class="RktSym"><a href="customport.html#%28def._%28%28quote._~23~25kernel%29._make-input-port%29%29" class="RktValLink" data-pltdoc="x">make-input-port</a></span> &#30340;&#24847;&#20041;&#19978;) &#37117;&#32463;&#36807; <span class="RktVar">read-wrap</span> &#21644; <span class="RktVar">peek-wrap</span> &#36807;&#28388;&#12290;
&#36807;&#28388;&#31243;&#24207;&#22312;&#27599;&#27425;&#35843;&#29992;&#26102;&#37117;&#20250;&#21516;&#26102;&#25509;&#25910; <span class="RktVar">in</span> &#19978;&#30340;&#35835;&#21644;&#31397;&#35270;&#31243;&#24207;&#30340;&#21442;&#25968;&#21644;&#32467;&#26524;&#12290;</div></p><p>&#22914;&#26524; <span class="RktVar">close?</span> &#20026;&#30495;,&#37027;&#20040;&#20851;&#38381;&#20135;&#29983;&#30340;&#31471;&#21475;&#20063;&#23601;&#20851;&#38381;&#20102; <span class="RktVar">in</span> &#65292;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._special-filter-input-port))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._special-filter-input-port%29%29" class="RktValDef RktValLink" data-pltdoc="x">special-filter-input-port</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">close?</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">proc</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="procedures.html#%28def._%28%28quote._~23~25kernel%29._procedure~3f%29%29" class="RktValLink" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._eof-object~3f%29%29" class="RktValLink" data-pltdoc="x">eof-object?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="procedures.html#%28def._%28%28quote._~23~25kernel%29._procedure~3f%29%29" class="RktValLink" data-pltdoc="x">procedure?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">close?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara">&#20135;&#29983;&#30340;&#36755;&#20837;&#31471;&#21475;&#19982; <span class="RktVar">in</span> &#30456;&#24403;,&#21482;&#26159;&#24403; <span class="RktVar">in</span> &#20135;&#29983;&#19968;&#20010;&#35775;&#38382;&#29305;&#27530;&#20540;&#30340;&#36807;&#31243;&#26102;,
<span class="RktVar">proc</span> &#34987;&#24212;&#29992;&#20110;&#35813;&#36807;&#31243;,&#20197;&#20801;&#35768;&#29992;&#21478;&#19968;&#20010;&#26367;&#20195;&#20540;&#26469;&#26367;&#25442;&#29305;&#27530;&#20540;&#12290;
 &#22312;&#35843;&#29992; <span class="RktVar">proc</span> &#26102;,&#20250;&#29992;&#21040;&#29305;&#27530;&#20540;&#36807;&#31243;&#21644;&#32473;&#31471;&#21475;&#30340; read &#25110; peek &#20989;&#25968;(&#35265; <span class="RktSym"><a href="customport.html#%28def._%28%28quote._~23~25kernel%29._make-input-port%29%29" class="RktValLink" data-pltdoc="x">make-input-port</a></span>)&#30340;&#23383;&#33410;&#20018;,
 &#20854;&#32467;&#26524;&#20250;&#34987;&#29992;&#20316; read &#25110; peek &#20989;&#25968;&#30340;&#32467;&#26524;&#12290;
<span class="RktVar">proc</span> &#21487;&#20197;&#20462;&#25913;&#23383;&#33410;&#20018;,&#29992;&#19968;&#20010;&#23383;&#33410;&#20195;&#26367;&#29305;&#27530;&#20540;,&#20294;&#23383;&#33410;&#20018;&#21482;&#33021;&#20445;&#35777;&#33267;&#23569;&#26377;&#19968;&#20010;&#23383;&#33410;&#12290;</div></p><p>&#22914;&#26524; <span class="RktVar">close?</span> &#20026;&#30495;,&#37027;&#20040;&#20851;&#38381;&#20135;&#29983;&#30340;&#36755;&#20837;&#31471;&#21475;&#20063;&#23601;&#20851;&#38381;&#20102; <span class="RktVar">in</span> &#12290;</p><h5 x-source-module="(lib &quot;scribblings/reference/reference.scrbl&quot;)" x-source-pkg="racket-doc" x-part-tag="&quot;端口事件&quot;">13.1.10.3<tt>&nbsp;</tt><a name="(part._~e7~ab~af~e5~8f~a3~e4~ba~8b~e4~bb~b6)"></a>&#31471;&#21475;&#20107;&#20214;</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._eof-evt))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._eof-evt%29%29" class="RktValDef RktValLink" data-pltdoc="x">eof-evt</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">&#36820;&#22238;&#19968;&#20010; <a href="sync.html#%28tech._synchronizable._event%29" class="techoutside" data-pltdoc="x"><span class="techinside">synchronizable event</span></a> ,&#24403; <span class="RktVar">in</span> &#20135;&#29983;&#19968;&#20010; <span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._eof%29%29" class="RktValLink" data-pltdoc="x">eof</a></span> &#26102;,&#35813;&#20107;&#20214;&#24050;&#32463;&#20934;&#22791;&#22909;&#12290;
&#22914;&#26524; <span class="RktVar">in</span> &#20135;&#29983;&#19968;&#20010;&#20013;&#38388;&#27969;&#30340; <span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._eof%29%29" class="RktValLink" data-pltdoc="x">eof</a></span>, &#37027;&#20040;&#21482;&#26377;&#24403;&#35813;&#20107;&#20214;&#22312;&#21516;&#27493;&#20013;&#34987;&#36873;&#25321;&#26102;, <span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._eof%29%29" class="RktValLink" data-pltdoc="x">eof</a></span> &#25165;&#20250;&#34987;&#35813;&#20107;&#20214;&#28040;&#32791;&#12290;</div></p><p>&#22914;&#26524;&#22312;&#21516;&#27493;&#23581;&#35797;&#20013;&#35797;&#22270;&#20174; <span class="RktVar">in</span> &#20013;&#35835;&#20986;&#19968;&#20010;&#24322;&#24120;,&#37027;&#20040;&#36825;&#20010;&#24322;&#24120;&#21487;&#33021;&#20250;&#22312;&#21516;&#27493;&#23581;&#35797;&#20013;&#34987;&#25253;&#21578;,
 &#20294;&#22914;&#26524;&#22312;&#21516;&#19968;&#20010;&#21516;&#27493;&#20013;&#30340;&#21478;&#19968;&#20010;&#20107;&#20214;&#34987;&#36873;&#20013;,&#25110;&#32773;&#20854;&#20182;&#20107;&#20214;&#39318;&#20808;&#24341;&#21457;&#20102;&#19968;&#20010;&#24322;&#24120;,&#37027;&#20040;&#23427;&#23558;&#34987;&#40664;&#40664;&#22320;&#20002;&#24323;&#12290;</p><p class="SHistory">Changed in version 7.5.0.3 of package <span class="stt">base</span>: &#25913;&#21464;&#20102;&#23545;&#35835;&#21462;&#38169;&#35823;&#30340;&#22788;&#29702;,&#20351;&#20854;&#34987;&#20256;&#25773;&#21040;&#21516;&#27493;&#23581;&#35797;&#20013;,
&#32780;&#19981;&#26159;&#20316;&#20026;&#21518;&#21488;&#32447;&#31243;&#20013;&#26410;&#22788;&#29702;&#30340;&#38169;&#35823;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._read-bytes-evt))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._read-bytes-evt%29%29" class="RktValDef RktValLink" data-pltdoc="x">read-bytes-evt</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">k</span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">k</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">&#36820;&#22238;&#19968;&#20010; <a href="sync.html#%28tech._synchronizable._event%29" class="techoutside" data-pltdoc="x"><span class="techinside">synchronizable event</span></a> ,&#24403;&#21487;&#20197;&#20174; <span class="RktVar">in</span> &#20013;&#35835;&#21462; <span class="RktVar">k</span> &#23383;&#33410;&#26102;,
 &#25110;&#32773;&#24403; <span class="RktVar">in</span> &#20013;&#36935;&#21040;&#25991;&#20214;&#32467;&#26463;&#26102;,&#35813;&#20107;&#20214;&#24050;&#32463;&#20934;&#22791;&#23601;&#32490;&#12290;
 &#22914;&#26524; <span class="RktVar">k</span> &#26159; <span class="RktVal">0</span>, &#37027;&#20040;&#35813;&#20107;&#20214;&#31435;&#21363;&#20934;&#22791;&#22909;,&#24182;&#26174;&#31034; <span class="RktVal">""</span> &#12290;
 &#23545;&#20110;&#38750;&#38646;&#30340; <span class="RktVar">k</span>,&#22914;&#26524;&#22312;&#25991;&#20214;&#32467;&#26463;&#21069;&#27809;&#26377;&#21487;&#29992;&#30340;&#23383;&#33410;,&#20107;&#20214;&#30340;&#32467;&#26524;&#26159; <span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._eof%29%29" class="RktValLink" data-pltdoc="x">eof</a></span> &#12290;
 &#21542;&#21017;,&#20107;&#20214;&#30340;&#32467;&#26524;&#26159;&#19968;&#20010;&#26368;&#22810;&#20026; <span class="RktVar">k</span> &#20010;&#23383;&#33410;&#30340;&#23383;&#33410;&#20018;,&#23427;&#21253;&#21547;&#20102;&#22312;&#21487;&#29992;&#30340;&#25991;&#20214;&#32467;&#26463;&#21069;&#30340;&#21487;&#29992;&#23383;&#33410;(&#26368;&#22810;&#20026; <span class="RktVar">k</span> &#20010;)&#12290;
 (&#21482;&#26377;&#22312;&#36935;&#21040;&#25991;&#20214;&#32467;&#26463;&#26102;,&#20854;&#32467;&#26524;&#25165;&#26159;&#19968;&#20010;&#23569;&#20110; <span class="RktVar">k</span> &#23383;&#33410;&#30340;&#23383;&#33410;&#20018;)&#12290;</div></p><p>&#24403;&#19988;&#20165;&#24403;&#20107;&#20214;&#22312;&#21516;&#27493;&#20013;&#34987;&#36873;&#20013;&#26102;,&#25165;&#20250;&#20174;&#31471;&#21475;&#20013;&#35835;&#21462;&#23383;&#33410;,&#24182;&#19988;&#36820;&#22238;&#30340;&#23383;&#33410;&#24635;&#26159;&#20195;&#34920;&#31471;&#21475;&#27969;&#20013;&#30340;&#36830;&#32493;&#23383;&#33410;&#12290;</p><p>&#35813;&#20107;&#20214;&#21487;&#20197;&#34987;&#21516;&#27493;&#22810;&#27425;&ndash;&#20107;&#20214;&#24182;&#21457;,&#32780;&#19988;&#27599;&#27425;&#21516;&#27493;&#37117;&#23545;&#24212;&#20110;&#19968;&#20010;&#19981;&#21516;&#30340;&#35835;&#21462;&#35831;&#27714;&#12290;</p><p><span class="RktVar">in</span> &#24517;&#39035;&#25903;&#25345;&#36827;&#24230;&#20107;&#20214;,&#24182;&#19988;&#22312;&#35835;&#21462;&#23581;&#35797;&#36807;&#31243;&#20013;&#19981;&#33021;&#20135;&#29983;&#29305;&#27530;&#30340;&#38750;&#23383;&#33410;&#20540;&#12290;</p><p>&#35797;&#22270;&#20174; <span class="RktVar">in</span> &#20013;&#35835;&#20986;&#30340;&#24322;&#24120;&#30340;&#22788;&#29702;&#26041;&#24335;&#19982; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._eof-evt%29%29" class="RktValLink" data-pltdoc="x">eof-evt</a></span> &#30340;&#22788;&#29702;&#26041;&#24335;&#30456;&#21516;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._read-bytes!-evt))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._read-bytes%21-evt%29%29" class="RktValDef RktValLink" data-pltdoc="x">read-bytes!-evt</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">bstr</span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">bstr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._and%2Fc%29%29" class="RktValLink" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._not%2Fc%29%29" class="RktValLink" data-pltdoc="x">not/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#%28def._%28%28quote._~23~25kernel%29._immutable~3f%29%29" class="RktValLink" data-pltdoc="x">immutable?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">&#21644; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._read-bytes-evt%29%29" class="RktValLink" data-pltdoc="x">read-bytes-evt</a></span> &#19968;&#26679;,&#38500;&#20102;&#35835;&#21462;&#30340;&#23383;&#33410;&#34987;&#25918;&#20837; <span class="RktVar">bstr</span>,
 &#35835;&#21462;&#30340;&#23383;&#33410;&#25968;&#23545;&#24212;&#20110; <span class="RktPn">(</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes-length%29%29" class="RktValLink" data-pltdoc="x">bytes-length</a></span><span class="stt"> </span><span class="RktVar">bstr</span><span class="RktPn">)</span>&#12290;
&#35813;&#20107;&#20214;&#30340;&#32467;&#26524;&#26159; <span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._eof%29%29" class="RktValLink" data-pltdoc="x">eof</a></span> &#25110;&#35835;&#21462;&#30340;&#23383;&#33410;&#25968;&#12290;</div></p><p><span class="RktVar">bstr</span> &#21487;&#20197;&#22312;&#20107;&#20214;&#30340;&#31532;&#19968;&#27425;&#21516;&#27493;&#23581;&#35797;&#21518;&#30340;&#20219;&#20309;&#26102;&#20505;&#34987;&#31361;&#21464;,&#30452;&#21040;&#20107;&#20214;&#34987;&#36873;&#20013;,
 &#19968;&#20010;&#38750; <span class="RktVal">#f</span> &#30340; <span class="RktSym">progress-evt</span> &#20934;&#22791;&#22909;,&#25110;&#32773;&#24403;&#21069;&#30340; <a href="eval-model.html#%28tech._custodian%29" class="techoutside" data-pltdoc="x"><span class="techinside">custodian</span></a> (&#22312;&#21516;&#27493;&#30340;&#26102;&#20505;)&#34987;&#20851;&#38381;&#12290;
&#35831;&#27880;&#24847;,&#22914;&#26524;&#20107;&#20214;&#27809;&#26377;&#34987;&#21516;&#27493;&#36873;&#25321;, <span class="RktVar">bstr</span> &#21487;&#33021;&#34987;&#31361;&#21464;&#30340;&#26102;&#38388;&#26159;&#27809;&#26377;&#26102;&#38388;&#38480;&#21046;&#30340;;
 &#23613;&#31649;&#22914;&#27492;,&#21482;&#35201;&#22312;&#20854;&#20013;&#19968;&#27425;&#21516;&#27493;&#23581;&#35797;&#36873;&#25321;&#20107;&#20214;&#20043;&#21069;,&#27809;&#26377;&#22312; <span class="RktVar">in</span> &#19978;&#35835;&#21040;&#20219;&#20309;&#24178;&#25200;,
 &#22810;&#20010;&#21516;&#27493;&#23581;&#35797;&#21487;&#20197;&#20351;&#29992;&#26469;&#33258; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._read-bytes%21-evt%29%29" class="RktValLink" data-pltdoc="x">read-bytes!-evt</a></span> &#30340;&#30456;&#21516;&#32467;&#26524;&#12290;</p><p>&#35797;&#22270;&#20174; <span class="RktVar">in</span> &#35835;&#21462;&#30340;&#24322;&#24120;&#30340;&#22788;&#29702;&#26041;&#24335;&#19982; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._eof-evt%29%29" class="RktValLink" data-pltdoc="x">eof-evt</a></span> &#30456;&#21516;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._read-bytes-avail!-evt))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._read-bytes-avail%21-evt%29%29" class="RktValDef RktValLink" data-pltdoc="x">read-bytes-avail!-evt</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">bstr</span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">bstr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._and%2Fc%29%29" class="RktValLink" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._not%2Fc%29%29" class="RktValLink" data-pltdoc="x">not/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#%28def._%28%28quote._~23~25kernel%29._immutable~3f%29%29" class="RktValLink" data-pltdoc="x">immutable?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">&#21644; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._read-bytes%21-evt%29%29" class="RktValLink" data-pltdoc="x">read-bytes!-evt</a></span> &#19968;&#26679;,&#38500;&#20102;&#22312;&#33267;&#23569;&#19968;&#20010;&#23383;&#33410;&#25110;&#19968;&#20010; <span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._eof%29%29" class="RktValLink" data-pltdoc="x">eof</a></span> &#21464;&#24471;&#21487;&#29992;&#20043;&#21518;,&#35813;&#20107;&#20214;&#21482;&#35835;&#21462;&#31435;&#21363;&#21487;&#29992;&#30340;&#23383;&#33410;&#25968;&#12290;</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._read-string-evt))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._read-string-evt%29%29" class="RktValDef RktValLink" data-pltdoc="x">read-string-evt</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">k</span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">k</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">&#21644; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._read-bytes-evt%29%29" class="RktValLink" data-pltdoc="x">read-bytes-evt</a></span> &#19968;&#26679;,&#20294;&#26159;&#23545;&#20110;&#23383;&#31526;&#20018;&#32780;&#19981;&#26159;&#23383;&#33410;&#20018;&#12290;</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._read-string!-evt))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._read-string%21-evt%29%29" class="RktValDef RktValLink" data-pltdoc="x">read-string!-evt</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">str</span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">str</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._and%2Fc%29%29" class="RktValLink" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._not%2Fc%29%29" class="RktValLink" data-pltdoc="x">not/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#%28def._%28%28quote._~23~25kernel%29._immutable~3f%29%29" class="RktValLink" data-pltdoc="x">immutable?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">&#21644; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._read-bytes%21-evt%29%29" class="RktValLink" data-pltdoc="x">read-bytes!-evt</a></span> &#19968;&#26679;,&#20294;&#23545;&#20110;&#23383;&#31526;&#20018;&#32780;&#19981;&#26159;&#23383;&#33410;&#20018;&#12290;</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._read-line-evt))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._read-line-evt%29%29" class="RktValDef RktValLink" data-pltdoc="x">read-line-evt</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">mode</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">mode</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">linefeed</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">return</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">return-linefeed</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">any</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">any-one</span><span class="RktPn">)</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">'</span><span class="RktVal">linefeed</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">&#36820;&#22238;&#19968;&#20010; <a href="sync.html#%28tech._synchronizable._event%29" class="techoutside" data-pltdoc="x"><span class="techinside">synchronizable event</span></a> ,&#24403;&#21487;&#20197;&#20174; <span class="RktVar">in</span> &#35835;&#21462;&#19968;&#34892;&#23383;&#31526;&#25110;&#25991;&#20214;&#26411;&#23614;&#26102;,&#35813;&#20107;&#20214;&#24050;&#32463;&#20934;&#22791;&#23601;&#32490;&#12290;
 <span class="RktVar">mode</span> &#30340;&#21547;&#20041;&#19982; <span class="RktSym"><a href="Byte_and_String_Input.html#%28def._%28%28quote._~23~25kernel%29._read-line%29%29" class="RktValLink" data-pltdoc="x">read-line</a></span> &#30456;&#21516;&#12290;&#20107;&#20214;&#30340;&#32467;&#26524;&#26159;&#35835;&#21462;&#30340;&#19968;&#34892;&#23383;&#31526;(&#19981;&#21253;&#25324;&#34892;&#20998;&#38548;&#31526;)&#12290;</div></p><p>&#24403;&#19988;&#20165;&#24403;&#35813;&#20107;&#20214;&#22312;&#21516;&#27493;&#20013;&#34987;&#36873;&#25321;&#26102;,&#25165;&#20250;&#20174;&#31471;&#21475;&#35835;&#20986;&#19968;&#34892;,&#24182;&#19988;&#36820;&#22238;&#30340;&#34892;&#24635;&#26159;&#20195;&#34920;&#31471;&#21475;&#27969;&#20013;&#30340;&#36830;&#32493;&#23383;&#33410;&#12290;</p><p>&#35797;&#22270;&#20174; <span class="RktVar">in</span> &#20013;&#35835;&#20986;&#30340;&#24322;&#24120;&#30340;&#22788;&#29702;&#26041;&#24335;&#19982; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._eof-evt%29%29" class="RktValLink" data-pltdoc="x">eof-evt</a></span> &#30456;&#21516;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._read-bytes-line-evt))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._read-bytes-line-evt%29%29" class="RktValDef RktValLink" data-pltdoc="x">read-bytes-line-evt</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">mode</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">mode</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">linefeed</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">return</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">return-linefeed</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">any</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">any-one</span><span class="RktPn">)</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">'</span><span class="RktVal">linefeed</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">&#21644; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._read-line-evt%29%29" class="RktValLink" data-pltdoc="x">read-line-evt</a></span> &#19968;&#26679;,&#20294;&#36820;&#22238;&#30340;&#26159;&#19968;&#20010;&#23383;&#33410;&#23383;&#31526;&#20018;,&#32780;&#19981;&#26159;&#19968;&#20010;&#23383;&#31526;&#20018;&#12290;</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._peek-bytes-evt))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._peek-bytes-evt%29%29" class="RktValDef RktValLink" data-pltdoc="x">peek-bytes-evt</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">k</span><span class="hspace">&nbsp;</span><span class="RktVar">skip</span><span class="hspace">&nbsp;</span><span class="RktVar">progress-evt</span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">k</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">skip</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">progress-evt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Byte_and_String_Input.html#%28def._%28%28quote._~23~25kernel%29._progress-evt~3f%29%29" class="RktValLink" data-pltdoc="x">progress-evt?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._peek-bytes!-evt))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._peek-bytes%21-evt%29%29" class="RktValDef RktValLink" data-pltdoc="x">peek-bytes!-evt</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">bstr</span><span class="hspace">&nbsp;</span><span class="RktVar">skip</span><span class="hspace">&nbsp;</span><span class="RktVar">progress-evt</span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">bstr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._and%2Fc%29%29" class="RktValLink" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._not%2Fc%29%29" class="RktValLink" data-pltdoc="x">not/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#%28def._%28%28quote._~23~25kernel%29._immutable~3f%29%29" class="RktValLink" data-pltdoc="x">immutable?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">skip</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">progress-evt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Byte_and_String_Input.html#%28def._%28%28quote._~23~25kernel%29._progress-evt~3f%29%29" class="RktValLink" data-pltdoc="x">progress-evt?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="prototype"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._peek-bytes-avail!-evt))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._peek-bytes-avail%21-evt%29%29" class="RktValDef RktValLink" data-pltdoc="x">peek-bytes-avail!-evt</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">bstr</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">skip</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">progress-evt</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">in</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">bstr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._and%2Fc%29%29" class="RktValLink" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._not%2Fc%29%29" class="RktValLink" data-pltdoc="x">not/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#%28def._%28%28quote._~23~25kernel%29._immutable~3f%29%29" class="RktValLink" data-pltdoc="x">immutable?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">skip</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">progress-evt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Byte_and_String_Input.html#%28def._%28%28quote._~23~25kernel%29._progress-evt~3f%29%29" class="RktValLink" data-pltdoc="x">progress-evt?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._peek-string-evt))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._peek-string-evt%29%29" class="RktValDef RktValLink" data-pltdoc="x">peek-string-evt</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">k</span><span class="hspace">&nbsp;</span><span class="RktVar">skip</span><span class="hspace">&nbsp;</span><span class="RktVar">progress-evt</span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">k</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">skip</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">progress-evt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Byte_and_String_Input.html#%28def._%28%28quote._~23~25kernel%29._progress-evt~3f%29%29" class="RktValLink" data-pltdoc="x">progress-evt?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._peek-string!-evt))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._peek-string%21-evt%29%29" class="RktValDef RktValLink" data-pltdoc="x">peek-string!-evt</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">str</span><span class="hspace">&nbsp;</span><span class="RktVar">skip</span><span class="hspace">&nbsp;</span><span class="RktVar">progress-evt</span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">str</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._and%2Fc%29%29" class="RktValLink" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._not%2Fc%29%29" class="RktValLink" data-pltdoc="x">not/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#%28def._%28%28quote._~23~25kernel%29._immutable~3f%29%29" class="RktValLink" data-pltdoc="x">immutable?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">skip</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">progress-evt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Byte_and_String_Input.html#%28def._%28%28quote._~23~25kernel%29._progress-evt~3f%29%29" class="RktValLink" data-pltdoc="x">progress-evt?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">&#23601;&#20687; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._read-bytes-evt%29%29" class="RktValLink" data-pltdoc="x">read-bytes-evt</a></span> &#31561;&#20989;&#25968;,&#20294;&#29992;&#20110;&#20599;&#30475;&#12290;
<span class="RktVar">skip</span> &#21442;&#25968;&#34920;&#31034;&#35201;&#36339;&#36807;&#30340;&#23383;&#33410;&#25968;,
<span class="RktVar">progress-evt</span> &#34920;&#31034;&#19968;&#20010;&#26377;&#25928;&#22320;&#21462;&#28040;&#20599;&#30475;&#30340;&#20107;&#20214;(&#22240;&#27492;&#35813;&#20107;&#20214;&#27704;&#36828;&#19981;&#20250;&#21464;&#25104;&#23601;&#32490;)&#12290;
 <span class="RktVar">progress-evt</span> &#21442;&#25968;&#21487;&#20197;&#26159; <span class="RktVal">#f</span>, &#22312;&#36825;&#31181;&#24773;&#20917;&#19979;,&#20107;&#20214;&#19981;&#20250;&#34987;&#21462;&#28040;&#12290;</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._regexp-match-evt))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._regexp-match-evt%29%29" class="RktValDef RktValLink" data-pltdoc="x">regexp-match-evt</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pattern</span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pattern</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="regexp.html#%28def._%28%28quote._~23~25kernel%29._regexp~3f%29%29" class="RktValLink" data-pltdoc="x">regexp?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="regexp.html#%28def._%28%28quote._~23~25kernel%29._byte-regexp~3f%29%29" class="RktValLink" data-pltdoc="x">byte-regexp?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">&#36820;&#22238;&#19968;&#20010; <a href="sync.html#%28tech._synchronizable._event%29" class="techoutside" data-pltdoc="x"><span class="techinside">synchronizable event</span></a> ,&#24403; <span class="RktVar">pattern</span> &#19982; <span class="RktVar">in</span> &#20013;&#30340;&#23383;&#33410;/&#23383;&#31526;&#27969;&#21305;&#37197;&#26102;,
 &#35813;&#20107;&#20214;&#23601;&#20934;&#22791;&#22909;&#20102;;&#20063;&#21487;&#21442;&#35265; <span class="RktSym"><a href="regexp.html#%28def._%28%28quote._~23~25kernel%29._regexp-match%29%29" class="RktValLink" data-pltdoc="x">regexp-match</a></span> &#12290;
 &#20107;&#20214;&#30340;&#20540;&#26159;&#21305;&#37197;&#30340;&#32467;&#26524;,&#20854;&#24418;&#24335;&#19982; <span class="RktSym"><a href="regexp.html#%28def._%28%28quote._~23~25kernel%29._regexp-match%29%29" class="RktValLink" data-pltdoc="x">regexp-match</a></span> &#30340;&#32467;&#26524;&#30456;&#21516;&#12290;</div></p><p>&#22914;&#26524; <span class="RktVar">pattern</span> &#19981;&#38656;&#35201;&#20174;&#27969;&#30340;&#36215;&#28857;&#24320;&#22987;&#21305;&#37197;,&#37027;&#20040;&#22312;&#21516;&#27493;&#20013;&#36873;&#25321;&#20107;&#20214;&#26102;,&#20026;&#23436;&#25104;&#21305;&#37197;&#32780;&#36339;&#36807;&#30340;&#23383;&#33410;&#23558;&#34987;&#35835;&#21462;&#24182;&#20002;&#24323;&#12290;</p><p>&#24403;&#19988;&#20165;&#24403;&#20107;&#20214;&#22312;&#21516;&#27493;&#20013;&#34987;&#36873;&#20013;&#26102;,&#25165;&#20250;&#20174;&#31471;&#21475;&#20013;&#35835;&#21462;&#23383;&#33410;,&#24182;&#19988;&#36820;&#22238;&#30340;&#21305;&#37197;&#32467;&#26524;&#24635;&#26159;&#20195;&#34920;&#31471;&#21475;&#27969;&#20013;&#30340;&#36830;&#32493;&#23383;&#33410;&#12290;
 &#22914;&#26524;&#31471;&#21475;&#20013;&#23578;&#26410;&#21487;&#29992;&#30340;&#23383;&#33410;&#21487;&#33021;&#26377;&#21161;&#20110;&#21305;&#37197;,&#37027;&#20040;&#35813;&#20107;&#20214;&#23601;&#27809;&#26377;&#20934;&#22791;&#22909;&#12290;
 &#21516;&#26679;&#22320;,&#22914;&#26524; <span class="RktVar">pattern</span> &#20197;&#27969;&#30340;&#36215;&#28857; <span class="RktInBG"><span class="hspace"></span><span class="RktIn">^</span><span class="hspace"></span></span> &#24320;&#22987;,
 &#24182;&#19988; <span class="RktVar">pattern</span> &#26368;&#21021;&#19981;&#21305;&#37197;,&#37027;&#20040;&#22312;&#20174;&#31471;&#21475;&#35835;&#21462;&#23383;&#33410;&#20043;&#21069;,&#20107;&#20214;&#19981;&#33021;&#20934;&#22791;&#23601;&#32490;&#12290;</p><p>&#20107;&#20214;&#21487;&#20197;&#34987;&#22810;&#27425;&#21516;&#27493;&ndash;&#29978;&#33267;&#21516;&#26102;&#36827;&#34892;&ndash;&#32780;&#19988;&#27599;&#27425;&#21516;&#27493;&#37117;&#23545;&#24212;&#30528;&#19968;&#20010;&#19981;&#21516;&#30340;&#21305;&#37197;&#35831;&#27714;&#12290;</p><p><span class="RktVar">in</span> &#31471;&#21475;&#24517;&#39035;&#25903;&#25345;&#36827;&#24230;&#20107;&#20214;&#12290;
&#22914;&#26524; <span class="RktVar">in</span> &#22312;&#21305;&#37197;&#23581;&#35797;&#20013;&#36820;&#22238;&#19968;&#20010;&#29305;&#27530;&#30340;&#38750;&#23383;&#33410;&#20540;,&#23427;&#23558;&#34987;&#24403;&#20316; <span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._eof%29%29" class="RktValLink" data-pltdoc="x">eof</a></span> &#22788;&#29702;&#12290;</p><p>&#35797;&#22270;&#20174; <span class="RktVar">in</span> &#20013;&#35835;&#20986;&#30340;&#24322;&#24120;&#30340;&#22788;&#29702;&#26041;&#24335;&#19982; <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._eof-evt%29%29" class="RktValLink" data-pltdoc="x">eof-evt</a></span> &#30340;&#22788;&#29702;&#26041;&#24335;&#30456;&#21516;&#12290;</p><h5 x-source-module="(lib &quot;scribblings/reference/reference.scrbl&quot;)" x-source-pkg="racket-doc" x-part-tag="&quot;复制流&quot;">13.1.10.4<tt>&nbsp;</tt><a name="(part._~e5~a4~8d~e5~88~b6~e6~b5~81)"></a>&#22797;&#21046;&#27969;</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._convert-stream))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._convert-stream%29%29" class="RktValDef RktValLink" data-pltdoc="x">convert-stream</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">from-encoding</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">in</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">to-encoding</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">out</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">from-encoding</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">to-encoding</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">&#20174; <span class="RktVar">in</span> &#20013;&#35835;&#21462;&#25968;&#25454;,&#20351;&#29992; <span class="RktPn">(</span><span class="RktSym"><a href="bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes-open-converter%29%29" class="RktValLink" data-pltdoc="x">bytes-open-converter</a></span><span class="stt"> </span><span class="RktVar">from-encoding</span><span class="stt"> </span><span class="RktVar">to-encoding</span><span class="RktPn">)</span> &#36827;&#34892;&#36716;&#25442;,
 &#24182;&#23558;&#36716;&#25442;&#21518;&#30340;&#23383;&#33410;&#20889;&#20837; <span class="RktVar">out</span> &#12290;
 <span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._convert-stream%29%29" class="RktValLink" data-pltdoc="x">convert-stream</a></span> &#31243;&#24207;&#22312;&#36798;&#21040;  <span class="RktVar">in</span> &#30340; <span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._eof%29%29" class="RktValLink" data-pltdoc="x">eof</a></span> &#21518;&#36820;&#22238;&#12290;</div></p><p>&#22914;&#26524;&#25171;&#24320;&#36716;&#25442;&#22120;&#22833;&#36133;,&#20250;&#24341;&#21457; <span class="RktSym"><a href="exns.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._exn~3afail%29%29" class="RktValLink" data-pltdoc="x">exn:fail</a></span> exception is raised &#12290;
 &#21516;&#26679;&#22320;,&#22914;&#26524;&#22312;&#20174; <span class="RktVar">in</span> &#20013;&#35835;&#21462;&#25968;&#25454;&#26102;,&#22312;&#20219;&#20309;&#19968;&#28857;&#21457;&#29983;&#20102;&#36716;&#25442;&#38169;&#35823;,&#37027;&#20040;&#23601;&#20250;&#24341;&#21457; <span class="RktSym"><a href="exns.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._exn~3afail%29%29" class="RktValLink" data-pltdoc="x">exn:fail</a></span> exception is raised &#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._racket/port..rkt)._copy-port))"></a><span title="Provided from: racket/port, racket | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._racket%2Fport..rkt%29._copy-port%29%29" class="RktValDef RktValLink" data-pltdoc="x">copy-port</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">&#20174; <span class="RktVar">in</span> &#20013;&#35835;&#21462;&#25968;&#25454;&#24182;&#23558;&#20854;&#20889;&#22238;&#32473; <span class="RktVar">out</span> ,&#24403; <span class="RktVar">in</span> &#20013;&#20135;&#29983; <span class="RktSym"><a href="port-ops.html#%28def._%28%28quote._~23~25kernel%29._eof%29%29" class="RktValLink" data-pltdoc="x">eof</a></span> &#26102;&#36820;&#22238;&#12290;
 &#36825;&#31181;&#22797;&#21046;&#26159;&#39640;&#25928;&#30340;,&#32780;&#19988;&#27809;&#26377;&#26126;&#26174;&#30340;&#32531;&#20914;&#21306;&#24310;&#36831;(&#21363;,&#22312; <span class="RktVar">in</span> &#19978;&#21487;&#29992;&#30340;&#23383;&#33410;&#20250;&#31435;&#21363;&#36716;&#31227;&#21040; <span class="RktVar">out</span> ,
 &#21363;&#20351;&#22312; <span class="RktVar">in</span> &#19978;&#30340;&#26410;&#26469;&#35835;&#21462;&#24517;&#39035;&#38459;&#22622;)&#12290;
&#22914;&#26524; <span class="RktVar">in</span> &#20135;&#29983;&#20102;&#19968;&#20010;&#29305;&#27530;&#30340;&#38750;&#23383;&#33410;&#20540;,&#23427;&#23558;&#20351;&#29992; <span class="RktSym"><a href="Byte_and_String_Output.html#%28def._%28%28quote._~23~25kernel%29._write-special%29%29" class="RktValLink" data-pltdoc="x">write-special</a></span> &#20256;&#36755;&#21040; <span class="RktVar">out</span> &#12290;</div></p><p>&#36825;&#20010;&#20989;&#25968;&#32463;&#24120;&#34987;&#19968;&#20010; "&#21518;&#21488; "&#32447;&#31243;&#35843;&#29992;,&#20197;&#25345;&#32493;&#22320;&#23558;&#25968;&#25454;&#20174;&#19968;&#20010;&#27969;&#25277;&#21040;&#21478;&#19968;&#20010;&#27969;&#12290;</p><p>&#22914;&#26524;&#25552;&#20379;&#20102;&#22810;&#20010; <span class="RktVar">out</span> ,&#26469;&#33258; <span class="RktVar">in</span> &#30340;&#25968;&#25454;&#20250;&#34987;&#20889;&#21040;&#27599;&#20010; <span class="RktVar">out</span> &#12290;
 &#19981;&#21516;&#30340; <span class="RktVar">out</span> &#20250;&#30456;&#20114;&#38459;&#26029;,
 &#22240;&#20026;&#27599;&#20010;&#20174; <span class="RktVar">in</span> &#35835;&#21462;&#30340;&#25968;&#25454;&#22359;&#22312;&#31227;&#21040;&#19979;&#19968;&#20010; <span class="RktVar">out</span> &#20043;&#21069;&#20250;&#34987;&#23436;&#20840;&#20889;&#20837;&#19968;&#20010; <span class="RktVar">out</span> &#12290;
 <span class="RktVar">out</span> &#26159;&#25353;&#29031;&#25552;&#20379;&#30340;&#39034;&#24207;&#20889;&#20837;&#30340;,&#25152;&#20197;&#38750;&#38459;&#22622;&#31471;&#21475;(&#20363;&#22914;,&#25991;&#20214;&#36755;&#20986;&#31471;&#21475;)&#24212;&#35813;&#25918;&#22312;&#21442;&#25968;&#21015;&#34920;&#30340;&#31532;&#19968;&#20301;&#12290;</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.9&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.9&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="customport.html" title="backward to &quot;13.1.9 Custom Ports&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="ports.html" title="up to &quot;13.1 端口&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Byte_and_String_Input.html" title="forward to &quot;13.2 Byte and String Input&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>