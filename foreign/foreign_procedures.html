<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>3.6&nbsp;函数类型</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Racket &#22806;&#22269;&#25509;&#21475;</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="intro.html" class="tocviewlink" data-pltdoc="x">&#27010;&#36848;</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Loading_Foreign_Libraries.html" class="tocviewlink" data-pltdoc="x">Loading Foreign Libraries</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="types.html" class="tocviewselflink" data-pltdoc="x">C &#31867;&#22411;</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="foreign_pointer-funcs.html" class="tocviewlink" data-pltdoc="x">&#25351;&#38024;&#20989;&#25968;</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Derived_Utilities.html" class="tocviewlink" data-pltdoc="x">Derived Utilities</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Miscellaneous_Support.html" class="tocviewlink" data-pltdoc="x">Miscellaneous Support</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="foreign_c-only.html" class="tocviewlink" data-pltdoc="x">&#26410;&#23548;&#20986;&#30340;&#21407;&#22987;&#20989;&#25968;</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" data-pltdoc="x">Bibliography</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>3&nbsp;</td><td><a href="types.html" class="tocviewlink" data-pltdoc="x">C &#31867;&#22411;</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="ctype.html" class="tocviewlink" data-pltdoc="x">&#31867;&#22411;&#26500;&#36896;&#22120;</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="Numeric_Types.html" class="tocviewlink" data-pltdoc="x">Numeric Types</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="______.html" class="tocviewlink" data-pltdoc="x">&#20854;&#20182;&#21407;&#23376;&#31867;&#22411;</a></td></tr><tr><td align="right">3.4&nbsp;</td><td><a href="String_Types.html" class="tocviewlink" data-pltdoc="x">String Types</a></td></tr><tr><td align="right">3.5&nbsp;</td><td><a href="____.html" class="tocviewlink" data-pltdoc="x">&#25351;&#38024;&#31867;&#22411;</a></td></tr><tr><td align="right">3.6&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">&#20989;&#25968;&#31867;&#22411;</a></td></tr><tr><td align="right">3.7&nbsp;</td><td><a href="C_Struct_Types.html" class="tocviewlink" data-pltdoc="x">C Struct Types</a></td></tr><tr><td align="right">3.8&nbsp;</td><td><a href="C_Array_Types.html" class="tocviewlink" data-pltdoc="x">C Array Types</a></td></tr><tr><td align="right">3.9&nbsp;</td><td><a href="C_____.html" class="tocviewlink" data-pltdoc="x">C &#32852;&#30431;&#31867;&#22411;</a></td></tr><tr><td align="right">3.10&nbsp;</td><td><a href="_____.html" class="tocviewlink" data-pltdoc="x">&#26522;&#20030;&#21644;&#25513;&#30721;</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>3.6&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">&#20989;&#25968;&#31867;&#22411;</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.6.1&nbsp;</td><td><a href="#%28part._foreign~3acustom-types%29" class="tocviewlink" data-pltdoc="x">&#33258;&#23450;&#20041;&#20989;&#25968;&#31867;&#22411;</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__cprocedure%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">_<span class="mywbr"> &nbsp;</span>cprocedure</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">_<span class="mywbr"> &nbsp;</span>fun</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ffi%2Funsafe..rkt%29._function-ptr%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">function-<wbr></wbr>ptr</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29._-~3e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink"><span class="nobreak">-<wbr></wbr>&gt;</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.6.1<tt>&nbsp;</tt></span><a href="#%28part._foreign~3acustom-types%29" class="tocsubseclink" data-pltdoc="x">&#33258;&#23450;&#20041;&#20989;&#25968;&#31867;&#22411;</a></td></tr><tr><td><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29._define-fun-syntax%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>fun-<wbr></wbr>syntax</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">_<span class="mywbr"> &nbsp;</span>?</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__ptr%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">_<span class="mywbr"> &nbsp;</span>ptr</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__box%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">_<span class="mywbr"> &nbsp;</span>box</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__list%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">_<span class="mywbr"> &nbsp;</span>list</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__vector%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">_<span class="mywbr"> &nbsp;</span>vector</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__bytes%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">_<span class="mywbr"> &nbsp;</span>bytes</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__bytes%2Fnul-terminated%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">_<span class="mywbr"> &nbsp;</span>bytes/<span class="mywbr"> &nbsp;</span>nul-<wbr></wbr>terminated</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.9&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.9&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="____.html" title="backward to &quot;3.5 指针类型&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="types.html" title="up to &quot;3 C 类型&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="C_Struct_Types.html" title="forward to &quot;3.7 C Struct Types&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4 x-source-module="(lib &quot;scribblings/foreign/foreign.scrbl&quot;)" x-source-pkg="racket-doc" x-part-tag="&quot;foreign:procedures&quot;">3.6<tt>&nbsp;</tt><a name="(part._foreign~3aprocedures)"></a>&#20989;&#25968;&#31867;&#22411;</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._ffi/unsafe..rkt).__cprocedure))"></a><span title="Provided from: ffi/unsafe | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__cprocedure%29%29" class="RktValDef RktValLink" data-pltdoc="x">_cprocedure</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">input-types</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">output-type</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:abi</span><span class="hspace">&nbsp;</span><span class="RktVar">abi</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:varargs-after</span><span class="hspace">&nbsp;</span><span class="RktVar">varargs-after</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:atomic?</span><span class="hspace">&nbsp;</span><span class="RktVar">atomic?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:async-apply</span><span class="hspace">&nbsp;</span><span class="RktVar">async-apply</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:lock-name</span><span class="hspace">&nbsp;</span><span class="RktVar">lock-name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:in-original-place?</span><span class="hspace">&nbsp;</span><span class="RktVar">in-original-place?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:blocking?</span><span class="hspace">&nbsp;</span><span class="RktVar">blocking?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:callback-exns?</span><span class="hspace">&nbsp;</span><span class="RktVar">callback-exns?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:save-errno</span><span class="hspace">&nbsp;</span><span class="RktVar">save-errno</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:wrapper</span><span class="hspace">&nbsp;</span><span class="RktVar">wrapper</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:keep</span><span class="hspace">&nbsp;</span><span class="RktVar">keep</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">any</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">input-types</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="ctype.html#%28def._%28%28quote._~23~25foreign%29._ctype~3f%29%29" class="RktValLink" data-pltdoc="x">ctype?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">output-type</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="ctype.html#%28def._%28%28quote._~23~25foreign%29._ctype~3f%29%29" class="RktValLink" data-pltdoc="x">ctype?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">abi</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">default</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">stdcall</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">sysv</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">varargs-after</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym">positive-exact-integer?</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">atomic?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">async-apply</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=boxes.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._box%7E3f%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">box?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lock-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in-original-place?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">blocking?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">callback-exns?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">save-errno</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">posix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">windows</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">wrapper</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">keep</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=boxes.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._box%7E3f%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">box?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara">&#19968;&#20010;&#31867;&#22411;&#26500;&#36896;&#20989;&#25968;,&#23427;&#21019;&#24314;&#19968;&#20010;&#26032;&#30340;&#20989;&#25968;&#31867;&#22411;,&#35813;&#31867;&#22411;&#30001;&#32473;&#23450;&#30340; <span class="RktVar">input-types</span> &#21015;&#34920;&#21644; <span class="RktVar">output-type</span>&#12288;&#25351;&#23450;&#12290;
&#36890;&#24120;&#24773;&#20917;&#19979;,&#24212;&#35813;&#20351;&#29992; <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span> &#35821;&#27861;(&#22914;&#19979;&#25152;&#36848;)&#26469;&#20195;&#26367;,&#22240;&#20026;&#23427;&#21487;&#20197;&#31649;&#29702;&#24191;&#27867;&#30340;&#22797;&#26434;&#24773;&#20917;&#12290;</div></p><p>&#20135;&#29983;&#30340;&#31867;&#22411;&#21487;&#20197;&#29992;&#26469;&#24341;&#29992;&#22806;&#22269;&#20989;&#25968;(&#36890;&#24120;&#26159;&#12288;<span class="RktSym">ffi-obj</span>&#12288;,&#20294;&#20219;&#20309;&#25351;&#38024;&#23545;&#35937;&#37117;&#21487;&#20197;&#29992;&#36825;&#31181;&#31867;&#22411;&#26469;&#24341;&#29992;),
 &#29983;&#25104;&#19968;&#20010;&#21305;&#37197;&#30340;&#22806;&#22269; <a name="(tech._callout)"></a><span style="font-style: italic">callout</span> &#23545;&#35937;&#12290;
 &#36825;&#26679;&#30340;&#23545;&#35937;&#26159;&#26032;&#30340;&#21407;&#22987;&#36807;&#31243;&#23545;&#35937;,&#21487;&#20197;&#20687;&#20219;&#20309;&#20854;&#20182; Racket &#36807;&#31243;&#19968;&#26679;&#20351;&#29992;&#12290;
 &#19982;&#20854;&#20182;&#25351;&#38024;&#31867;&#22411;&#19968;&#26679;, <span class="RktVal">#f</span> &#34987;&#35270;&#20026;&#19968;&#20010; <span class="stt">NULL</span>&#12288;&#20989;&#25968;&#25351;&#38024;,&#21453;&#20043;&#20134;&#28982;&#12290;</p><p>&#29992; <span class="RktSym"><a href="#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__cprocedure%29%29" class="RktValLink" data-pltdoc="x">_cprocedure</a></span> &#21019;&#24314;&#30340;&#31867;&#22411;&#20063;&#21487;&#29992;&#20110;&#23558; Racket &#36807;&#31243;&#20256;&#36882;&#32473;&#22806;&#22269;&#20989;&#25968;,
 &#36825;&#23558;&#20135;&#29983;&#19968;&#20010;&#22806;&#22269;&#20989;&#25968;&#25351;&#38024;,&#35843;&#29992;&#32473;&#23450;&#30340; Racket <a name="(tech._callback)"></a><span style="font-style: italic">callback</span> &#36807;&#31243;&#12290;
 &#23545; Racket &#36807;&#31243;&#30340;&#34920;&#31034;&#26041;&#27861;&#27809;&#26377;&#38480;&#21046;;&#29305;&#21035;&#26159;,&#35813;&#36807;&#31243;&#21487;&#20197;&#26377;&#33258;&#30001;&#21464;&#37327;,&#25351;&#20195;&#20854;&#29615;&#22659;&#20013;&#30340;&#32465;&#23450;&#29289;&#12290;
 &#28982;&#32780;,&#22238;&#35843;&#35201;&#21463;&#21040;&#36816;&#34892;&#26102;&#38388;&#30340;&#38480;&#21046;,&#27604;&#22914;&#22312;&#21407;&#23376;&#27169;&#24335;&#19979;&#36816;&#34892;&#25110;&#19981;&#24341;&#21457;&#24322;&#24120;;
 &#35831;&#30475;&#19979;&#38754;&#20851;&#20110; <a href="#%28elem._callbacks%29" data-pltdoc="x">&#30340;&#26356;&#22810;&#20449;&#24687;</a> &#12290;</p><p>&#21487;&#36873;&#30340; <span class="RktVar">abi</span> &#20851;&#38190;&#23383;&#21442;&#25968;&#20915;&#23450;&#20102;&#25152;&#20351;&#29992;&#30340;&#22806;&#22269; ABI&#12290;
&#25552;&#20379; <span class="RktVal">#f</span> &#25110; <span class="RktVal">'</span><span class="RktVal">default</span> &#34920;&#31034;&#20381;&#36182;&#20110;&#24179;&#21488;&#30340;&#40664;&#35748;&#20540;&#12290;
&#20854;&#20182;&#21487;&#33021;&#30340;&#20540;&#8212;<wbr></wbr><span class="RktVal">'</span><span class="RktVal">stdcall</span> &#21644; <span class="RktVal">'</span><span class="RktVal">sysv</span> (&#21363; &ldquo;cdecl&rdquo;)&#8212;<wbr></wbr>&#30446;&#21069;&#21482;&#25903;&#25345; 32 &#20301; Windows;
 &#22312;&#20854;&#20182;&#24179;&#21488;&#19978;&#20351;&#29992;&#23427;&#20204;&#20250;&#24341;&#21457;&#19968;&#20010;&#24322;&#24120;&#12290;&#21442;&#35265; <a href="winapi.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">ffi/winapi</span></a>&#12288;&#12290;</p><p>&#21487;&#36873;&#30340; <span class="RktVar">varargs-after</span> &#21442;&#25968;&#34920;&#31034;&#19968;&#20123;&#20989;&#25968;&#31867;&#22411;&#30340;&#21442;&#25968;&#26159;&#21542;&#24212;&#35813;&#34987;&#35270;&#20026; "varargs",
 &#36825;&#20123;&#21442;&#25968;&#22312; C &#35821;&#35328;&#22768;&#26126;&#20013;&#29992;&#30465;&#30053;&#21495; <span class="RktInBG"><span class="hspace"></span><span class="RktIn">...</span><span class="hspace"></span></span> &#34920;&#31034;(&#20294;&#22312; <span class="RktVar">input-types</span>&#12288;&#20013;&#26159;&#26174;&#24335;&#21442;&#25968;)&#12290;
 &#19968;&#20010; <span class="RktVal">#f</span>&#12288;&#20540;&#34920;&#31034; C &#20989;&#25968;&#31867;&#22411;&#27809;&#26377; varargs&#12290;
 &#22914;&#26524;&#12288;<span class="RktVar">varargs-after</span> &#26159;&#19968;&#20010;&#25968;&#23383;,
 &#37027;&#20040;&#36755;&#20837;-&#31867;&#22411;&#20013;&#31532;&#19968;&#20010;&#12288;<span class="RktVar">varargs-after</span> &#21442;&#25968;&#20043;&#21518;&#30340;&#21442;&#25968;&#23601;&#26159; <span class="RktVar">input-types</span> &#12290;
 &#27880;&#24847; <span class="RktVal">#f</span> &#22312;&#26576;&#20123;&#24179;&#21488;&#19978;&#19982; <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._length%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">length</a></span><span class="stt"> </span><span class="RktVar">input-types</span><span class="RktPn">)</span>
&#19981;&#21516;;&#19968;&#20010;&#20989;&#25968;&#30340; varargs &#30340;&#21487;&#33021;&#24615;&#21487;&#33021;&#24847;&#21619;&#30528;&#21363;&#20351;&#26159;&#38750; vararg &#30340;&#21442;&#25968;,&#20063;&#26377;&#19981;&#21516;&#30340;&#35843;&#29992;&#24815;&#20363;&#12290;
 &#36824;&#35201;&#27880;&#24847;&#30340;&#26159;,&#38750;&#12288;<span class="RktVal">#f</span>&#12288;&#30340; <span class="RktVar">varargs-after</span> &#24182; <span class="emph">&#19981;</span>
&#24847;&#21619;&#30528;&#20320;&#21487;&#20197;&#21521;&#19968;&#20010; <a href="#%28tech._callout%29" class="techoutside" data-pltdoc="x"><span class="techinside">callout</span></a>&#12288;&#25552;&#20379;&#20219;&#24847;&#25968;&#37327;&#30340;&#21442;&#25968;,
 &#25110;&#32773;&#21521;&#19968;&#20010;&#20351;&#29992;&#36807;&#31243;&#31867;&#22411;&#30340; <a href="#%28tech._callback%29" class="techoutside" data-pltdoc="x"><span class="techinside">callback</span></a> &#25509;&#25910;&#20219;&#24847;&#25968;&#37327;&#30340;&#21442;&#25968;;
 &#35201;&#22788;&#29702;&#19981;&#21516;&#30340;&#21442;&#25968;&#25968;&#21644;&#21442;&#25968;&#31867;&#22411;,&#35831;&#20026;&#27599;&#20010;&#32452;&#21512;&#20998;&#21035;&#20351;&#29992; <span class="RktSym"><a href="#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__cprocedure%29%29" class="RktValLink" data-pltdoc="x">_cprocedure</a></span> (&#25110; <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span>) &#12290;</p><p>&#29992;&#20110;&#23545;&#20855;&#26377;&#29983;&#25104;&#31867;&#22411;&#30340;&#22806;&#22269;&#20989;&#25968;&#30340; <a href="#%28tech._callout%29" class="techoutside" data-pltdoc="x"><span class="techinside">callouts</span></a> :</p><ul><li><p>&#22914;&#26524; <span class="RktVar">save-errno</span> &#26159; <span class="RktVal">'</span><span class="RktVal">posix</span>,
   &#37027;&#20040; <a name="(idx._(gentag._4._(lib._scribblings/foreign/foreign..scrbl)))"></a><span class="stt">errno</span> &#30340;&#20540;&#20250;&#22312;&#22806;&#22269;&#20989;&#25968; <a href="#%28tech._callout%29" class="techoutside" data-pltdoc="x"><span class="techinside">callout</span></a>&#12288;&#36820;&#22238;&#21518;&#31435;&#21363;&#34987;&#20445;&#23384;(&#29305;&#23450;&#20110;&#24403;&#21069;&#32447;&#31243;)&#12290;
   &#20445;&#23384;&#30340;&#20540;&#21487;&#20197;&#36890;&#36807; <span class="RktSym"><a href="Miscellaneous_Support.html#%28def._%28%28quote._~23~25foreign%29._saved-errno%29%29" class="RktValLink" data-pltdoc="x">saved-errno</a></span>&#12288;&#35775;&#38382;&#12290;
&#22914;&#26524; <span class="RktVar">save-errno</span> &#26159; <span class="RktVal">'</span><span class="RktVal">windows</span>, &#37027;&#20040; <a name="(idx._(gentag._5._(lib._scribblings/foreign/foreign..scrbl)))"></a><span class="stt">GetLastError</span><span class="stt">()</span> &#30340;&#20540;&#20250;&#34987;&#20445;&#23384;&#19979;&#26469;,
   &#20197;&#20415;&#20197;&#21518;&#36890;&#36807; <span class="RktSym"><a href="Miscellaneous_Support.html#%28def._%28%28quote._~23~25foreign%29._saved-errno%29%29" class="RktValLink" data-pltdoc="x">saved-errno</a></span>&#12288;&#20351;&#29992;;
   <span class="RktVal">'</span><span class="RktVal">windows</span> &#36873;&#39033;&#21482;&#22312; Windows &#19978;&#21487;&#29992;(&#22312;&#20854;&#20182;&#24179;&#21488;&#19978; <span class="RktSym"><a href="Miscellaneous_Support.html#%28def._%28%28quote._~23~25foreign%29._saved-errno%29%29" class="RktValLink" data-pltdoc="x">saved-errno</a></span> &#20250;&#36820;&#22238;0)&#12290;
&#22914;&#26524; <span class="RktVar">save-errno</span> &#26159; <span class="RktVal">#f</span>,&#21017;&#19981;&#20250;&#33258;&#21160;&#20445;&#23384;&#38169;&#35823;&#20540;&#12290;</p><p>&#38656;&#35201; <span class="RktVar">save-errno</span> &#25552;&#20379;&#30340;&#38169;&#35823;&#35760;&#24405;&#25903;&#25345;,&#22240;&#20026; Racket &#36816;&#34892;&#31995;&#32479;&#21487;&#33021;&#20250;&#25250;&#21344;&#24403;&#21069; Racket &#32447;&#31243;,
   &#24182;&#33258;&#24049;&#35843;&#29992;&#35774;&#32622;&#38169;&#35823;&#20540;&#30340;&#20989;&#25968;&#12290;</p></li><li><p>&#22914;&#26524; <span class="RktVar">wrapper</span> &#19981;&#26159; <span class="RktVal">#f</span>,
  &#23427;&#23601;&#20250;&#25509;&#21463;&#26412;&#26469;&#20250;&#20135;&#29983;&#30340; <a href="#%28tech._callout%29" class="techoutside" data-pltdoc="x"><span class="techinside">callout</span></a> &#24182;&#36820;&#22238;&#19968;&#20010;&#26367;&#25442;&#36807;&#31243;&#12290;
&#22240;&#27492;, <span class="RktVar">wrapper</span> &#20316;&#20026;&#19968;&#20010;&#38057;&#23376;,&#22312;&#30495;&#27491;&#30340; <a href="#%28tech._callout%29" class="techoutside" data-pltdoc="x"><span class="techinside">callout</span></a> &#34987;&#35843;&#29992;&#20043;&#21069;&#25191;&#34892;&#21508;&#31181;&#21442;&#25968;&#25805;&#20316;,
  &#23427;&#21487;&#20197;&#36820;&#22238;&#19981;&#21516;&#30340;&#32467;&#26524;(&#20363;&#22914;,&#25235;&#21462;&#19968;&#20010;&#23384;&#20648;&#22312; "&#36755;&#20986;" &#25351;&#38024;&#20013;&#30340;&#20540;&#24182;&#36820;&#22238;&#22810;&#20010;&#20540;)&#12290;</p></li><li><p>&#22914;&#26524; <span class="RktVar">lock-name</span> &#19981;&#26159; <span class="RktVal">#f</span>, &#37027;&#20040;&#22312;&#23545;&#22806;&#35843;&#29992;&#30340;&#36807;&#31243;&#20013;,&#19968;&#20010;&#20855;&#26377;&#32473;&#23450;&#21517;&#31216;&#30340;&#20840;&#36827;&#31243;&#38145;&#23558;&#34987;&#20445;&#25345;&#12290;
&#22312;&#25903;&#25345;&#24182;&#34892;&#22320;&#26041;&#30340;&#26500;&#24314;&#20013;, <span class="RktVar">lock-name</span> &#26159;&#36890;&#36807; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=inside&amp;rel=Miscellaneous_Utilities.html%23%2528cpp._scheme_register_process_global%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="stt">scheme_register_process_global</span></a>&#12288;&#27880;&#20876;&#30340;,
   &#25152;&#20197;&#35201;&#36873;&#25321;&#36866;&#24403;&#30340;&#19981;&#21516;&#21517;&#31216;&#12290;</p></li><li><p>&#22914;&#26524; <span class="RktVar">in-original-place?</span> &#20026; true,
   &#37027;&#20040;&#24403;&#22312;&#20219;&#20309; Racket &#22320;&#26041;&#35843;&#29992;&#19968;&#20010;&#20855;&#26377;&#29983;&#25104;&#31867;&#22411;&#30340;&#22806;&#26469; <a href="#%28tech._callout%29" class="techoutside" data-pltdoc="x"><span class="techinside">callout</span></a> &#36807;&#31243;&#26102;,
   &#35813;&#36807;&#31243;&#23558;&#20174;&#21407;&#22987; Racket <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=places.html%23%2528tech._place%2529&amp;version=8.9" class="techoutside Sq" data-pltdoc="x"><span class="techinside">place</span></a>&#12288;&#20013;&#35843;&#29992;&#19968;&#20010;&#20855;&#26377;&#25152;&#29983;&#25104;&#31867;&#22411;&#30340;&#22806;&#26469;&#35843;&#29992;&#36807;&#31243;&#26102;,&#35813;&#36807;&#31243;&#23558;&#20174;&#21407;&#22987; Racket &#22320;&#26041;&#35843;&#29992;&#12290;
&#23545;&#20110;&#22312; C &#32423;&#21035;&#19978;&#19981;&#20855;&#26377;&#32447;&#31243;&#23433;&#20840;&#30340;&#22806;&#26469;&#20989;&#25968;,&#20351;&#29992;&#36825;&#31181;&#27169;&#24335;,&#36825;&#24847;&#21619;&#30528;&#23427;&#22312; Racket &#32423;&#21035;&#19978;&#26159;&#19981;&#20855;&#26377;&#20301;&#32622;&#23433;&#20840;&#30340;&#12290;
 &#20174;&#38750;&#23433;&#20840;&#20301;&#32622;&#30340;&#20195;&#30721;&#20013; <a href="#%28tech._callback%29" class="techoutside" data-pltdoc="x"><span class="techinside">Callbacks</span></a> &#22238;&#21040;&#38750;&#21407;&#22987;&#20301;&#32622;&#30340; Racket &#20013;&#36890;&#24120;&#19981;&#20250;&#24037;&#20316;,
   &#22240;&#20026; Racket &#20195;&#30721;&#30340;&#20301;&#32622;&#21487;&#33021;&#19982;&#21407;&#22987;&#20301;&#32622;&#26377;&#19981;&#21516;&#30340;&#20998;&#37197;&#22120;&#12290;</p></li><li><p>&#22914;&#26524; <span class="RktVar">blocking?</span> &#20026;&#30495;,&#37027;&#20040;&#22312;&#23545;&#22806; <a href="#%28tech._callout%29" class="techoutside" data-pltdoc="x"><span class="techinside">callout</span></a> &#26399;&#38388;,
   &#22312; Racket &#21464;&#20307;&#25903;&#25345;&#30340;&#33539;&#22260;&#20869;,&#23545;&#22806;&#35843;&#29992;&#20250;&#20572;&#29992;&#23545;&#35843;&#29992;&#25805;&#20316;&#31995;&#32479;&#32447;&#31243;&#30340;&#36319;&#36394;&#12290;
   <span class="RktVar">blocking?</span> &#30340;&#20540;&#21482;&#24433;&#21709; Racket &#30340; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=performance.html%23%2528tech._c%2529&amp;version=8.9" class="techoutside Sq" data-pltdoc="x"><span class="techinside">CS</span></a> &#23454;&#29616;,&#22312;&#37027;&#37324;,
   &#24403;&#35843;&#29992; <a href="#%28tech._callout%29" class="techoutside" data-pltdoc="x"><span class="techinside">callout</span></a> &#26102;,&#23427;&#21487;&#20197;&#22312;&#20854;&#20182;&#25805;&#20316;&#31995;&#32479;&#32447;&#31243;&#20013;&#36827;&#34892;&#22403;&#22334;&#25910;&#38598;&#31561;&#27963;&#21160;&#12290;
&#30001;&#20110;&#22403;&#22334;&#25910;&#38598;&#21487;&#33021;&#21457;&#29983;&#22312;&#23545;&#22806;&#35843;&#29992;&#26399;&#38388;,&#22914;&#26524;&#23545;&#35937;&#34987;&#22403;&#22334;&#25910;&#38598;&#22120;&#31649;&#29702;,&#20256;&#36882;&#32473;&#23545;&#22806;&#35843;&#29992;&#30340;&#23545;&#35937;&#38656;&#35201;&#26159;&#19981;&#21487;&#31227;&#21160;&#30340;;
   &#29305;&#21035;&#26159;,&#20219;&#20309; <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__ptr%29%29" class="RktStxLink" data-pltdoc="x">_ptr</a></span> &#21442;&#25968;&#36890;&#24120;&#24212;&#35813;&#25351;&#23450; <span class="RktVal">'</span><span class="RktVal">atomic-interior</span> &#20998;&#37197;&#27169;&#24335;&#12290;
 &#22914;&#26524;&#38459;&#22622;&#24335; <a href="#%28tech._callout%29" class="techoutside" data-pltdoc="x"><span class="techinside">callout</span></a> &#21487;&#20197;&#35843;&#29992;&#20219;&#20309; <a href="#%28tech._callback%29" class="techoutside" data-pltdoc="x"><span class="techinside">callbacks</span></a> &#21040;Racket,
   &#36825;&#20123; <a href="#%28tech._callback%29" class="techoutside" data-pltdoc="x"><span class="techinside">callbacks</span></a> &#24517;&#39035;&#20197;&#38750;&#12288;<span class="RktVal">#f</span>&#12288;&#20540;&#30340; <span class="RktVar">async-apply</span>&#12288;&#26500;&#36896;,
   &#21363;&#20351;&#23427;&#20204;&#24635;&#26159;&#22312;&#29992;&#20110;&#36816;&#34892; Racket &#30340;&#25805;&#20316;&#31995;&#32479;&#32447;&#31243;&#20013;&#24212;&#29992;&#12290;</p></li><li><p>&#22914;&#26524; <span class="RktVar">callback-exns?</span> &#20026;&#30495;,
  &#37027;&#20040;&#22269;&#22806; <a href="#%28tech._callout%29" class="techoutside" data-pltdoc="x"><span class="techinside">callout</span></a> &#20801;&#35768;&#22312;&#22269;&#22806;&#35843;&#29992;&#36807;&#31243;&#20013;&#30340;&#21407;&#23376; <a href="#%28tech._callback%29" class="techoutside" data-pltdoc="x"><span class="techinside">callback</span></a> &#24341;&#21457;&#19968;&#20010;&#24322;&#24120;,&#35813;&#24322;&#24120;&#20174;&#22269;&#22806;&#35843;&#29992;&#20013;&#36867;&#36920;&#12290;
&#20174;&#22269;&#22806;&#24211;&#30340;&#35282;&#24230;&#26469;&#30475;,&#24322;&#24120;&#36890;&#36807; <span class="stt">longjmp</span> &#36867;&#36920;&#12290;
&#24322;&#24120;&#36867;&#36920;&#26159;&#36890;&#36807;&#25429;&#33719;&#24182;&#37325;&#26032;&#24341;&#21457;&#24322;&#24120;&#30340;&#24322;&#24120;&#22788;&#29702;&#31243;&#24207;&#23454;&#29616;&#30340;&#12290;</p><p>&#22312; Racket &#30340; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=performance.html%23%2528tech._bc%2529&amp;version=8.9" class="techoutside Sq" data-pltdoc="x"><span class="techinside">BC</span></a> &#23454;&#29616;&#20013;,&#24341;&#21457;&#24322;&#24120;&#30340;&#22238;&#35843;&#24517;&#39035;&#26159;&#19968;&#20010;&#21407;&#23376;&#22238;&#35843;(&#22312; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=performance.html%23%2528tech._c%2529&amp;version=8.9" class="techoutside Sq" data-pltdoc="x"><span class="techinside">CS</span></a> &#23454;&#29616;&#20013;&#22238;&#35843;&#24635;&#26159;&#21407;&#23376;&#30340;)&#12290;
&#22312;&#20855;&#26377; <span class="RktVar">async-apply</span> &#30340;&#22238;&#35843;&#20013;&#19981;&#20801;&#35768;&#24341;&#21457;&#24322;&#24120;,&#22240;&#20026;&#35813;&#22238;&#35843;&#23558;&#22312;&#19968;&#20010;&#26410;&#25351;&#23450;&#30340;&#19978;&#19979;&#25991;&#20013;&#36816;&#34892;&#12290;
&#22914;&#26524;&#35843;&#29992;(&#23548;&#33268;&#22238;&#35843;)&#22312;&#21019;&#24314;&#26102;&#23558; <span class="RktVar">in-original-place?</span> &#35774;&#20026; true,&#24182;&#22312;&#38750;&#21407;&#22987;&#20301;&#32622;&#35843;&#29992;,&#20063;&#19981;&#20801;&#35768;&#24341;&#21457;&#24322;&#24120;&#12290;</p></li><li><p>&#25552;&#20379;&#32473; <a href="#%28tech._callout%29" class="techoutside" data-pltdoc="x"><span class="techinside">callout</span></a> &#30340;&#20540;(&#21363;&#24213;&#23618;&#30340; callout,&#32780;&#19981;&#26159;&#30001; <span class="RktVar">wrapper</span> &#20135;&#29983;&#30340;&#26367;&#25442;,&#22914;&#26524;&#26377;&#30340;&#35805;)
   &#24635;&#26159;&#34987;&#35748;&#20026;&#21487;&#20197;&#34987;&#22403;&#22334;&#25910;&#38598;&#22120;&#36798;&#21040;,&#30452;&#21040;&#34987;&#35843;&#29992;&#30340;&#22806;&#22269;&#20989;&#25968;&#36820;&#22238;&#12290;
&#28982;&#32780;,&#22914;&#26524;&#22806;&#22269;&#20989;&#25968;&#35843;&#29992;&#20102; Racket &#22238;&#35843;,&#35831;&#27880;&#24847; Racket &#22403;&#22334;&#25910;&#38598;&#22120;&#31649;&#29702;&#30340;&#20540;&#21487;&#33021;&#20250;&#34987;&#22403;&#22334;&#25910;&#38598;&#22120;&#22312;&#20869;&#23384;&#20013;&#31227;&#21160;&#12290;</p></li><li><p>&#19968;&#20010; <a href="#%28tech._callout%29" class="techoutside" data-pltdoc="x"><span class="techinside">callout</span></a> &#23545;&#35937;&#22312;&#20869;&#37096;&#34987;&#26368;&#32456;&#30830;&#23450;&#12290;
&#23567;&#24515;&#35797;&#22270;&#20351;&#29992;&#19968;&#20010;&#21482;&#33021;&#20174;&#19968;&#20010;&#26368;&#32456;&#21270;&#30340;&#23545;&#35937;&#20013;&#33719;&#24471;&#30340; <a href="#%28tech._callout%29" class="techoutside" data-pltdoc="x"><span class="techinside">callout</span></a> &#23545;&#35937;,&#22240;&#20026;&#36825;&#20004;&#20010;&#23545;&#35937;&#21487;&#33021;&#20197;&#20219;&#20309;&#19968;&#20010;&#39034;&#24207;&#26368;&#32456;&#21270;&#12290;</p></li></ul><p>&#29992;&#20110; <a name="(elem._callbacks)"></a><a href="#%28tech._callback%29" class="techoutside" data-pltdoc="x"><span class="techinside">callbacks</span></a> &#29983;&#25104;&#31867;&#22411;&#30340; Racket &#20989;&#25968;:</p><ul><li><p><span class="RktVar">keep</span> &#21442;&#25968;&#25552;&#20379;&#20102;&#23545;&#22403;&#22334;&#25910;&#38598;&#22120;&#23545;&#24213;&#23618;&#20540;&#30340;&#21487;&#36798;&#24615;&#30340;&#25511;&#21046;,&#22806;&#22269;&#20195;&#30721;&#23558;&#20854;&#35270;&#20026;&#26222;&#36890;&#30340; C &#20989;&#25968;&#12290;
&#22312;&#22806;&#22269;&#20195;&#30721;&#21487;&#33021;&#20445;&#30041;&#22238;&#35843;&#20989;&#25968;&#30340;&#24773;&#20917;&#19979;,&#24517;&#39035;&#37319;&#21462;&#39069;&#22806;&#30340;&#25514;&#26045;,&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;,&#22238;&#35843;&#20540;&#24517;&#39035;&#20445;&#25345;&#21487;&#21450;&#24615;,&#21542;&#21017;&#34987;&#20445;&#30041;&#30340;&#22238;&#35843;&#23558;&#21464;&#24471;&#26080;&#25928;&#12290;
  <span class="RktVar">keep</span> &#30340;&#21487;&#33021;&#20540;&#22914;&#19979;:</p><ul><li><p><span class="RktVal">#t</span> &#8212;<wbr></wbr> &#21482;&#35201;&#36716;&#25442;&#21518;&#30340; Racket &#20989;&#25968;&#21487;&#20197;&#21040;&#36798;, <a href="#%28tech._callback%29" class="techoutside" data-pltdoc="x"><span class="techinside">callback</span></a> &#23601;&#20250;&#30041;&#22312;&#20869;&#23384;&#20013;&#12290;
    &#36825;&#31181;&#27169;&#24335;&#26159;&#40664;&#35748;&#30340;,&#22240;&#20026;&#23427;&#22312;&#22823;&#22810;&#25968;&#24773;&#20917;&#19979;&#37117;&#24456;&#22909;&#12290;
&#35831;&#27880;&#24847;,&#27599;&#20010; Racket &#20989;&#25968;&#21482;&#33021;&#36890;&#36807;&#36825;&#31181;&#27169;&#24335;&#20445;&#25345;&#19968;&#20010;&#22238;&#35843;&#20540;,&#25152;&#20197;&#23427;&#19981;&#36866;&#21512;&#20110;&#19968;&#20010;&#22810;&#27425;&#20351;&#29992;&#30340;&#20989;&#25968;&#20316;&#20026;&#37325;&#25490;&#22238;&#35843;&#12290;</p></li><li><p><span class="RktVal">#f</span> &#8212;<wbr></wbr> <a href="#%28tech._callback%29" class="techoutside" data-pltdoc="x"><span class="techinside">callback</span></a> &#20540;&#19981;&#34987;&#20445;&#30041;&#12290;
    &#36825;&#31181;&#27169;&#24335;&#23545;&#20110;&#21482;&#22312;&#23545;&#22806;&#35843;&#29992;&#26399;&#38388;&#20351;&#29992;&#30340;&#22238;&#35843;&#21487;&#33021;&#26159;&#26377;&#29992;&#30340;;
    &#20363;&#22914;,&#26631;&#20934; C &#24211; <span class="stt">qsort</span> &#20989;&#25968;&#30340;&#27604;&#36739;&#20989;&#25968;&#21442;&#25968;&#21482;&#22312; <span class="stt">qsort</span> &#24037;&#20316;&#26102;&#20351;&#29992;,&#24182;&#19988;&#19981;&#20445;&#30041;&#23545;&#27604;&#36739;&#20989;&#25968;&#30340;&#39069;&#22806;&#24341;&#29992;&#12290;
&#21482;&#26377;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#25165;&#20351;&#29992;&#36825;&#20010;&#36873;&#39033;,&#24403;&#27809;&#26377;&#24517;&#35201;&#20445;&#30041;&#24182;&#19988;&#20320;&#24819;&#36991;&#20813;&#39069;&#22806;&#30340;&#36153;&#29992;&#26102;&#12290;</p></li><li><p>&#19968;&#20010;&#25345;&#26377; <span class="RktVal">#f</span> &#25110;&#20219;&#20309;&#20854;&#20182;&#38750;&#21015;&#34920;&#20540;&#30340;&#30418;&#23376;&ndash;&#22238;&#35843;&#20540;&#34987;&#23384;&#20648;&#22312;&#30418;&#23376;&#37324;,
     &#35206;&#30422;&#20219;&#20309;&#22312;&#30418;&#23376;&#37324;&#30340;&#38750;&#21015;&#34920;&#20540;(&#20351;&#24471;&#23427;&#23545;&#20110;&#25345;&#26377;&#19968;&#20010;&#22238;&#35843;&#20540;&#24456;&#26377;&#29992;)&#12290;
 &#24403;&#20320;&#30693;&#36947;&#19981;&#20877;&#38656;&#35201;&#22238;&#35843;&#26102;,&#20320;&#21487;&#20197;&#36890;&#36807;&#25913;&#21464;&#30418;&#23376;&#30340;&#20869;&#23481;&#25110;&#35753;&#30418;&#23376;&#26412;&#36523;&#21464;&#24471;&#19981;&#21487;&#35775;&#38382;&#26469; "&#37322;&#25918;" &#22238;&#35843;&#20540;&#12290;
&#22914;&#26524;&#30418;&#23376;&#34987;&#20445;&#30041;&#30340;&#21160;&#24577;&#33539;&#22260;&#19982;&#38656;&#35201;&#22238;&#35843;&#30340;&#26102;&#38388;&#30456;&#23545;&#24212;,&#37027;&#20040;&#36825;&#31181;&#27169;&#24335;&#23601;&#24456;&#26377;&#29992;;
     &#20363;&#22914;,&#20320;&#21487;&#33021;&#22312; Racket &#31867;&#25110;&#21333;&#20803;&#20013;&#23553;&#35013;&#20102;&#19968;&#20123;&#22806;&#26469;&#21151;&#33021;,&#24182;&#22312;&#21333;&#20803;&#30340;&#26032;&#23454;&#20363;&#25110;&#23454;&#20363;&#21270;&#20013;&#25226;&#22238;&#35843;&#30418;&#23376;&#20316;&#20026;&#19968;&#20010;&#23383;&#27573;&#20445;&#30041;&#12290;</p></li><li><p>&#25345;&#26377; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._null%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">null</a></span> (&#25110;&#20219;&#20309;&#21015;&#34920;)&#30340;&#30418;&#23376;&ndash;&#31867;&#20284;&#20110;&#25345;&#26377;&#38750;&#21015;&#34920;&#20540;&#30340;&#30418;&#23376;,
    &#21482;&#26159;&#26032;&#30340;&#22238;&#35843;&#20540;&#34987; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">cons</a></span> &#21040;&#30418;&#23376;&#30340;&#20869;&#23481;&#19978;&#12290;
&#22240;&#27492;,&#24403;&#19968;&#20010; Racket &#20989;&#25968;&#34987;&#29992;&#20110;&#22810;&#20010;&#22238;&#35843;(&#20063;&#23601;&#26159;&#35828;,&#34987;&#21457;&#36865;&#21040;&#22269;&#22806;&#30340;&#20195;&#30721;&#19978;&#20445;&#25345;&#22810;&#27425;),
    &#24182;&#19988;&#25152;&#26377;&#30340;&#22238;&#35843;&#37117;&#24212;&#35813;&#34987;&#20445;&#30041;&#22312;&#19968;&#36215;&#26102;,&#36825;&#31181;&#27169;&#24335;&#38750;&#24120;&#26377;&#29992;&#12290;</p></li><li><p>&#19968;&#20010;&#21333;&#21442;&#25968;&#30340;&#20989;&#25968;&ndash;&#35813;&#20989;&#25968;&#22312;&#29983;&#25104;&#26102;&#19982;&#22238;&#35843;&#20540;&#19968;&#36215;&#34987;&#35843;&#29992;&#12290;
&#36825;&#31181;&#27169;&#24335;&#20801;&#35768;&#20320;&#26126;&#30830;&#22320;&#31649;&#29702;&#29983;&#25104;&#30340;&#22238;&#35843;&#38381;&#21253;&#30340;&#21487;&#36798;&#24615;&#12290;</p></li></ul></li><li><p>&#22914;&#26524; <span class="RktVar">wrapper</span> &#19981;&#26159; <span class="RktVal">#f</span>, &#23427;&#25509;&#25910;&#35201;&#36716;&#25442;&#20026; <a href="#%28tech._callback%29" class="techoutside" data-pltdoc="x"><span class="techinside">callback</span></a> &#30340;&#36807;&#31243;,
   &#24182;&#36820;&#22238;&#19968;&#20010;&#26367;&#20195;&#36807;&#31243;,&#20316;&#20026;&#22238;&#35843;&#20989;&#25968;&#34987;&#35843;&#29992;&#12290;
&#22240;&#27492;, <span class="RktVar">wrapper</span> &#20316;&#20026;&#19968;&#20010;&#38057;&#23376;,&#22312; Racket &#22238;&#35843;&#20989;&#25968;&#34987;&#35843;&#29992;&#20043;&#21069;&#25191;&#34892;&#21508;&#31181;&#21442;&#25968;&#25805;&#20316;,&#23427;&#21487;&#20197;&#21521;&#22806;&#22269;&#35843;&#29992;&#32773;&#36820;&#22238;&#19981;&#21516;&#30340;&#32467;&#26524;&#12290;</p><p>&#22238;&#35843;&#20540;&#30340;&#21487;&#21450;&#24615;(&#20197;&#21450;&#23427;&#19982; <span class="RktVar">keep</span> &#30340;&#20132;&#20114;&#26159;&#22522;&#20110;&#22238;&#35843;&#30340;&#21407;&#22987;&#20989;&#25968;,&#32780;&#19981;&#26159; <span class="RktVar">wrapper</span> &#30340;&#32467;&#26524;&#12290;</p></li><li><p>&#22914;&#26524; <span class="RktVar">atomic?</span> &#20026;&#30495;,&#25110;&#32773;&#20351;&#29992; Racket &#30340; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=performance.html%23%2528tech._c%2529&amp;version=8.9" class="techoutside Sq" data-pltdoc="x"><span class="techinside">CS</span></a> &#23454;&#29616;,
   &#37027;&#20040;&#24403; Racket &#36807;&#31243;&#34987;&#36171;&#20104;&#36825;&#31181;&#31867;&#22411;&#24182;&#20316;&#20026;&#22806;&#22269;&#20195;&#30721;&#30340; <a href="#%28tech._callback%29" class="techoutside" data-pltdoc="x"><span class="techinside">callback</span></a> &#35843;&#29992;&#26102;,
   &#37027;&#20040;&#22312;&#35780;&#20272; Racket &#36807;&#31243;&#20027;&#20307;&#26102;,Racket &#36827;&#31243;&#23558;&#36827;&#20837; atomic &#27169;&#24335;&#12290;</p><p>&#22312;&#21407;&#23376;&#27169;&#24335;&#19979;,&#20854;&#20182; Racket &#32447;&#31243;&#19981;&#20250;&#36816;&#34892;,&#25152;&#20197; Racket &#20195;&#30721;&#19981;&#33021;&#35843;&#29992;&#20219;&#20309;&#26377;&#21487;&#33021;&#38459;&#22622;&#19982;&#20854;&#20182;&#32447;&#31243;&#21516;&#27493;&#30340;&#20989;&#25968;,&#21542;&#21017;&#21487;&#33021;&#23548;&#33268;&#27515;&#38145;&#12290;
&#27492;&#22806;,Racket &#20195;&#30721;&#19981;&#24471;&#25191;&#34892;&#20219;&#20309;&#28508;&#22312;&#30340;&#38459;&#22622;&#25805;&#20316;(&#22914; I/O),&#19981;&#24471;&#24341;&#21457;&#26410;&#25429;&#33719;&#30340;&#24322;&#24120;,&#38500;&#38750;&#36890;&#36807;&#25903;&#25345;&#24322;&#24120;&#30340; <a href="#%28tech._callout%29" class="techoutside" data-pltdoc="x"><span class="techinside">callout</span></a>
       &#20351;&#29992; <span class="RktPn">#:callback-exns?</span><span class="stt"> </span><span class="RktVal">#t</span>), &#19981;&#24471;&#25191;&#34892;&#20219;&#20309;&#36716;&#20041;&#30340;&#36830;&#32493;&#36339;&#36716;,
   (&#33267;&#23569;&#23545;&#20110; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=performance.html%23%2528tech._bc%2529&amp;version=8.9" class="techoutside Sq" data-pltdoc="x"><span class="techinside">BC</span></a> &#30340;&#23454;&#29616;)&#20854;&#38750;&#23614;&#37096;&#36882;&#24402;&#24517;&#39035;&#26368;&#23567;,&#20197;&#36991;&#20813; C &#32423;&#22534;&#26632;&#28322;&#20986;;&#21542;&#21017;,&#36827;&#31243;&#21487;&#33021;&#23849;&#28291;&#25110;&#34892;&#20026;&#19981;&#24403;&#12290;</p><p>&#22312; Racket &#30340; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=performance.html%23%2528tech._c%2529&amp;version=8.9" class="techoutside Sq" data-pltdoc="x"><span class="techinside">CS</span></a> &#23454;&#29616;&#20013;,&#22238;&#35843;&#24635;&#26159;&#21407;&#23376;&#30340;,&#22240;&#20026; Racket &#32447;&#31243;&#27809;&#26377;&#25429;&#33719; C &#26632;&#19978;&#19979;&#25991;&#12290;
 &#21363;&#20351;&#22312; Racket &#30340; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=performance.html%23%2528tech._bc%2529&amp;version=8.9" class="techoutside Sq" data-pltdoc="x"><span class="techinside">BC</span></a> &#23454;&#29616;&#20013;,&#22238;&#35843;&#36890;&#24120;&#20063;&#38656;&#35201;&#21407;&#23376;&#27169;&#24335;,&#22240;&#20026;&#36890;&#36807;&#22797;&#21046; C &#26632;&#30340;&#19968;&#37096;&#20998;&#26469;&#25429;&#33719;&#24448;&#24448;&#19982; C &#24211;&#19981;&#20860;&#23481;&#12290;</p></li><li><p>&#22914;&#26524; <span class="RktVar">async-apply</span> &#26159;&#20316;&#20026;&#19968;&#20010;&#36807;&#31243;&#25110;&#30418;&#23376;&#25552;&#20379;&#30340;,
   &#37027;&#20040;&#20855;&#26377;&#29983;&#25104;&#30340;&#36807;&#31243;&#31867;&#22411;&#30340; Racket <a href="#%28tech._callback%29" class="techoutside" data-pltdoc="x"><span class="techinside">callback</span></a> &#36807;&#31243;&#23601;&#21487;&#20197;&#22312;&#19968;&#20010;&#22806;&#22269;&#32447;&#31243;
   (&#21363;&#29992;&#20110;&#36816;&#34892; Racket &#30340;&#32447;&#31243;&#20197;&#22806;&#30340;&#25805;&#20316;&#31995;&#32479;&#32423;&#32447;&#31243;)&#20013;&#24212;&#29992;&#12290;</p><p>&#22914;&#26524; <span class="RktVar">async-apply</span> &#26159;&#19968;&#20010;&#36807;&#31243;,&#37027;&#20040;&#22269;&#22806;&#32447;&#31243;&#20013;&#30340;&#35843;&#29992;&#23558;&#34987;&#36716;&#31227;&#21040;&#36816;&#34892; Racket &#30340;&#25805;&#20316;&#31995;&#32479;&#32423;&#32447;&#31243;&#20013;,
   &#20294; Racket &#32423;&#32447;&#31243;(&#22312; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=threads.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._thread%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">thread</a></span> &#30340;&#24847;&#20041;&#19978;)&#26159;&#26410;&#25351;&#23450;&#30340;;
   &#25152;&#25552;&#20379;&#30340; <span class="RktVar">async-apply</span> &#36807;&#31243;&#30340;&#24037;&#20316;&#26159;&#23433;&#25490;&#22238;&#35843;&#36807;&#31243;&#22312;&#19968;&#20010;&#21512;&#36866;&#30340; Racket &#32447;&#31243;&#20013;&#36816;&#34892;&#12290;</p><p>&#32473;&#23450;&#30340; <span class="RktVar">async-apply</span> &#36807;&#31243;&#34987;&#24212;&#29992;&#21040;&#19968;&#20010;&#23553;&#35013;&#20102;&#29305;&#23450;&#22238;&#35843;&#35843;&#29992;&#30340; thunk &#19978;,&#22269;&#22806;&#30340;&#25805;&#20316;&#31995;&#32479;&#32423;&#32447;&#31243;&#20250;&#38459;&#22622;,
   &#30452;&#21040; thunk &#34987;&#35843;&#29992;&#24182;&#23436;&#25104;;thunk &#24517;&#39035;&#34987;&#31934;&#30830;&#22320;&#35843;&#29992;&#19968;&#27425;,&#32780;&#19988;&#22238;&#35843;&#35843;&#29992;&#24517;&#39035;&#27491;&#24120;&#36820;&#22238;&#12290;
&#32473;&#23450;&#30340; <span class="RktVar">async-apply</span> &#36807;&#31243;&#26412;&#36523;&#26159;&#20197;&#21407;&#23376;&#27169;&#24335;&#35843;&#29992;&#30340;(&#35265;&#19978;&#25991; <span class="RktVar">atomic?</span> )&#12290;</p><p>&#22914;&#26524;&#24050;&#30693;&#22238;&#35843;&#33021;&#22815;&#24555;&#36895;&#23436;&#25104;,&#19981;&#38656;&#35201;&#21516;&#27493;,&#24182;&#19988;&#29420;&#31435;&#20110;&#23427;&#25152;&#36816;&#34892;&#30340; Racket &#32447;&#31243;,
   &#37027;&#20040;&#32473;&#23450;&#30340; <span class="RktVar">async-apply</span> &#36807;&#31243;&#30452;&#25509;&#24212;&#29992; thunk &#26159;&#23433;&#20840;&#30340;&#12290;
 &#21542;&#21017;,&#32473;&#23450;&#30340; <span class="RktVar">async-apply</span> &#31243;&#24207;&#24517;&#39035;&#22312;&#32473;&#23450;&#30340; <span class="RktVar">async-apply</span> &#31243;&#24207;&#26412;&#36523;&#36820;&#22238;&#21518;&#30340;&#26576;&#20010;&#26102;&#38388;,
   &#23433;&#25490;&#22312;&#21512;&#36866;&#30340; Racket &#32447;&#31243;&#20013;&#24212;&#29992;&#35813; thunk;&#22914;&#26524;&#35813; thunk &#24341;&#21457;&#24322;&#24120;&#25110;&#22312;&#19981;&#21512;&#36866;&#30340; Racket &#32423;&#32447;&#31243;&#20013;&#36827;&#34892;&#21516;&#27493;,
   &#23601;&#20250;&#36896;&#25104;&#27515;&#38145;&#25110;&#23545; Racket &#36827;&#31243;&#30340;&#25439;&#23475;&#12290;</p><p>&#22914;&#26524; <span class="RktVar">async-apply</span> &#26159;&#19968;&#20010;&#26694;,&#37027;&#20040;&#24403;&#22238;&#35843;&#31243;&#24207;&#22312;&#22806;&#22269;&#32447;&#31243;&#20013;&#34987;&#35843;&#29992;&#26102;,&#35813;&#26694;&#20013;&#21253;&#21547;&#30340;&#20540;&#23558;&#34987;&#29992;&#20316;&#22238;&#35843;&#30340;&#32467;&#26524;;
   &#22312;&#35843;&#29992; <span class="RktSym"><a href="#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__cprocedure%29%29" class="RktValLink" data-pltdoc="x">_cprocedure</a></span> &#26102;, <span class="RktVar">async-apply</span> &#30340;&#20540;&#34987;&#36716;&#25442;&#20026;&#22806;&#22269;&#20540;&#12290;
 &#20026; <span class="RktVar">async-apply</span> &#20351;&#29992;&#30418;&#24335;&#24120;&#37327;&#20540;&#21487;&#20197;&#36991;&#20813;&#19982;&#36816;&#34892; Racket &#30340;&#25805;&#20316;&#31995;&#32479;&#32423;&#32447;&#31243;&#21516;&#27493;,
   &#20294;&#24403; <a href="#%28tech._callback%29" class="techoutside" data-pltdoc="x"><span class="techinside">callback</span></a> &#22312;&#22269;&#22806;&#32447;&#31243;&#20013;&#24212;&#29992;&#26102;,&#23427;&#23454;&#38469;&#19978;&#24573;&#30053;&#20102;&#34987;&#21253;&#35013;&#25104; <a href="#%28tech._callback%29" class="techoutside" data-pltdoc="x"><span class="techinside">callback</span></a> &#30340; Racket &#36807;&#31243;&#12290;</p><p>&#35302;&#21457; <span class="RktVar">async-apply</span> &#30340;&#22806;&#26469;&#32447;&#31243;&#26816;&#27979;&#21482;&#26377;&#22312; Racket &#32534;&#35793;&#26102;&#25903;&#25345;&#25805;&#20316;&#31995;&#32479;&#32423;&#32447;&#31243;&#26102;&#25165;&#20250;&#36215;&#20316;&#29992;,
   &#36825;&#20063;&#26159;&#35768;&#22810;&#24179;&#21488;&#30340;&#40664;&#35748;&#24773;&#20917;&#12290;
&#22914;&#26524;&#19968;&#20010;&#24102;&#26377; <span class="RktVar">async-apply</span> &#30340;&#22238;&#35843;&#22312;&#36816;&#34892; Racket &#30340;&#21516;&#19968;&#25805;&#20316;&#31995;&#32479;&#32423;&#32447;&#31243;&#20013;&#34987;&#22806;&#22269;&#20195;&#30721;&#35843;&#29992;,
   &#37027;&#20040; <span class="RktVar">async-apply</span> &#23601;&#19981;&#20250;&#34987;&#20351;&#29992;&#12290;</p></li><li><p>&#19968;&#20010;&#22238;&#35843;&#36890;&#24120;&#19981;&#24212;&#35813;&#36890;&#36807;&#24341;&#21457;&#24322;&#24120;&#25110;&#35843;&#29992;&#19968;&#20010;&#32493;&#38598;&#26469;&#36867;&#33073;&#12290;
 &#19968;&#20010;&#21407;&#23376;&#22238;&#35843;&#21487;&#33021;&#20250;&#24341;&#21457;&#24322;&#24120;,&#20294;&#21482;&#26377;&#22312;&#35843;&#29992; <span class="RktVar">callback-exns?</span> &#20026; true &#26102;&#21019;&#24314;&#30340; <a href="#%28tech._callout%29" class="techoutside" data-pltdoc="x"><span class="techinside">callout</span></a> &#26102;&#25165;&#20250;&#35843;&#29992;&#23427;&#12290;
&#38750;&#21407;&#23376;&#22238;&#35843;&#20915;&#19981;&#33021;&#24341;&#21457;&#24322;&#24120;&#12290;</p></li></ul><p class="SHistory">Changed in version 6.3 of package <span class="stt">base</span>: &#22686;&#21152;&#20102; <span class="RktPn">#:lock-name</span> &#21442;&#25968;&#12290;<br/>Changed in version 6.12.0.2: &#22686;&#21152;&#20102; <span class="RktPn">#:blocking?</span> &#21442;&#25968;&#12290;<br/>Changed in version 7.9.0.16: &#22686;&#21152;&#20102; <span class="RktPn">#:varargs-after</span> &#21442;&#25968;&#12290;<br/>Changed in version 8.0.0.8: &#22686;&#21152;&#20102; <span class="RktPn">#:callback-exns?</span> &#21442;&#25968;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._ffi/unsafe..rkt).__fun))"></a><span title="Provided from: ffi/unsafe | Package: base"><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">_fun</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">fun-option</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-args</span><span class="hspace">&nbsp;</span><span class="RktVar">type-spec</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29._-~3e%29%29" class="plainlink" data-pltdoc="x"><span class="RktKw">-&gt;</span></a><span class="hspace">&nbsp;</span><span class="RktVar">type-spec</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">maybe-wrapper</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">fun-option</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:abi</span><span class="hspace">&nbsp;</span><span class="RktVar">abi-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:varargs-after</span><span class="hspace">&nbsp;</span><span class="RktVar">varargs-after-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:save-errno</span><span class="hspace">&nbsp;</span><span class="RktVar">save-errno-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:keep</span><span class="hspace">&nbsp;</span><span class="RktVar">keep-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:atomic?</span><span class="hspace">&nbsp;</span><span class="RktVar">atomic?-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:async-apply</span><span class="hspace">&nbsp;</span><span class="RktVar">async-apply-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:lock-name</span><span class="hspace">&nbsp;</span><span class="RktVar">lock-name-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:in-original-place?</span><span class="hspace">&nbsp;</span><span class="RktVar">in-original-place?-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:blocking?</span><span class="hspace">&nbsp;</span><span class="RktVar">blocking?-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:callback-exns?</span><span class="hspace">&nbsp;</span><span class="RktVar">callback-exns?-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:retry</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">retry-id</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktVar">arg-id</span><span class="hspace">&nbsp;</span><span class="RktVar">init-expr</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">maybe-args</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">formals</span><span class="hspace">&nbsp;</span><span class="RktSym">::</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">type-spec</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">type-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktVar">type-expr</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">type-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">=</span><span class="hspace">&nbsp;</span><span class="RktVar">value-expr</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktVar">type-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">=</span><span class="hspace">&nbsp;</span><span class="RktVar">value-expr</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">maybe-wrapper</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29._-~3e%29%29" class="plainlink" data-pltdoc="x"><span class="RktKw">-&gt;</span></a><span class="hspace">&nbsp;</span><span class="RktVar">output-expr</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">&#21019;&#24314;&#19968;&#20010;&#26032;&#30340;&#20989;&#25968;&#31867;&#22411;&#12290; <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span> &#24418;&#24335;&#26159; <span class="RktSym"><a href="#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__cprocedure%29%29" class="RktValLink" data-pltdoc="x">_cprocedure</a></span> &#31867;&#22411;&#26500;&#36896;&#22120;&#30340;&#19968;&#31181;&#26041;&#20415;&#35821;&#27861;&#12290;
&#22312;&#20854;&#26368;&#31616;&#21333;&#30340;&#24418;&#24335;&#20013;,&#21482;&#25351;&#23450;&#20102;&#36755;&#20837; <span class="RktVar">type-expr</span> &#21644;&#36755;&#20986; <span class="RktVar">type-expr</span> ,
 &#27599;&#20010;&#31867;&#22411;&#37117;&#26159;&#19968;&#20010;&#31616;&#21333;&#30340;&#34920;&#36798;&#24335;,&#36825;&#23601;&#21019;&#24314;&#20102;&#19968;&#20010;&#30452;&#25509;&#30340;&#20989;&#25968;&#31867;&#22411;&#12290;</div></p><p>&#20363;&#22914;&#12289;</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="String_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__string%29%29" class="RktValLink" data-pltdoc="x">_string</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="hspace">&nbsp;</span><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29._-~3e%29%29" class="plainlink" data-pltdoc="x"><span class="RktKw">-&gt;</span></a><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="RktPn">)</span></p></blockquote><p>&#25351;&#23450;&#20102;&#19968;&#20010;&#25509;&#25910;&#19968;&#20010;&#23383;&#31526;&#20018;&#21644;&#19968;&#20010;&#25972;&#25968;&#24182;&#36820;&#22238;&#19968;&#20010;&#25972;&#25968;&#30340;&#20989;&#25968;&#12290;</p><p>&#20851;&#20110; <span class="RktPn">#:abi</span>,<span class="RktPn">#:varargs-after</span>,
<span class="RktPn">#:save-errno</span>, <span class="RktPn">#:keep</span>, <span class="RktPn">#:atomic?</span>,
<span class="RktPn">#:async-apply</span>, <span class="RktPn">#:in-original-place?</span>,
<span class="RktPn">#:blocking</span> &#21644; <span class="RktPn">#:callback-exns?</span> &#36873;&#39033;,&#35831;&#21442;&#35265; <span class="RktSym"><a href="#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__cprocedure%29%29" class="RktValLink" data-pltdoc="x">_cprocedure</a></span> &#12290;</p><p><div class="SIntrapara">&#22312;&#23427;&#30340;&#23436;&#25972;&#24418;&#24335;&#20013;, <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span> &#35821;&#27861;&#25552;&#20379;&#20102;&#19968;&#31181;&#31867;&#20284; IDL &#30340;&#35821;&#35328;,&#24403;&#31867;&#22411;&#34987;&#29992;&#20110; <a href="#%28tech._callout%29" class="techoutside" data-pltdoc="x"><span class="techinside">callout</span></a> &#26102;,
 &#23427;&#20250;&#22312;&#21407;&#22987;&#30340;&#22806;&#26469;&#20989;&#25968;&#21608;&#22260;&#21019;&#24314;&#19968;&#20010;&#21253;&#35013;&#20989;&#25968;&#12290;
&#36825;&#20123;&#21253;&#35013;&#22120;&#21487;&#20197;&#23454;&#29616;&#22797;&#26434;&#30340;&#25509;&#21475;,&#24182;&#32473;&#20986;&#31616;&#21333;&#30340;&#35268;&#33539;:
</div><div class="SIntrapara"><ul><li><p>&#27599;&#20010;&#21442;&#25968; <span class="RktVar">type-spec</span> &#30340;&#23436;&#25972;&#24418;&#24335;&#21487;&#20197;&#21253;&#25324;&#19968;&#20010;&#21487;&#36873;&#30340;&#26631;&#31614;&#21644;&#19968;&#20010;&#34920;&#36798;&#24335;&#12290;
&#19968;&#20010;&#26631;&#31614; <span class="RktVar">id</span><span class="stt"> </span><span class="RktSym">:</span> &#20351;&#24471;&#21442;&#25968;&#20540;&#21487;&#20197;&#34987;&#21518;&#26469;&#20351;&#29992; <span class="RktVar">id</span> &#30340;&#34920;&#36798;&#24335;&#35775;&#38382;&#12290;
&#19968;&#20010; <span class="RktVar">=</span><span class="stt"> </span><span class="RktVar">value-expr</span> &#34920;&#36798;&#24335;&#20351;&#24471;&#21253;&#35013;&#22120;&#20989;&#25968;&#20351;&#29992; <span class="RktVar">value-expr</span> &#35745;&#31639;&#35813;&#20301;&#32622;&#30340;&#21442;&#25968;,
  &#36825;&#24847;&#21619;&#30528;&#21253;&#35013;&#22120;&#24182;&#19981;&#26399;&#26395;&#22312;&#35813;&#20301;&#32622;&#24471;&#21040;&#19968;&#20010;&#21442;&#25968;&#12290;</p><p>&#20363;&#22914;&#12289;</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">s</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="String_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__string%29%29" class="RktValLink" data-pltdoc="x">_string</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="hspace">&nbsp;</span><span class="RktVar">=</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">string-length</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29._-~3e%29%29" class="plainlink" data-pltdoc="x"><span class="RktKw">-&gt;</span></a><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="RktPn">)</span></p></blockquote><p>&#20135;&#29983;&#19968;&#20010;&#25509;&#21463;&#21333;&#20010;&#23383;&#31526;&#20018;&#21442;&#25968;&#30340;&#21253;&#35013;&#22120;,&#24182;&#35843;&#29992;&#19968;&#20010;&#25509;&#21463;&#23383;&#31526;&#20018;&#21644;&#25972;&#25968;&#30340;&#22806;&#22269;&#20989;&#25968;;&#23383;&#31526;&#20018;&#30340;&#38271;&#24230;&#20316;&#20026;&#25972;&#25968;&#21442;&#25968;&#34987;&#25552;&#20379;&#12290;</p></li><li><p>&#22914;&#26524;&#25351;&#23450;&#20102;&#21487;&#36873;&#30340; <span class="RktVar">output-expr</span> ,&#25110;&#32773;&#20026;&#36755;&#20986;&#31867;&#22411;&#25552;&#20379;&#20102;&#19968;&#20010;&#34920;&#36798;&#24335;,
&#37027;&#20040;&#35813;&#34920;&#36798;&#24335;&#25351;&#23450;&#20102;&#19968;&#20010;&#23558;&#34987;&#29992;&#20316;&#20989;&#25968;&#35843;&#29992;&#30340;&#36820;&#22238;&#20540;&#30340;&#34920;&#36798;&#24335;,&#26367;&#25442;&#25481;&#22806;&#22269;&#20989;&#25968;&#30340;&#32467;&#26524;&#12290;
    <span class="RktVar">output-expr</span> &#21487;&#20197;&#20351;&#29992;&#21069;&#38754;&#30340;&#20219;&#20309;&#19968;&#20010;&#26631;&#31614;,&#21253;&#25324;&#32473;&#36755;&#20986;&#30340;&#26631;&#31614;&#26469;&#35775;&#38382;&#22806;&#22269;&#20989;&#25968;&#30340;&#36820;&#22238;&#20540;&#12290;</p><p>&#20363;&#22914;&#12289;</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="String_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__string%29%29" class="RktValLink" data-pltdoc="x">_string</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">len</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29._-~3e%29%29" class="plainlink" data-pltdoc="x"><span class="RktKw">-&gt;</span></a><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">r</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29._-~3e%29%29" class="plainlink" data-pltdoc="x"><span class="RktKw">-&gt;</span></a><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._min%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">min</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="hspace">&nbsp;</span><span class="RktSym">len</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>&#20135;&#29983;&#19968;&#20010;&#21253;&#35013;&#22120;,&#36820;&#22238;&#22806;&#26469;&#20989;&#25968;&#30340;&#32467;&#26524;&#21644;&#32473;&#23450;&#30340;&#25972;&#25968;&#21442;&#25968;&#30340;&#26368;&#23567;&#20540;&#12290;</p></li><li><p>&#19968;&#20010; <span class="RktPn">#:retry</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktVar">retry-id</span><span class="stt"> </span><span class="RktPn">[</span><span class="RktVar">arg-id</span><span class="stt"> </span><span class="RktVar">init-expr</span><span class="RktPn">]</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span>
       &#35268;&#33539;&#23558; <span class="RktVar">retry-id</span> &#32465;&#23450;&#22312; <span class="RktVar">output-expr</span> &#20013;,&#29992;&#20110;&#37325;&#35797;&#22806;&#26469;&#35843;&#29992;(&#36890;&#24120;&#22312;&#23614;&#37096;&#20301;&#32622;)&#12290;
&#32465;&#23450;&#21040; <span class="RktVar">retry-id</span> &#30340;&#20989;&#25968;&#25509;&#21463;&#27599;&#20010; <span class="RktVar">arg-id</span> &#20316;&#20026;&#21442;&#25968;,
   &#27599;&#20010; <span class="RktVar">arg-id</span> &#21487;&#20197;&#22312; <span class="RktVar">=</span><span class="stt"> </span><span class="RktVar">value-expr</span> &#20013;&#20351;&#29992;,
   &#27599;&#20010; <span class="RktVar">init-expr</span> &#20026;&#30456;&#24212;&#30340; <span class="RktVar">arg-id</span> &#25552;&#20379;&#21021;&#22987;&#20540;&#12290;</p><p>&#20363;&#22914;&#12289;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:retry</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">again</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">count</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="String_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__string%29%29" class="RktValLink" data-pltdoc="x">_string</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="hspace">&nbsp;</span><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29._-~3e%29%29" class="plainlink" data-pltdoc="x"><span class="RktKw">-&gt;</span></a><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">r</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29._-~3e%29%29" class="plainlink" data-pltdoc="x"><span class="RktKw">-&gt;</span></a><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._and%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">=</span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="hspace">&nbsp;</span><span class="RktSym">ERR_BUSY</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3c%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">&lt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">count</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">again</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._add1%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">add1</a></span><span class="hspace">&nbsp;</span><span class="RktSym">count</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>&#20135;&#29983;&#19968;&#20010;&#21253;&#35013;&#22120;,&#22914;&#26524;&#23427;&#32487;&#32493;&#20135;&#29983;&#19968;&#20010;&#31561;&#20110; <span class="RktSym">ERR_BUSY</span> &#30340;&#25968;&#23383;,&#23427;&#26368;&#22810;&#35843;&#29992;5&#27425;&#22806;&#22269;&#20989;&#25968;&#12290;</p></li><li><p>&#22312;&#26497;&#23569;&#25968;&#38656;&#35201;&#23436;&#20840;&#25511;&#21046;&#36755;&#20837;&#21442;&#25968;&#30340;&#24773;&#20917;&#19979;,&#21253;&#35013;&#22120;&#30340;&#21442;&#25968;&#21015;&#34920;&#21487;&#20197;&#34987;&#25351;&#23450;&#20026; <span class="RktVar">maybe-args</span> ,
   &#19982; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._lambda%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span> &#30340; <span class="RktVar">formals</span> &#19968;&#26679;(&#21253;&#25324;&#20851;&#38190;&#23383;&#21442;&#25968;&#21644;/&#25110; "&#20241;&#24687;" &#21442;&#25968;)&#12290;
 &#24403;&#21442;&#25968; <span class="RktVar">type-spec</span> &#21253;&#25324;&#19968;&#20010;&#19982; <span class="RktVar">formals</span> &#20013;&#30340;&#32465;&#23450;&#26631;&#35782;&#31526;&#30456;&#21305;&#37197;&#30340;&#26631;&#31614;&#26102;,
   &#37027;&#20040;&#35813;&#26631;&#35782;&#31526;&#23558;&#34987;&#29992;&#20316;&#21442;&#25968;&#30340;&#40664;&#35748;&#20540;&#12290;
&#25152;&#26377;&#30340;&#21442;&#25968; <span class="RktVar">type-spec</span> &#24517;&#39035;&#21253;&#25324;&#26126;&#30830;&#30340; <span class="RktVar">=</span><span class="stt"> </span><span class="RktVar">value-expr</span> &#27880;&#37322;,&#25110;&#32773;&#36890;&#36807;&#21305;&#37197;&#30340;&#26631;&#31614;&#38544;&#21547;&#19968;&#20010;&#27880;&#37322;&#12290;</p><p>&#20363;&#22914;&#12289;</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">::</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">s</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="String_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__string%29%29" class="RktValLink" data-pltdoc="x">_string</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29._-~3e%29%29" class="plainlink" data-pltdoc="x"><span class="RktKw">-&gt;</span></a><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="RktPn">)</span></p></blockquote><p>&#20135;&#29983;&#19968;&#20010;&#25509;&#25910;&#25972;&#25968;&#21644;&#23383;&#31526;&#20018;&#30340;&#21253;&#35013;&#22120;,&#20294;&#22806;&#22269;&#20989;&#25968;&#39318;&#20808;&#25509;&#25910;&#23383;&#31526;&#20018;&#12290;</p></li></ul></div></p><p class="SHistory">Changed in version 6.2 of package <span class="stt">base</span>: &#22686;&#21152;&#20102; <span class="RktPn">#:retry</span> &#36873;&#39033;&#12290;<br/>Changed in version 6.3: &#22686;&#21152;&#20102; <span class="RktPn">#:lock-name</span> &#36873;&#39033;&#12290;<br/>Changed in version 6.12.0.2: &#22686;&#21152;&#20102; <span class="RktPn">#:blocking?</span> &#36873;&#39033;&#12290;<br/>Changed in version 7.9.0.16: &#22686;&#21152;&#20102; <span class="RktPn">#:varargs-after</span> &#36873;&#39033;&#12290;<br/>Changed in version 8.0.0.8: &#22686;&#21152;&#20102; <span class="RktPn">#:callback-exns?</span> &#36873;&#39033;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ffi/unsafe..rkt)._function-ptr))"></a><span title="Provided from: ffi/unsafe | Package: base"><span class="RktSym"><a href="#%28def._%28%28lib._ffi%2Funsafe..rkt%29._function-ptr%29%29" class="RktValDef RktValLink" data-pltdoc="x">function-ptr</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ptr-or-proc</span><span class="hspace">&nbsp;</span><span class="RktVar">fun-type</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="foreign_pointer-funcs.html#%28def._%28%28quote._~23~25foreign%29._cpointer~3f%29%29" class="RktValLink" data-pltdoc="x">cpointer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ptr-or-proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._or%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">or</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="foreign_pointer-funcs.html#%28def._%28%28quote._~23~25foreign%29._cpointer~3f%29%29" class="RktValLink" data-pltdoc="x">cpointer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fun-type</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="ctype.html#%28def._%28%28quote._~23~25foreign%29._ctype~3f%29%29" class="RktValLink" data-pltdoc="x">ctype?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">&#23558; <span class="RktVar">ptr-or-proc</span> &#36716;&#21270;&#20026;&#19968;&#20010; <span class="RktVar">fun-type</span> &#31867;&#22411;&#30340;&#20989;&#25968;&#25351;&#38024;&#12290;</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._ffi/unsafe..rkt)._-~3e))"></a><span title="Provided from: ffi/unsafe | Package: base"><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29._-~3e%29%29" class="RktStxDef RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">&#19968;&#20010;&#22312; <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span> &#24418;&#24335;&#20013;&#20351;&#29992;&#30340;&#23383;&#38754;&#24847;&#20041;&#12290;
 (&#24456;&#19981;&#24184;&#30340;&#26159;,&#36825;&#20010;&#23383;&#38754;&#24847;&#20041;&#19982; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=contracts.html&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">racket/contract</span></a> &#20013;&#30340; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span> &#21517;&#23383;&#30456;&#21516;,&#20294;&#23427;&#26159;&#19968;&#20010;&#19981;&#21516;&#30340;&#32465;&#23450;&#12290;)</div></p><h5 x-source-module="(lib &quot;scribblings/foreign/foreign.scrbl&quot;)" x-source-pkg="racket-doc" x-part-tag="&quot;foreign:custom-types&quot;">3.6.1<tt>&nbsp;</tt><a name="(part._foreign~3acustom-types)"></a>&#33258;&#23450;&#20041;&#20989;&#25968;&#31867;&#22411;</h5><p><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span> &#31867;&#22411;&#30340;&#34892;&#20026;&#21487;&#20197;&#36890;&#36807; <a name="(tech._custom._function._type)"></a><span style="font-style: italic">custom function types</span> &#26469;&#23450;&#21046;,
&#23427;&#26159;&#19968;&#20123;&#35821;&#27861;&#29255;&#27573;,&#21487;&#20197;&#20687; C &#31867;&#22411;&#21644; C &#31867;&#22411;&#26500;&#36896;&#20989;&#25968;&#19968;&#26679;&#34892;&#20026;,&#20294;&#26159;&#23427;&#20204;&#21487;&#20197;&#20197;&#19968;&#20123;&#20854;&#20182;&#26041;&#24335;&#19982;&#20989;&#25968;&#35843;&#29992;&#20132;&#20114;,&#36825;&#26159;&#26080;&#27861;&#20570;&#21040;&#30340;&#12290;
 &#24403; <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span> &#24418;&#24335;&#34987;&#25193;&#23637;&#26102;,&#23427;&#35797;&#22270;&#25193;&#23637;&#27599;&#20010;&#32473;&#23450;&#30340;&#31867;&#22411;&#34920;&#36798;&#24335;,
&#37027;&#20123;&#25193;&#23637;&#21040;&#26576;&#20123;&#20851;&#38190;&#23383;-&#20540;&#21015;&#34920;&#30340;&#34920;&#36798;&#24335;&#19982;&#22806;&#22269;&#20989;&#25968;&#21253;&#35013;&#22120;&#30340;&#29983;&#25104;&#36827;&#34892;&#20132;&#20114;&#12290;
 &#36825;&#31181;&#25193;&#23637;&#20351;&#24471;&#26500;&#36896;&#19968;&#20010;&#21333;&#19968;&#30340;&#21253;&#35013;&#20989;&#25968;&#25104;&#20026;&#21487;&#33021;,&#36991;&#20813;&#20102;&#39640;&#38454;&#20989;&#25968;&#21512;&#25104;&#25152;&#28041;&#21450;&#30340;&#25104;&#26412;&#12290;</p><p>&#33258;&#23450;&#20041;&#20989;&#25968;&#31867;&#22411;&#26159;&#25193;&#23637;&#20026;&#19968;&#20010;&#24207;&#21015; <span class="RktPn">(</span><span class="RktVar">key:</span><span class="stt"> </span><span class="RktVar">val</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span> &#30340;&#23439;,&#20854;&#20013;&#27599;&#20010; <span class="RktVar">key:</span> &#26469;&#33258;&#19968;&#20010;&#24050;&#30693;&#38190;&#30340;&#30701;&#21015;&#34920;&#12290;
 &#27599;&#20010;&#38190;&#37117;&#20197;&#19981;&#21516;&#30340;&#26041;&#24335;&#19982;&#29983;&#25104;&#30340;&#23553;&#35013;&#20989;&#25968;&#20132;&#20114;,&#36825;&#23558;&#24433;&#21709;&#20854;&#30456;&#24212;&#21442;&#25968;&#30340;&#22788;&#29702;&#26041;&#24335;:</p><ul><li><p><span class="RktSym">type:</span> &#25351;&#23450;&#24212;&#35813;&#20351;&#29992;&#30340;&#22806;&#26469;&#31867;&#22411;,&#22914;&#26524;&#23427;&#26159; <span class="RktVal">#f</span> ,&#37027;&#20040;&#36825;&#20010;&#21442;&#25968;&#19981;&#21442;&#19982;&#22806;&#26469;&#35843;&#29992;&#12290;</p></li><li><p><span class="RktSym">expr:</span> &#25351;&#23450;&#19968;&#20010;&#29992;&#20110;&#35813;&#31867;&#22411;&#21442;&#25968;&#30340;&#34920;&#36798;&#24335;,&#23558;&#20854;&#20174;&#21253;&#35013;&#21442;&#25968;&#20013;&#31227;&#38500;&#12290;</p></li><li><p><span class="RktSym">bind:</span> &#25351;&#23450;&#19968;&#20010;&#19982;&#21407;&#22987;&#21442;&#25968;&#32465;&#23450;&#30340;&#21517;&#31216;,
&#22914;&#26524;&#20197;&#21518;&#38656;&#35201;&#30340;&#35805;(&#20363;&#22914;, <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__box%29%29" class="RktStxLink" data-pltdoc="x">_box</a></span> &#23558;&#20854;&#30456;&#20851;&#30340;&#20540;&#36716;&#25442;&#20026; C &#25351;&#38024;,&#20197;&#21518;&#38656;&#35201;&#36820;&#22238;&#21040;&#21407;&#22987; box)&#12290;</p></li><li><p><span class="RktSym">1st-arg:</span> &#25351;&#23450;&#19968;&#20010;&#21487;&#20197;&#29992;&#26469;&#25351;&#20195;&#22806;&#26469;&#35843;&#29992;&#30340;&#31532;&#19968;&#20010;&#21442;&#25968;&#30340;&#21517;&#23383;
(&#36866;&#21512;&#20110;&#31532;&#19968;&#20010;&#21442;&#25968;&#26377;&#29305;&#27530;&#21547;&#20041;&#30340;&#24120;&#35265;&#24773;&#20917;,&#20363;&#22914;,&#29992;&#20110;&#26041;&#27861;&#35843;&#29992;)&#12290;</p></li><li><p><span class="RktSym">prev-arg:</span> &#31867;&#20284;&#20110; <span class="RktSym">1st-arg:</span>, &#20294;&#25351;&#30340;&#26159;&#21069;&#19968;&#20010;&#21442;&#25968;&#12290;</p></li><li><p><span class="RktSym">pre:</span> &#19968;&#20010;&#21069;&#22806;&#22269;&#20195;&#30721;&#22359;,&#29992;&#20110;&#25913;&#21464;&#21442;&#25968;&#30340;&#20540;&#12290;</p></li><li><p><span class="RktSym">post:</span> &#19968;&#20010;&#31867;&#20284;&#30340;&#21518;&#22806;&#22269;&#20195;&#30721;&#22359;&#12290;</p></li><li><p><span class="RktSym">keywords:</span> &#25351;&#23450;&#23558;&#19982;&#21608;&#22260;&#30340; <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span> &#24418;&#24335;&#19968;&#36215;&#20351;&#29992;&#30340;&#20851;&#38190;&#35789;/&#20540;&#34920;&#36798;&#12290;
(&#27880;&#24847;:&#20851;&#38190;&#35789;/&#20540;&#30340;&#24207;&#21015;&#22312; <span class="RktSym">keywords:</span> &#20043;&#21518;,&#19981;&#26159;&#25324;&#21495;&#20869;&#30340;&#12290;)</p></li></ul><p><span class="RktSym">pre:</span> &#21644; <span class="RktSym">post:</span> &#32465;&#23450;&#30340;&#24418;&#24335;&#21487;&#20197;&#26159; <span class="RktPn">(</span><span class="RktVar">id</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._%7E3d%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">=&gt;</a></span><span class="stt"> </span><span class="RktVar">expr</span><span class="RktPn">)</span> ,&#20197;&#20351;&#29992;&#29616;&#26377;&#30340;&#20540;&#12290;
&#27880;&#24847;,&#22914;&#26524; <span class="RktSym">pre:</span> &#34920;&#36798;&#24335;&#19981;&#26159; <span class="RktPn">(</span><span class="RktVar">id</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._%7E3d%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">=&gt;</a></span><span class="stt"> </span><span class="RktVar">expr</span><span class="RktPn">)</span>,
&#37027;&#20040;&#23601;&#24847;&#21619;&#30528; <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span> &#29983;&#25104;&#30340;&#36807;&#31243;&#20013;&#27809;&#26377;&#36825;&#20010;&#21442;&#25968;&#30340;&#36755;&#20837;&#12290;
 &#36824;&#35201;&#27880;&#24847;&#30340;&#26159;,&#22914;&#26524;&#19968;&#20010;&#33258;&#23450;&#20041;&#31867;&#22411;&#34987;&#29992;&#20316;&#20989;&#25968;&#30340;&#36755;&#20986;&#31867;&#22411;,&#37027;&#20040;&#21482;&#26377; <span class="RktSym">post:</span> &#20195;&#30721;&#34987;&#20351;&#29992;&#12290;</p><p>&#22823;&#22810;&#25968;&#33258;&#23450;&#20041;&#31867;&#22411;&#21482;&#26377;&#22312; <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span> &#19978;&#19979;&#25991;&#20013;&#25165;&#26377;&#24847;&#20041;,&#22914;&#26524;&#22312;&#20854;&#20182;&#22320;&#26041;&#20351;&#29992;&#20250;&#24341;&#21457;&#35821;&#27861;&#38169;&#35823;&#12290;
 &#23569;&#25968;&#36825;&#26679;&#30340;&#31867;&#22411;&#21487;&#20197;&#22312;&#38750; <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span> &#19978;&#19979;&#25991;&#20013;&#20351;&#29992;:
&#21482;&#20351;&#29992; <span class="RktSym">type:</span>, <span class="RktSym">pre:</span>, <span class="RktSym">post:</span> &#30340;&#31867;&#22411;,&#32780;&#27809;&#26377;&#20854;&#20182;&#31867;&#22411;&#12290;
&#36825;&#26679;&#30340;&#33258;&#23450;&#20041;&#31867;&#22411;&#21487;&#20197;&#22312; <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span> &#20043;&#22806;&#20351;&#29992;,&#26041;&#27861;&#26159;&#23558;&#20854;&#25193;&#23637;&#20026; <span class="RktSym"><a href="ctype.html#%28def._%28%28quote._~23~25foreign%29._make-ctype%29%29" class="RktValLink" data-pltdoc="x">make-ctype</a></span> &#30340;&#29992;&#27861;,
&#20351;&#29992;&#20854;&#20182;&#30340;&#20851;&#38190;&#23383;&#21017;&#19981;&#21487;&#33021;,&#22240;&#20026;&#36825;&#24847;&#21619;&#30528;&#35813;&#31867;&#22411;&#19982;&#20989;&#25968;&#35843;&#29992;&#26377;&#29305;&#23450;&#30340;&#20132;&#20114;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._ffi/unsafe..rkt)._define-fun-syntax))"></a><span title="Provided from: ffi/unsafe | Package: base"><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29._define-fun-syntax%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-fun-syntax</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">transformer-expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">&#23558; <span class="RktVar">id</span> &#20316;&#20026;&#19968;&#20010; <a href="#%28tech._custom._function._type%29" class="techoutside" data-pltdoc="x"><span class="techinside">custom function type</span></a> &#20197;&#21450;&#35821;&#27861;&#36716;&#25442;&#22120;(&#21363;&#23439;)&#26469;&#32465;&#23450;&#12290;
 &#35813;&#31867;&#22411;&#36890;&#36807;&#23558; <span class="RktVar">transformer-expr</span> &#20135;&#29983;&#30340;&#31243;&#24207;&#24212;&#29992;&#20110; <a href="#%28tech._custom._function._type%29" class="techoutside" data-pltdoc="x"><span class="techinside">custom function type</span></a> &#30340;&#20351;&#29992;&#32780;&#34987;&#25193;&#23637;&#12290;</div></p><p>&#20363;&#22914;,&#19979;&#38754;&#23450;&#20041;&#20102;&#19968;&#20010;&#26032;&#30340;&#31867;&#22411;,&#23427;&#21487;&#20197;&#33258;&#21160;&#22320;&#23558;&#36755;&#20837;&#30340;&#25968;&#23383;&#24378;&#21046;&#36716;&#25442;&#25104;&#19982; <span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28quote._~23~25foreign%29.__float%29%29" class="RktValLink" data-pltdoc="x">_float</a></span> &#31867;&#22411;&#20860;&#23481;&#30340;&#38750;&#31934;&#30830;&#24418;&#24335;&#12290;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29._define-fun-syntax%29%29" class="RktStxLink" data-pltdoc="x">define-fun-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktSym">_float*</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._syntax-id-rules%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">syntax-id-rules</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">_float*</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">_float*</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">type:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28quote._~23~25foreign%29.__float%29%29" class="RktValLink" data-pltdoc="x">_float</a></span><span class="hspace">&nbsp;</span><span class="RktSym">pre:</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._%7E3d%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">=&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0.0</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span><span class="hspace">&nbsp;</span><span class="RktSym">_float*</span><span class="hspace">&nbsp;</span><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29._-~3e%29%29" class="plainlink" data-pltdoc="x"><span class="RktKw">-&gt;</span></a><span class="hspace">&nbsp;</span><span class="RktSym"><a href="______.html#%28def._%28%28quote._~23~25foreign%29.__bool%29%29" class="RktValLink" data-pltdoc="x">_bool</a></span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._ffi/unsafe..rkt).__~3f))"></a><span title="Provided from: ffi/unsafe | Package: base"><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__~3f%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">_?</a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">&#19968;&#20010; <a href="#%28tech._custom._function._type%29" class="techoutside" data-pltdoc="x"><span class="techinside">custom function type</span></a> ,&#23427;&#26159;&#34920;&#36798;&#24335;&#30340;&#26631;&#35760;,&#19981;&#24212;&#35813;&#34987;&#21457;&#36865;&#21040;&#22806;&#22269;&#20989;&#25968;&#12290;
&#29992;&#23427;&#26469;&#32465;&#23450;&#20316;&#20026; ffi &#23553;&#35013;&#25509;&#21475;&#19968;&#37096;&#20998;&#30340;&#35745;&#31639;&#20013;&#30340;&#26412;&#22320;&#20540;,&#25110;&#32773;&#25351;&#23450;&#19981;&#21457;&#36865;&#32473;&#22806;&#22269;&#20989;&#25968;&#30340;&#23553;&#35013;&#21442;&#25968;(&#20363;&#22914;,&#29992;&#20110;&#22788;&#29702;&#22806;&#22269;&#36755;&#20986;&#30340;&#21442;&#25968;)&#12290;</div></p><p>&#20363;&#22914;:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__~3f%29%29" class="RktStxLink" data-pltdoc="x">_?</a></span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">not sent to foreign function</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">init</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__~3f%29%29" class="RktStxLink" data-pltdoc="x">_?</a></span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">init is used for pre-processing</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">boxed</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__box%29%29" class="RktStxLink" data-pltdoc="x">_box</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=boxes.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._box%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">box</a></span><span class="hspace">&nbsp;</span><span class="RktSym">init</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="______.html#%28def._%28%28quote._~23~25foreign%29.__void%29%29" class="RktValLink" data-pltdoc="x">_void</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">offset</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__~3f%29%29" class="RktStxLink" data-pltdoc="x">_?</a></span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">offset is used for post-processing</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">res</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">res</span><span class="hspace">&nbsp;</span><span class="RktSym">offset</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._ffi/unsafe..rkt).__ptr))"></a><span title="Provided from: ffi/unsafe | Package: base"><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__ptr%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">_ptr</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">mode</span><span class="hspace">&nbsp;</span><span class="RktVar">type-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-malloc-mode</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">mode</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">i</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">o</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">io</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">maybe-malloc-mode</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVal">#f</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">raw</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">atomic</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">nonatomic</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">tagged</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">atomic-interior</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">interior</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">stubborn</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">uncollectable</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">eternal</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">&#21019;&#24314;&#19968;&#20010; C &#35821;&#35328;&#25351;&#38024;&#31867;&#22411;,&#20854;&#20013; <span class="RktVar">mode</span> &#34920;&#31034;&#36755;&#20837;&#25110;&#36755;&#20986;&#25351;&#38024;(&#25110;&#20004;&#32773;)&#12290;
 <span class="RktVar">mode</span> &#21487;&#20197;&#26159;&#19979;&#21015;&#20043;&#19968;(&#20316;&#20026;&#29420;&#31435;&#20110;&#32465;&#23450;&#30340;&#31526;&#21495;&#21305;&#37197;):</div></p><ul><li><p><span class="RktSym">i</span> &#8212;<wbr></wbr> &#34920;&#31034; <span style="font-style: italic">input</span> &#25351;&#38024;&#21442;&#25968;:
   &#21253;&#35013;&#22120;&#23433;&#25490;&#20989;&#25968;&#35843;&#29992;&#25509;&#25910;&#19968;&#20010;&#21487;&#20197;&#19982;&#35813; <span class="RktSym">type</span> &#19968;&#36215;&#20351;&#29992;&#30340;&#20540;,&#24182;&#21521;&#22806;&#22269;&#20989;&#25968;&#21457;&#36865;&#19968;&#20010;&#25351;&#21521;&#35813;&#20540;&#30340;&#25351;&#38024;&#12290;
&#22312;&#35843;&#29992;&#20043;&#21518;,&#35813;&#20540;&#34987;&#20002;&#24323;&#12290;</p></li><li><p><span class="RktSym">o</span> &#8212;<wbr></wbr> &#34920;&#31034;&#19968;&#20010; <span style="font-style: italic">output</span> &#25351;&#38024;&#21442;&#25968;:
   &#22806;&#22269;&#20989;&#25968;&#26399;&#26395;&#19968;&#20010;&#25351;&#21521;&#23427;&#23558;&#20445;&#23384;&#19968;&#20123;&#20540;&#30340;&#22320;&#26041;&#30340;&#25351;&#38024;,&#24182;&#19988;&#36825;&#20010;&#20540;&#22312;&#35843;&#29992;&#21518;&#21487;&#20197;&#35775;&#38382;,&#34987;&#19968;&#20010;&#39069;&#22806;&#30340;&#36820;&#22238;&#34920;&#36798;&#24335;&#20351;&#29992;&#12290;
&#22914;&#26524;&#22312;&#36825;&#31181;&#27169;&#24335;&#19979;&#20351;&#29992; <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__ptr%29%29" class="RktStxLink" data-pltdoc="x">_ptr</a></span> ,&#37027;&#20040;&#29983;&#25104;&#30340;&#21253;&#35013;&#22120;&#19981;&#26399;&#26395;&#26377;&#19968;&#20010;&#21442;&#25968;,&#22240;&#20026;&#22312;&#35843;&#29992;&#20043;&#21069;&#20250;&#26377;&#19968;&#20010;&#26032;&#30340;&#20998;&#37197;&#12290;</p></li><li><p><span class="RktSym">io</span> &#8212;<wbr></wbr> &#23558;&#19978;&#36848;&#20869;&#23481;&#21512;&#24182;&#20026;&#19968;&#20010; <span style="font-style: italic">input/output</span> &#25351;&#38024;&#21442;&#25968;:
   &#21253;&#35013;&#22120;&#33719;&#24471;Racket&#20540;,&#20351;&#29992;&#35813;&#20540;&#20998;&#37197;&#24182;&#35774;&#32622;&#19968;&#20010;&#25351;&#38024;,&#28982;&#21518;&#22312;&#35843;&#29992;&#21518;&#24341;&#29992;&#35813;&#20540;&#12290;
&#36825;&#37324;&#30340; &ldquo;<span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__ptr%29%29" class="RktStxLink" data-pltdoc="x">_ptr</a></span>&rdquo; &#21517;&#31216;&#21487;&#33021;&#20250;&#24341;&#36215;&#28151;&#28102;:&#23427;&#24847;&#21619;&#30528;&#22806;&#22269;&#20989;&#25968;&#26399;&#26395;&#19968;&#20010;&#25351;&#38024;,&#20294;&#29983;&#25104;&#30340;&#21253;&#35013;&#22120;&#20351;&#29992;&#19968;&#20010;&#23454;&#38469;&#20540;&#12290;
(&#27880;&#24847;,&#22914;&#26524;&#36825;&#19982;&#32467;&#26500;&#20307;&#19968;&#36215;&#20351;&#29992;,&#37027;&#20040;&#22312;&#35843;&#29992;&#20989;&#25968;&#26102;&#23601;&#20250;&#21019;&#24314;&#19968;&#20010;&#32467;&#26500;&#20307;,
   &#24182;&#19988;&#20063;&#20250;&#22797;&#21046;&#19968;&#20010;&#36820;&#22238;&#20540;&ndash;&#36825;&#26679;&#20570;&#25928;&#29575;&#24456;&#20302;,&#20294;&#21487;&#20197;&#30830;&#20445;&#32467;&#26500;&#20307;&#19981;&#34987; C &#20195;&#30721;&#20462;&#25913;)&#12290;</p></li></ul><p>&#20363;&#22914;, <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__ptr%29%29" class="RktStxLink" data-pltdoc="x">_ptr</a></span> &#31867;&#22411;&#21487;&#20197;&#22312;&#36755;&#20986;&#27169;&#24335;&#19979;&#29992;&#20110;&#21019;&#24314;&#19968;&#20010;&#36820;&#22238;&#22810;&#20010;&#21442;&#25968;&#30340;&#22806;&#26469;&#20989;&#25968;&#21253;&#35013;&#22120;&#12290;&#19979;&#38754;&#30340;&#31867;&#22411;:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__ptr%29%29" class="RktStxLink" data-pltdoc="x">_ptr</a></span><span class="hspace">&nbsp;</span><span class="RktSym">o</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29._-~3e%29%29" class="plainlink" data-pltdoc="x"><span class="RktKw">-&gt;</span></a><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28quote._~23~25foreign%29.__double%29%29" class="RktValLink" data-pltdoc="x">_double</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29._-~3e%29%29" class="plainlink" data-pltdoc="x"><span class="RktKw">-&gt;</span></a><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">values</a></span><span class="hspace">&nbsp;</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>&#21019;&#24314;&#19968;&#20010;&#20989;&#25968;,&#29992;&#19968;&#20010;&#26032;&#30340;&#25972;&#25968;&#25351;&#38024;&#35843;&#29992;&#22806;&#26469;&#20989;&#25968;,&#24182;&#20351;&#29992;&#25918;&#22312;&#37027;&#37324;&#30340;&#20540;&#20316;&#20026;&#31532;&#20108;&#20010;&#36820;&#22238;&#20540;&#12290;</p><p>&#22914;&#26524;&#27809;&#26377;&#25351;&#23450; <span class="RktVar">maybe-malloc-mode</span> ,
 &#30001; <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__ptr%29%29" class="RktStxLink" data-pltdoc="x">_ptr</a></span> &#21019;&#24314;&#30340;&#25351;&#38024;&#21442;&#25968;&#23558;&#20351;&#29992; <span class="RktPn">(</span><span class="RktSym"><a href="foreign_pointer-funcs.html#%28def._%28%28quote._~23~25foreign%29._malloc%29%29" class="RktValLink" data-pltdoc="x">malloc</a></span><span class="stt"> </span><span class="RktVar">type-expr</span><span class="RktPn">)</span> &#36827;&#34892;&#20998;&#37197;,&#22914;&#26524;&#26159; <span class="RktVal">#f</span>,
 &#21017;&#20351;&#29992; <span class="RktPn">(</span><span class="RktSym"><a href="foreign_pointer-funcs.html#%28def._%28%28quote._~23~25foreign%29._malloc%29%29" class="RktValLink" data-pltdoc="x">malloc</a></span><span class="stt"> </span><span class="RktVar">type-expr</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVar">maybe-malloc-mode</span><span class="RktPn">)</span> &#12290;</p><p class="SHistory">Changed in version 7.7.0.6 of package <span class="stt">base</span>: <span class="RktSym">i</span>, <span class="RktSym">o</span>
&#21644; <span class="RktSym">io</span> &#27169;&#24335;&#20316;&#20026;&#31526;&#21495;&#32780;&#19981;&#26159;&#33258;&#30001;&#26631;&#35782;&#31526;&#36827;&#34892;&#21305;&#37197;&#12290;<br/>Changed in version 8.0.0.13: &#22686;&#21152;&#20102; <span class="RktSym">malloc-mode</span> &#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._ffi/unsafe..rkt).__box))"></a><span title="Provided from: ffi/unsafe | Package: base"><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__box%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">_box</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">type</span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-malloc-mode</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">&#19968;&#20010;&#31867;&#20284;&#20110; <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__ptr%29%29" class="RktStxLink" data-pltdoc="x">_ptr</a></span><span class="stt"> </span><span class="RktSym">io</span><span class="stt"> </span><span class="RktVar">type</span><span class="RktPn">)</span> &#21442;&#25968;&#30340; <a href="#%28tech._custom._function._type%29" class="techoutside" data-pltdoc="x"><span class="techinside">custom function type</span></a> ,
 &#20854;&#20013;&#36755;&#20837;&#34987;&#26399;&#26395;&#20026;&#19968;&#20010;&#23481;&#32435;&#36866;&#24403;&#20540;&#30340;&#30418;&#23376;,&#22312;&#36827;&#20837;&#26102;&#34987;&#35299;&#24320;,&#22312;&#36864;&#20986;&#26102;&#34987;&#30456;&#24212;&#20462;&#25913;&#12290;
&#21487;&#36873;&#30340; <span class="RktVar">maybe-malloc-mode</span> &#19982; <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__ptr%29%29" class="RktStxLink" data-pltdoc="x">_ptr</a></span> &#30456;&#21516;&#12290;</div></p><p>&#20363;&#22914;:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__box%29%29" class="RktStxLink" data-pltdoc="x">_box</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="______.html#%28def._%28%28quote._~23~25foreign%29.__void%29%29" class="RktValLink" data-pltdoc="x">_void</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">boxed</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__box%29%29" class="RktStxLink" data-pltdoc="x">_box</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=boxes.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._box%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">box</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">res</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">values</a></span><span class="hspace">&nbsp;</span><span class="RktSym">res</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=boxes.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._unbox%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">unbox</a></span><span class="hspace">&nbsp;</span><span class="RktSym">boxed</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._ffi/unsafe..rkt).__list))"></a><span title="Provided from: ffi/unsafe | Package: base"><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__list%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">_list</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">mode</span><span class="hspace">&nbsp;</span><span class="RktVar">type</span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-len</span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-mode</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">mode</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">i</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">o</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">io</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">maybe-len</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">len-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">maybe-mode</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">atomic</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">raw</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">atomic</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">nonatomic</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">tagged</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">atomic-interior</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">interior</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">stubborn</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">uncollectable</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">eternal</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">&#19968;&#20010; <a href="#%28tech._custom._function._type%29" class="techoutside" data-pltdoc="x"><span class="techinside">custom function type</span></a> ,&#19982; <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__ptr%29%29" class="RktStxLink" data-pltdoc="x">_ptr</a></span> &#31867;&#20284;,&#21482;&#26159;&#23427;&#29992;&#20110;&#23558;&#21015;&#34920;&#36716;&#25442;&#20026;/&#20174; C &#21521;&#37327;&#12290;
 &#21487;&#36873;&#30340; <span class="RktVar">maybe-len</span> &#21442;&#25968;&#23545;&#20110;&#36755;&#20986;&#20540;&#26469;&#35828;&#26159;&#38656;&#35201;&#30340;,&#23427;&#22312;&#21518;&#32622;&#20195;&#30721;&#20013;&#20351;&#29992;,&#22312;&#36755;&#20986;&#27169;&#24335;&#30340;&#21069;&#32622;&#20195;&#30721;&#20013;&#29992;&#20110;&#20998;&#37197;&#22359;&#12290;
(&#22914;&#26524;&#38271;&#24230;&#20026; 0,&#37027;&#20040;&#23601;&#20250;&#20256;&#20837; NULL,&#24182;&#36820;&#22238;&#19968;&#20010;&#31354;&#21015;&#34920;)&#12290;
&#22312;&#20219;&#20309;&#19968;&#31181;&#24773;&#20917;&#19979;,&#23427;&#37117;&#21487;&#20197;&#21442;&#32771;&#20197;&#21069;&#30340;&#21015;&#34920;&#38271;&#24230;&#30340;&#32465;&#23450;,C &#20989;&#25968;&#24456;&#21487;&#33021;&#38656;&#35201;&#36825;&#20010;&#38271;&#24230;&#12290;
 &#22914;&#26524;&#25552;&#20379;&#20102; <span class="RktVar">maybe-mode</span> ,&#23427;&#23558;&#34987;&#24341;&#29992;&#24182;&#22312;&#38656;&#35201;&#26102;&#20256;&#36882;&#32473; <span class="RktSym"><a href="foreign_pointer-funcs.html#%28def._%28%28quote._~23~25foreign%29._malloc%29%29" class="RktValLink" data-pltdoc="x">malloc</a></span> &#20197;&#20998;&#37197; C &#34920;&#31034;&#27861;&#12290;</div></p><p>&#20363;&#22914;,&#19979;&#38754;&#30340;&#31867;&#22411;&#23545;&#24212;&#20110;&#19968;&#20010;&#20989;&#25968;,&#23427;&#25509;&#25910;&#19968;&#20010; <span class="stt">*float</span>
 &#31867;&#22411;&#30340;&#21521;&#37327;&#21442;&#25968;(&#26469;&#33258; Racket &#21015;&#34920;&#36755;&#20837;)&#21644;&#19968;&#20010; <span class="stt">int</span> &#31867;&#22411;&#30340;&#21521;&#37327;&#38271;&#24230;&#21442;&#25968;:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">vec</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__list%29%29" class="RktStxLink" data-pltdoc="x">_list</a></span><span class="hspace">&nbsp;</span><span class="RktVar">i</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28quote._~23~25foreign%29.__float%29%29" class="RktValLink" data-pltdoc="x">_float</a></span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">this argument is implicitly provided</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._length%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">length</a></span><span class="hspace">&nbsp;</span><span class="RktSym">vec</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="______.html#%28def._%28%28quote._~23~25foreign%29.__void%29%29" class="RktValLink" data-pltdoc="x">_void</a></span><span class="RktPn">)</span></td></tr></table></blockquote><p>&#22312;&#25509;&#19979;&#26469;&#30340;&#36825;&#20010;&#20363;&#23376;&#20013;,&#35813;&#31867;&#22411;&#25351;&#23450;&#20102;&#19968;&#20010;&#20989;&#25968;,
 &#35813;&#20989;&#25968;&#36890;&#36807;&#19968;&#20010;&#32473;&#23450;&#30340;&#36755;&#20986;&#21521;&#37327;(&#22312; Racket &#31471;&#34920;&#31034;&#20026;&#19968;&#20010;&#21015;&#34920;)&#21644;&#19968;&#20010;&#24067;&#23572;&#36820;&#22238;&#20540;&#26469;&#25552;&#20379;&#36755;&#20986;&#12290;
 &#36825;&#20010; FFI-bound &#20989;&#25968;&#23558;&#25509;&#21463;&#19968;&#20010;&#25972;&#25968;&#21442;&#25968;,&#24182;&#36820;&#22238;&#20004;&#20010;&#20540;,&#21363;&#21521;&#37327;&#21644;&#24067;&#23572;&#20540;&#12290;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">len</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">vec</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__list%29%29" class="RktStxLink" data-pltdoc="x">_list</a></span><span class="hspace">&nbsp;</span><span class="RktVar">o</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28quote._~23~25foreign%29.__float%29%29" class="RktValLink" data-pltdoc="x">_float</a></span><span class="hspace">&nbsp;</span><span class="RktSym">len</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">res</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="______.html#%28def._%28%28quote._~23~25foreign%29.__bool%29%29" class="RktValLink" data-pltdoc="x">_bool</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">values</a></span><span class="hspace">&nbsp;</span><span class="RktSym">vec</span><span class="hspace">&nbsp;</span><span class="RktSym">res</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara"><p class="SHistory">Changed in version 7.7.0.2 of package <span class="stt">base</span>:  &#28155;&#21152;&#20102; <span class="RktVar">maybe-mode</span> &#12290;</p></div><div class="SIntrapara">#:changed "7.7.0.6" &#27169;&#24335; <span class="RktVar">i</span>, <span class="RktVar">o</span>
&#21644; <span class="RktVar">io</span> &#20316;&#20026;&#31526;&#21495;&#32780;&#19981;&#26159;&#33258;&#30001;&#26631;&#35782;&#31526;&#36827;&#34892;&#21305;&#37197;&#12290;]</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._ffi/unsafe..rkt).__vector))"></a><span title="Provided from: ffi/unsafe | Package: base"><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__vector%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">_vector</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">mode</span><span class="hspace">&nbsp;</span><span class="RktVar">type</span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-len</span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-mode</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">&#19968;&#20010;&#31867;&#20284;&#20110; <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__list%29%29" class="RktStxLink" data-pltdoc="x">_list</a></span> &#30340; <a href="#%28tech._custom._function._type%29" class="techoutside" data-pltdoc="x"><span class="techinside">custom function type</span></a> ,&#21482;&#26159;&#23427;&#20351;&#29992; Racket &#21521;&#37327;&#32780;&#19981;&#26159;&#21015;&#34920;&#12290;</div></p><p>&#20363;&#22914;:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">vec</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__vector%29%29" class="RktStxLink" data-pltdoc="x">_vector</a></span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28quote._~23~25foreign%29.__float%29%29" class="RktValLink" data-pltdoc="x">_float</a></span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._length%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">length</a></span><span class="hspace">&nbsp;</span><span class="RktSym">vec</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="______.html#%28def._%28%28quote._~23~25foreign%29.__void%29%29" class="RktValLink" data-pltdoc="x">_void</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__fun%29%29" class="RktStxLink" data-pltdoc="x">_fun</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">len</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28lib._ffi%2Funsafe..rkt%29.__int%29%29" class="RktValLink" data-pltdoc="x">_int</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">vec</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__vector%29%29" class="RktStxLink" data-pltdoc="x">_vector</a></span><span class="hspace">&nbsp;</span><span class="RktSym">o</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Numeric_Types.html#%28def._%28%28quote._~23~25foreign%29.__float%29%29" class="RktValLink" data-pltdoc="x">_float</a></span><span class="hspace">&nbsp;</span><span class="RktSym">len</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">res</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="______.html#%28def._%28%28quote._~23~25foreign%29.__bool%29%29" class="RktValLink" data-pltdoc="x">_bool</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">values</a></span><span class="hspace">&nbsp;</span><span class="RktSym">vec</span><span class="hspace">&nbsp;</span><span class="RktSym">res</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>&#20851;&#20110;&#20363;&#23376;&#30340;&#26356;&#22810;&#35299;&#37322;,&#35265; <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__list%29%29" class="RktStxLink" data-pltdoc="x">_list</a></span> &#12290;</p><p class="SHistory">Changed in version 7.7.0.2 of package <span class="stt">base</span>: &#22686;&#21152;&#20102; <span class="RktVar">maybe-mode</span> &#12290;<br/>Changed in version 7.7.0.6: <span class="RktSym">i</span>, <span class="RktSym">o</span>
&#21644; <span class="RktSym">io</span> &#27169;&#24335;&#20316;&#20026;&#31526;&#21495;&#32780;&#19981;&#26159;&#33258;&#30001;&#26631;&#35782;&#31526;&#36827;&#34892;&#21305;&#37197;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._ffi/unsafe..rkt).__bytes))"></a><span title="Provided from: ffi/unsafe | Package: base"><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__bytes%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">_bytes</a></span></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__bytes%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">_bytes</a></span><span class="hspace">&nbsp;</span><span class="RktSym">o</span><span class="hspace">&nbsp;</span><span class="RktVar">len-expr</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara"><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__bytes%29%29" class="RktStxLink" data-pltdoc="x">_bytes</a></span> &#24418;&#24335;&#26412;&#36523;&#23545;&#24212;&#20110; C &#30340; <span class="stt">char*</span> &#31867;&#22411;;&#19968;&#20010;&#23383;&#33410;&#20018;&#20197; <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__bytes%29%29" class="RktStxLink" data-pltdoc="x">_bytes</a></span> &#30340;&#24418;&#24335;&#20256;&#36882;,&#27809;&#26377;&#20219;&#20309;&#22797;&#21046;&#12290;
 &#35831;&#27880;&#24847;,Racket &#23383;&#33410;&#20018;&#19981;&#19968;&#23450;&#26159;&#26080;&#31471;&#30340;;&#20063;&#35831;&#30475; <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__bytes%2Fnul-terminated%29%29" class="RktStxLink" data-pltdoc="x">_bytes/nul-terminated</a></span> &#12290;</div></p><p>&#22312; Racket &#30340; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=performance.html%23%2528tech._bc%2529&amp;version=8.9" class="techoutside Sq" data-pltdoc="x"><span class="techinside">BC</span></a> &#23454;&#29616;&#20013;,C &#35821;&#35328;&#30340;&#38750; NULL &#32467;&#26524;&#20540;&#34987;&#36716;&#25442;&#20026; Racket &#23383;&#33410;&#20018;,&#26080;&#38656;&#22797;&#21046;;
 &#25351;&#38024;&#34987;&#35270;&#20026;&#21487;&#33021;&#34987;&#22403;&#22334;&#25910;&#38598;&#22120;&#31649;&#29702;(&#21442;&#35265; <span class="RktSym"><a href="____.html#%28def._%28%28quote._~23~25foreign%29.__gcpointer%29%29" class="RktValLink" data-pltdoc="x">_gcpointer</a></span> &#30340;&#27880;&#24847;&#20107;&#39033;)&#12290;
&#22312; Racket &#30340; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=performance.html%23%2528tech._c%2529&amp;version=8.9" class="techoutside Sq" data-pltdoc="x"><span class="techinside">CS</span></a> &#23454;&#29616;&#20013;,&#36716;&#25442;&#38656;&#35201;&#22797;&#21046;&#26469;&#23558; C &#35821;&#35328;&#30340; <span class="stt">char*</span> &#32467;&#26524;&#34920;&#31034;&#20026; Racket &#23383;&#33410;&#20018;,
 &#24182;&#19988;&#21407;&#22987;&#25351;&#38024; <span class="emph">&#19981;</span> &#34987;&#35270;&#20026;&#30001;&#22403;&#22334;&#25910;&#38598;&#22120;&#31649;&#29702;&#12290;
 &#22312;&#36825;&#20004;&#31181;&#24773;&#20917;&#19979;,C &#35821;&#35328;&#30340;&#32467;&#26524;&#24517;&#39035;&#26377;&#19968;&#20010; nul &#32467;&#26463;&#31526;&#26469;&#30830;&#23450; Racket &#23383;&#33410;&#20018;&#30340;&#38271;&#24230;&#12290;</p><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__bytes%29%29" class="RktStxLink" data-pltdoc="x">_bytes</a></span><span class="stt"> </span><span class="RktSym">o</span><span class="stt"> </span><span class="RktVar">len-expr</span><span class="RktPn">)</span> &#24418;&#24335;&#26159;&#19968;&#20010; <a href="#%28tech._custom._function._type%29" class="techoutside" data-pltdoc="x"><span class="techinside">custom function type</span></a> &#12290;
&#20316;&#20026;&#19968;&#20010;&#21442;&#25968;,&#20998;&#37197;&#20102;&#19968;&#20010;&#20855;&#26377;&#32473;&#23450;&#38271;&#24230;&#30340;&#23383;&#33410;&#20018;;&#22312; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=performance.html%23%2528tech._bc%2529&amp;version=8.9" class="techoutside Sq" data-pltdoc="x"><span class="techinside">BC</span></a> &#23454;&#29616;&#20013;,&#35813;&#23383;&#33410;&#20018;&#21253;&#25324;&#19968;&#20010;&#39069;&#22806;&#30340; nul &#32467;&#26463;&#31526;&#30340;&#23383;&#33410;,
 <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__bytes%29%29" class="RktStxLink" data-pltdoc="x">_bytes</a></span><span class="stt"> </span><span class="RktSym">o</span><span class="stt"> </span><span class="RktVar">len-expr</span><span class="RktPn">)</span> &#20316;&#20026;&#19968;&#20010;&#32467;&#26524;&#23558;&#19968;&#20010; C &#35821;&#35328;&#30340;&#38750; NULL <span class="stt">char*</span> &#25351;&#38024;&#21253;&#35013;&#25104;&#32473;&#23450;&#38271;&#24230;&#30340;&#23383;&#33410;&#20018;&#12290;
 &#23545;&#20110; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=performance.html%23%2528tech._c%2529&amp;version=8.9" class="techoutside Sq" data-pltdoc="x"><span class="techinside">CS</span></a> &#30340;&#23454;&#29616;,&#20998;&#37197;&#30340;&#21442;&#25968;&#19981;&#21253;&#25324; nul &#32467;&#26463;&#31526;,&#24182;&#19988;&#20026;&#32467;&#26524;&#23383;&#31526;&#20018;&#20570;&#20102;&#19968;&#20010;&#25335;&#36125;&#12290;</p><p>&#20687;&#24448;&#24120;&#19968;&#26679;, <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__bytes%29%29" class="RktStxLink" data-pltdoc="x">_bytes</a></span> &#23558; <span class="RktVal">#f</span> &#35270;&#20026; <span class="stt">NULL</span> ,&#21453;&#20043;&#20134;&#28982;&#12290;
 &#20316;&#20026;&#19968;&#20010;&#32467;&#26524;&#31867;&#22411;, <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__bytes%29%29" class="RktStxLink" data-pltdoc="x">_bytes</a></span><span class="stt"> </span><span class="RktSym">o</span><span class="stt"> </span><span class="RktVar">len-expr</span><span class="RktPn">)</span> &#21482;&#23545;&#38750; NULL &#30340;&#32467;&#26524;&#36215;&#20316;&#29992;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._ffi/unsafe..rkt).__bytes/nul-terminated))"></a><span title="Provided from: ffi/unsafe | Package: base"><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__bytes%2Fnul-terminated%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">_bytes/nul-terminated</a></span></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__bytes%2Fnul-terminated%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">_bytes/nul-terminated</a></span><span class="hspace">&nbsp;</span><span class="RktSym">o</span><span class="hspace">&nbsp;</span><span class="RktVar">len-expr</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara"><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__bytes%2Fnul-terminated%29%29" class="RktStxLink" data-pltdoc="x">_bytes/nul-terminated</a></span> &#31867;&#22411;&#21644; <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__bytes%29%29" class="RktStxLink" data-pltdoc="x">_bytes</a></span> &#19968;&#26679;,
 &#20294;&#26159;&#19968;&#20010;&#26126;&#30830;&#30340; nul-terminator &#23383;&#33410;&#34987;&#28155;&#21152;&#21040;&#19968;&#20010;&#23383;&#33410;&#23383;&#31526;&#20018;&#21442;&#25968;&#20013;,&#36825;&#24847;&#21619;&#30528;&#22797;&#21046;&#12290;
 &#20316;&#20026;&#19968;&#20010;&#32467;&#26524;&#31867;&#22411;, <span class="stt">char*</span> &#34987;&#22797;&#21046;&#21040;&#19968;&#20010;&#26032;&#30340;&#23383;&#33410;&#20018;&#20013;(&#27809;&#26377;&#26126;&#30830;&#30340; nul &#32467;&#26463;&#31526;)&#12290;</div></p><p>&#24403; <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__bytes%2Fnul-terminated%29%29" class="RktStxLink" data-pltdoc="x">_bytes/nul-terminated</a></span><span class="stt"> </span><span class="RktSym">o</span><span class="stt"> </span><span class="RktVar">len-expr</span><span class="RktPn">)</span> &#34987;&#29992;&#20316;&#19968;&#20010;&#21442;&#25968;&#31867;&#22411;&#26102;,
 &#19968;&#20010;&#38271;&#24230;&#20026; <span class="RktVar">len-expr</span> &#30340;&#23383;&#33410;&#20018;&#34987;&#20998;&#37197;&#12290;
&#21516;&#26679;,&#24403; <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__bytes%2Fnul-terminated%29%29" class="RktStxLink" data-pltdoc="x">_bytes/nul-terminated</a></span><span class="stt"> </span><span class="RktSym">o</span><span class="stt"> </span><span class="RktVar">len-expr</span><span class="RktPn">)</span> &#34987;&#29992;&#20316;&#32467;&#26524;&#31867;&#22411;&#26102;,&#19968;&#20010; <span class="stt">char*</span>
&#32467;&#26524;&#34987;&#22797;&#21046;&#21040;&#19968;&#20010;&#38271;&#24230;&#20026; <span class="RktVar">len-expr</span> &#30340;&#26032;&#23383;&#33410;&#20018;&#12290;</p><p>&#20687;&#24448;&#24120;&#19968;&#26679;, <span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__bytes%2Fnul-terminated%29%29" class="RktStxLink" data-pltdoc="x">_bytes/nul-terminated</a></span> &#23558; <span class="RktVal">#f</span> &#35270;&#20026; <span class="stt">NULL</span> ,&#21453;&#20043;&#20134;&#28982;&#12290;
 &#20316;&#20026;&#19968;&#20010;&#32467;&#26524;&#31867;&#22411;, <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ffi%2Funsafe..rkt%29.__bytes%2Fnul-terminated%29%29" class="RktStxLink" data-pltdoc="x">_bytes/nul-terminated</a></span><span class="stt"> </span><span class="RktSym">o</span><span class="stt"> </span><span class="RktVar">len-expr</span><span class="RktPn">)</span> &#21482;&#23545;&#38750; NULL &#32467;&#26524;&#36215;&#20316;&#29992;&#12290;</p><p class="SHistory">Added in version 6.12.0.2 of package <span class="stt">base</span>.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.9&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.9&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="____.html" title="backward to &quot;3.5 指针类型&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="types.html" title="up to &quot;3 C 类型&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="C_Struct_Types.html" title="forward to &quot;3.7 C Struct Types&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>