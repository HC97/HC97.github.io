<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>6&nbsp;Typed-Untyped 交互</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Typed Racket &#25351;&#21335;</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="quick.html" class="tocviewlink" data-pltdoc="x">&#24555;&#36895;&#20837;&#38376;</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="beginning.html" class="tocviewlink" data-pltdoc="x">&#24320;&#22987;&#20351;&#29992; Typed Racket</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="more.html" class="tocviewlink" data-pltdoc="x">&#25351;&#23450;&#31867;&#22411;</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="types.html" class="tocviewlink" data-pltdoc="x">Typed Racket &#20013;&#30340;&#31867;&#22411;</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="occurrence-typing.html" class="tocviewlink" data-pltdoc="x">&#20986;&#29616;&#31867;&#22411;</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Typed-<wbr></wbr>Untyped &#20132;&#20114;</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="optimization.html" class="tocviewlink" data-pltdoc="x">Typed Racket &#20013;&#30340;&#20248;&#21270;</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="caveats.html" class="tocviewlink" data-pltdoc="x">&#27880;&#24847;&#20107;&#39033;&#21644;&#38480;&#21046;</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>6&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Typed-<wbr></wbr>Untyped &#20132;&#20114;</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">6.1&nbsp;</td><td><a href="#%28part._untyped-in-typed%29" class="tocviewlink" data-pltdoc="x">&#22312;&#31867;&#22411;&#21270;&#20195;&#30721;&#20013;&#20351;&#29992;&#38750;&#31867;&#22411;&#21270;&#20195;&#30721;</a></td></tr><tr><td align="right">6.2&nbsp;</td><td><a href="#%28part._typed-in-untyped%29" class="tocviewlink" data-pltdoc="x">&#22312;&#38750;&#31867;&#22411;&#20195;&#30721;&#20013;&#20351;&#29992;&#31867;&#22411;&#20195;&#30721;</a></td></tr><tr><td align="right">6.3&nbsp;</td><td><a href="#%28part._protecting-interaction%29" class="tocviewlink" data-pltdoc="x">保护类型-<wbr></wbr>&#38750;&#31867;&#22411;&#20132;&#20114;</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">6.1<tt>&nbsp;</tt></span><a href="#%28part._untyped-in-typed%29" class="tocsubseclink" data-pltdoc="x">&#22312;&#31867;&#22411;&#21270;&#20195;&#30721;&#20013;&#20351;&#29992;&#38750;&#31867;&#22411;&#21270;&#20195;&#30721;</a></td></tr><tr><td><span class="tocsublinknumber">6.1.1<tt>&nbsp;</tt></span><a href="#%28part._~e4~b8~8d~e9~80~8f~e6~98~8e~e7~b1~bb~e5~9e~8b%29" class="tocsubseclink" data-pltdoc="x">&#19981;&#36879;&#26126;&#31867;&#22411;</a></td></tr><tr><td><span class="tocsublinknumber">6.2<tt>&nbsp;</tt></span><a href="#%28part._typed-in-untyped%29" class="tocsubseclink" data-pltdoc="x">&#22312;&#38750;&#31867;&#22411;&#20195;&#30721;&#20013;&#20351;&#29992;&#31867;&#22411;&#20195;&#30721;</a></td></tr><tr><td><span class="tocsublinknumber">6.3<tt>&nbsp;</tt></span><a href="#%28part._protecting-interaction%29" class="tocsubseclink" data-pltdoc="x">保护类型-<wbr></wbr>&#38750;&#31867;&#22411;&#20132;&#20114;</a></td></tr><tr><td><span class="tocsublinknumber">6.3.1<tt>&nbsp;</tt></span><a href="#%28part._~e6~b7~b1~e5~ba~a6~e7~b1~bb~e5~9e~8b__~e5~ae~8c~e5~85~a8~e5~8f~af~e9~9d~a0%29" class="tocsubseclink" data-pltdoc="x">深度类型:<span class="mywbr"> &nbsp;</span> &#23436;&#20840;&#21487;&#38752;</a></td></tr><tr><td><span class="tocsublinknumber">6.3.2<tt>&nbsp;</tt></span><a href="#%28part._~e6~b5~85~e7~b1~bb~e5~9e~8b__~e5~81~a5~e5~85~a8~e7~9a~84~e7~b1~bb~e5~9e~8b_~e4~bd~8e~e6~88~90~e6~9c~ac~e7~9a~84~e4~ba~a4~e4~ba~92%29" class="tocsubseclink" data-pltdoc="x">浅类型:<span class="mywbr"> &nbsp;</span> &#20581;&#20840;&#30340;&#31867;&#22411;,&#20302;&#25104;&#26412;&#30340;&#20132;&#20114;</a></td></tr><tr><td><span class="tocsublinknumber">6.3.3<tt>&nbsp;</tt></span><a href="#%28part._~e5~8f~af~e9~80~89~e7~b1~bb~e5~9e~8b__~e5~8f~aa~e6~98~af_.Racket%29" class="tocsubseclink" data-pltdoc="x">可选类型:<span class="mywbr"> &nbsp;</span> &#21482;&#26159; Racket</a></td></tr><tr><td><span class="tocsublinknumber">6.3.4<tt>&nbsp;</tt></span><a href="#%28part._~e4~bd~95~e6~97~b6~e4~bd~bf~e7~94~a8~e6~b7~b1~e7~b1~bb~e5~9e~8b_~e6~b5~85~e7~b1~bb~e5~9e~8b~e6~88~96~e5~8f~af~e9~80~89~e7~b1~bb~e5~9e~8b_%29" class="tocsubseclink" data-pltdoc="x">&#20309;&#26102;&#20351;&#29992;&#28145;&#31867;&#22411;&#12289;&#27973;&#31867;&#22411;&#25110;&#21487;&#36873;&#31867;&#22411;?</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.9</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.9&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.9&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="occurrence-typing.html" title="backward to &quot;5 出现类型&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Typed Racket 指南&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="optimization.html" title="forward to &quot;7 Typed Racket 中的优化&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;typed-racket/scribblings/ts-guide.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;typed-untyped-interaction&quot;">6<tt>&nbsp;</tt><a name="(part._typed-untyped-interaction)"></a>Typed-Untyped &#20132;&#20114;</h3><p>&#22312;&#21069;&#38754;&#30340;&#31456;&#33410;&#20013;,&#25152;&#26377;&#30340;&#20363;&#23376;&#37117;&#26159;&#30001;&#23436;&#20840;&#31867;&#22411;&#21270;&#30340;&#31243;&#24207;&#32452;&#25104;&#30340;&#12290;
 Typed Racket &#30340;&#20027;&#35201;&#29305;&#28857;&#20043;&#19968;&#26159;&#23427;&#20801;&#35768;&#22312;&#19968;&#20010;&#31243;&#24207;&#20013;&#32467;&#21512;&#31867;&#22411;&#21270;&#21644;&#38750;&#31867;&#22411;&#21270;&#30340;&#20195;&#30721;&#12290;</p><p>&#20174;&#38745;&#24577;&#31867;&#22411;&#30340;&#35282;&#24230;&#26469;&#30475;,&#32467;&#21512;&#31867;&#22411;&#21270;&#21644;&#38750;&#31867;&#22411;&#21270;&#30340;&#20195;&#30721;&#26159;&#24456;&#31616;&#21333;&#30340;&#12290;
&#31867;&#22411;&#21270;&#20195;&#30721;&#24517;&#39035;&#20026;&#20854;&#26410;&#31867;&#22411;&#21270;&#30340;&#23548;&#20837;&#22768;&#26126;&#31867;&#22411;,&#20197;&#20415;&#35753;&#31867;&#22411;&#26816;&#26597;&#22120;&#39564;&#35777;&#20854;&#20351;&#29992; (<a href="#%28part._untyped-in-typed%29" data-pltdoc="x">&#22312;&#31867;&#22411;&#21270;&#20195;&#30721;&#20013;&#20351;&#29992;&#38750;&#31867;&#22411;&#21270;&#20195;&#30721;</a>)&#12290;
&#38750;&#31867;&#22411;&#21270;&#20195;&#30721;&#21487;&#20197;&#33258;&#30001;&#22320;&#20174;&#31867;&#22411;&#21270;&#20195;&#30721;&#20013;&#23548;&#20837;&#32465;&#23450;&#29289; (<a href="#%28part._typed-in-untyped%29" data-pltdoc="x">&#22312;&#38750;&#31867;&#22411;&#20195;&#30721;&#20013;&#20351;&#29992;&#31867;&#22411;&#20195;&#30721;</a>) &#12290;</p><p>&#22312;&#36816;&#34892;&#26102;,&#32467;&#21512;&#31867;&#22411;&#21270;&#21644;&#38750;&#31867;&#22411;&#21270;&#30340;&#20195;&#30721;&#26159;&#24456;&#22797;&#26434;&#30340;,
&#22240;&#20026;&#22312;&#24378;&#31867;&#22411;&#20445;&#35777;&#21644;&#26816;&#26597;&#38750;&#31867;&#22411;&#21270;&#20195;&#30721;&#26159;&#21542;&#31526;&#21512;&#31867;&#22411;&#30340;&#24615;&#33021;&#25104;&#26412;&#20043;&#38388;&#23384;&#22312;&#30528;&#26435;&#34913;&#12290;
Typed Racket &#40664;&#35748;&#25552;&#20379;&#20102;&#24378;&#22823;&#30340; <span class="emph">Deep</span> &#31867;&#22411;&#20445;&#35777;,&#20294;&#21516;&#26102;&#20063;&#25552;&#20379;&#20102;&#20004;&#20010;&#36739;&#24369;&#30340;&#36873;&#39033;:
<span class="emph">Shallow</span> &#21644; <span class="emph">Optional</span> &#31867;&#22411; (<a href="#%28part._protecting-interaction%29" data-pltdoc="x">&#20445;&#25252;&#31867;&#22411;-&#38750;&#31867;&#22411;&#20132;&#20114;</a>) &#12290;</p><h4 x-source-module="(lib &quot;typed-racket/scribblings/ts-guide.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;untyped-in-typed&quot;">6.1<tt>&nbsp;</tt><a name="(part._untyped-in-typed)"></a>&#22312;&#31867;&#22411;&#21270;&#20195;&#30721;&#20013;&#20351;&#29992;&#38750;&#31867;&#22411;&#21270;&#20195;&#30721;</h4><p>&#20551;&#35774;&#25105;&#20204;&#20877;&#27425;&#32534;&#20889; <a href="quick.html" data-pltdoc="x">&#24555;&#36895;&#20837;&#38376;</a> &#20013;&#30340;&#38750;&#31867;&#22411;&#21270;&#27169;&#22359;:</p><blockquote class="SCodeFlow"><blockquote class="Rfilebox"><p class="Rfiletitle"><span class="Rfilename"><span class="stt">"distance.rkt"</span></span></p><blockquote class="Rfilecontent"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=Module-Syntax.html%23%2528part._hash-lang%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=index.html&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">racket</span></a></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._provide%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">provide</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct-out%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">struct-out</a></span><span class="hspace">&nbsp;</span><span class="RktSym">pt</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">distance</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._struct%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">pt</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">; </span><span class="RktSym">distance</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._%7E3a%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym">pt</span><span class="hspace">&nbsp;</span><span class="RktSym">pt</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">real</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._define%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">distance</span><span class="hspace">&nbsp;</span><span class="RktSym">p1</span><span class="hspace">&nbsp;</span><span class="RktSym">p2</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._sqrt%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">sqrt</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._sqr%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">sqr</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._-%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">pt-x</span><span class="hspace">&nbsp;</span><span class="RktSym">p2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">pt-x</span><span class="hspace">&nbsp;</span><span class="RktSym">p1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._sqr%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">sqr</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._-%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">pt-y</span><span class="hspace">&nbsp;</span><span class="RktSym">p2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">pt-y</span><span class="hspace">&nbsp;</span><span class="RktSym">p1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></blockquote></blockquote><p>&#22914;&#26524;&#25105;&#20204;&#24819;&#20174;&#19968;&#20010;&#31867;&#22411;&#21270;&#30340;&#27169;&#22359;&#20013;&#20351;&#29992;&#19978;&#36848;&#27169;&#22359;&#20013;&#23450;&#20041;&#30340; <span class="RktVar">distance</span> &#20989;&#25968;,
&#25105;&#20204;&#38656;&#35201;&#20351;&#29992; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._require%252Ftyped%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">require/typed</a></span> &#24418;&#24335;&#26469;&#23548;&#20837;&#23427;&#12290;
&#30001;&#20110;&#26410;&#31867;&#22411;&#21270;&#30340;&#27169;&#22359;&#27809;&#26377;&#25351;&#23450;&#20219;&#20309;&#31867;&#22411;,
&#25105;&#20204;&#38656;&#35201;&#29992;&#31867;&#22411;&#26469;&#27880;&#35299;&#23548;&#20837;(&#23601;&#20687; <a href="quick.html" data-pltdoc="x">&#24555;&#36895;&#20837;&#38376;</a> &#20013;&#30340;&#20363;&#23376;&#29992; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._%7E3a%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">:</a></span> &#38468;&#21152;&#31867;&#22411;&#27880;&#35299;&#19968;&#26679;):</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>&#27880;&#24847;,&#19968;&#20010;&#31867;&#22411;&#21270;&#30340;&#27169;&#22359; <span class="emph">&#19981;&#24212;&#35813;</span> &#20351;&#29992; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._require%252Ftyped%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">require/typed</a></span> &#26469;&#20174;&#21478;&#19968;&#20010;&#31867;&#22411;&#21270;&#30340;&#27169;&#22359;&#23548;&#20837;&#12290;
&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;, <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">require</a></span> &#24418;&#24335;&#20250;&#36215;&#20316;&#29992;&#12290;</p></blockquote></blockquote></blockquote><blockquote class="SCodeFlow"><blockquote class="Rfilebox"><p class="Rfiletitle"><span class="Rfilename"><span class="stt">"client.rkt"</span></span></p><blockquote class="Rfilecontent"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=Module-Syntax.html%23%2528part._hash-lang%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=index.html&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">typed/racket</span></a></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._require%252Ftyped%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">require/typed</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"distance.rkt"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">#:struct</span><span class="hspace">&nbsp;</span><span class="RktSym">pt</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._%7E3a%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Real%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">Real</a></span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._%7E3a%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Real%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">Real</a></span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">distance</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">pt</span><span class="hspace">&nbsp;</span><span class="RktSym">pt</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Real%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">Real</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">distance</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">pt</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">pt</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></blockquote></blockquote><p><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._require%252Ftyped%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">require/typed</a></span> &#24418;&#24335;&#26377;&#20960;&#31181;&#23376;&#21477;&#12290;
<span class="RktPn">#:struct</span> &#23376;&#21477;&#25351;&#23450;&#20102;&#32467;&#26500;&#31867;&#22411;&#30340;&#23548;&#20837;,&#24182;&#20801;&#35768;&#25105;&#20204;&#20351;&#29992;&#32467;&#26500;&#31867;&#22411;,
&#23601;&#20687;&#29992; Typed Racket &#30340;  <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._struct%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">struct</a></span> &#23450;&#20041;&#19968;&#26679;&#12290;</p><p>&#19978;&#38754;&#20363;&#23376;&#20013;&#30340;&#31532;&#20108;&#20010;&#23376;&#21477;&#25351;&#23450;&#20102;&#19968;&#20010;&#32473;&#23450;&#30340;&#32465;&#23450; <span class="RktVar">distance</span> &#20855;&#26377;&#32473;&#23450;&#30340;&#31867;&#22411; <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktSym">pt</span><span class="stt"> </span><span class="RktSym">pt</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Real%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">Real</a></span><span class="RktPn">)</span> &#12290;</p><p>&#27880;&#24847;, <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._require%252Ftyped%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">require/typed</a></span> &#24418;&#24335;&#21487;&#20197;&#20174;&#20219;&#20309;&#27169;&#22359;&#23548;&#20837;&#32465;&#23450;,&#21253;&#25324;&#37027;&#20123;&#23646;&#20110; Racket &#26631;&#20934;&#24211;&#30340;&#27169;&#22359;&#12290;&#20363;&#22914;&#12289;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=Module-Syntax.html%23%2528part._hash-lang%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=index.html&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">typed/racket</span></a></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._require%252Ftyped%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">require/typed</a></span><span class="hspace">&nbsp;</span><span class="RktSym">racket/base</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._add1%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">add1</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Integer%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">Integer</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Integer%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">Integer</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></blockquote><p>&#26159; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._require%252Ftyped%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">require/typed</a></span> &#24418;&#24335;&#30340;&#26377;&#25928;&#20351;&#29992;,&#23427;&#20174; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=index.html&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">racket/base</span></a> &#24211;&#20013;&#23548;&#20837; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._add1%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">add1</a></span> &#12290;</p><h5 x-source-module="(lib &quot;typed-racket/scribblings/ts-guide.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;不透明类型&quot;">6.1.1<tt>&nbsp;</tt><a name="(part._~e4~b8~8d~e9~80~8f~e6~98~8e~e7~b1~bb~e5~9e~8b)"></a>&#19981;&#36879;&#26126;&#31867;&#22411;</h5><p><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._require%252Ftyped%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">require/typed</a></span> &#30340; <span class="RktPn">#:opaque</span> &#19981;&#36879;&#26126;&#23376;&#21477;&#20351;&#29992;&#26469;&#33258;&#26410;&#31867;&#22411;&#21270;&#20195;&#30721;&#30340;&#35859;&#35789;&#23450;&#20041;&#20102;&#19968;&#20010;&#26032;&#31867;&#22411;&#12290;
&#20551;&#35774;&#25105;&#20204;&#26377;&#19968;&#20010;&#26410;&#31867;&#22411;&#21270;&#30340;&#36317;&#31163;&#20989;&#25968;,&#20351;&#29992;&#25968;&#23383;&#23545;&#20316;&#20026;&#28857;:</p><blockquote class="SCodeFlow"><blockquote class="Rfilebox"><p class="Rfiletitle"><span class="Rfilename"><span class="stt">"distance2.rkt"</span></span></p><blockquote class="Rfilecontent"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=Module-Syntax.html%23%2528part._hash-lang%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=index.html&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">racket</span></a></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._provide%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">provide</a></span><span class="hspace">&nbsp;</span><span class="RktSym">point?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">distance</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">; </span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">Point</span><span class="hspace">&nbsp;</span><span class="RktSym">is</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktSym">real</span><span class="hspace">&nbsp;</span><span class="RktSym">real</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._define%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">point?</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._and%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._pair%7E3f%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">pair?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">real?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._car%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">car</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">real?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cdr%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">cdr</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">; </span><span class="RktSym">distance</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._%7E3a%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Point</span><span class="hspace">&nbsp;</span><span class="RktSym">Point</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">real</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._define%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">distance</span><span class="hspace">&nbsp;</span><span class="RktSym">p1</span><span class="hspace">&nbsp;</span><span class="RktSym">p2</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._sqrt%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">sqrt</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._sqr%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">sqr</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._-%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._car%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">car</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._car%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">car</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._sqr%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">sqr</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._-%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cdr%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">cdr</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cdr%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">cdr</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></blockquote></blockquote><p>&#19968;&#20010;&#31867;&#22411;&#21270;&#30340;&#27169;&#22359;&#21487;&#20197;&#20351;&#29992; <span class="RktPn">#:opaque</span> &#26469;&#23450;&#20041;&#19968;&#20010; <span class="RktSym">Point</span> &#31867;&#22411;,
&#20316;&#20026; <span class="RktSym">point?</span> &#35859;&#35789;&#36820;&#22238; <span class="RktVal">#t</span> &#30340;&#25152;&#26377;&#20540;:</p><blockquote class="SCodeFlow"><blockquote class="Rfilebox"><p class="Rfiletitle"><span class="Rfilename"><span class="stt">"client2.rkt"</span></span></p><blockquote class="Rfilecontent"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=Module-Syntax.html%23%2528part._hash-lang%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=index.html&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">typed/racket</span></a></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._require%252Ftyped%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">require/typed</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"distance2.rkt"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">#:opaque</span><span class="hspace">&nbsp;</span><span class="RktSym">Point</span><span class="hspace">&nbsp;</span><span class="RktSym">point?</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">distance</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">Point</span><span class="hspace">&nbsp;</span><span class="RktSym">Point</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Real%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">Real</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._define%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p0</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._%7E3a%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Point</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=Utilities.html%23%2528def._%2528%2528lib._typed-racket%252Fbase-env%252Fextra-procs..rkt%2529._assert%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">assert</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">point?</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._define%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p1</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._%7E3a%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Point</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=Utilities.html%23%2528def._%2528%2528lib._typed-racket%252Fbase-env%252Fextra-procs..rkt%2529._assert%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">assert</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">point?</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">distance</span><span class="hspace">&nbsp;</span><span class="RktSym">p0</span><span class="hspace">&nbsp;</span><span class="RktSym">p1</span><span class="RktPn">)</span></td></tr></table></blockquote></blockquote></blockquote><h4 x-source-module="(lib &quot;typed-racket/scribblings/ts-guide.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;typed-in-untyped&quot;">6.2<tt>&nbsp;</tt><a name="(part._typed-in-untyped)"></a>&#22312;&#38750;&#31867;&#22411;&#20195;&#30721;&#20013;&#20351;&#29992;&#31867;&#22411;&#20195;&#30721;</h4><p>&#22312;&#19978;&#19968;&#23567;&#33410;&#20013;,&#25105;&#20204;&#30475;&#21040;&#20174;&#31867;&#22411;&#21270;&#30340;&#20195;&#30721;&#20013;&#20351;&#29992;&#26410;&#31867;&#22411;&#21270;&#30340;&#20195;&#30721;&#38656;&#35201;&#20351;&#29992; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._require%252Ftyped%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">require/typed</a></span> &#12290;
 &#28982;&#32780;,&#20174;&#21478;&#19968;&#20010;&#26041;&#21521;&#20351;&#29992;&#20195;&#30721;(&#21363;&#20174;&#26410;&#25171;&#23383;&#30340;&#20195;&#30721;&#20013;&#20351;&#29992;&#25171;&#23383;&#30340;&#20195;&#30721;)&#19981;&#38656;&#35201;&#39069;&#22806;&#30340;&#24037;&#20316;&#12290;</p><p>&#22914;&#26524;&#19968;&#20010;&#26410;&#31867;&#22411;&#21270;&#30340;&#27169;&#22359; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">require</a></span> &#19968;&#20010;&#31867;&#22411;&#21270;&#30340;&#27169;&#22359;,&#23427;&#23558;&#33021;&#22815;&#25353;&#29031;&#39044;&#26399;&#20351;&#29992;&#31867;&#22411;&#21270;&#27169;&#22359;&#20013;&#23450;&#20041;&#30340;&#32465;&#23450;&#12290;
 &#36825;&#26465;&#35268;&#21017;&#30340;&#20027;&#35201;&#20363;&#22806;&#26159;,&#22312;&#31867;&#22411;&#21270;&#27169;&#22359;&#20013;&#23450;&#20041;&#30340;&#23439;&#19981;&#33021;&#22312;&#26410;&#31867;&#22411;&#21270;&#27169;&#22359;&#20013;&#20351;&#29992;&#12290;</p><h4 x-source-module="(lib &quot;typed-racket/scribblings/ts-guide.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;protecting-interaction&quot;">6.3<tt>&nbsp;</tt><a name="(part._protecting-interaction)"></a>&#20445;&#25252;&#31867;&#22411;-&#38750;&#31867;&#22411;&#20132;&#20114;</h4><p>&#20154;&#20204;&#21487;&#33021;&#20250;&#38382;,&#21069;&#20004;&#20010;&#23567;&#33410;&#20013;&#25551;&#36848;&#30340;&#20132;&#20114;&#26159;&#21542;&#30495;&#30340;&#23433;&#20840;&#12290;
&#27605;&#31455;,&#26410;&#31867;&#22411;&#21270;&#30340;&#20195;&#30721;&#21487;&#33021;&#20250;&#24573;&#30053; Typed Racket &#30340;&#31867;&#22411;&#31995;&#32479;&#22312;&#32534;&#35793;&#26102;&#25429;&#25417;&#21040;&#30340;&#38169;&#35823;&#12290;</p><p>&#20363;&#22914;,&#20551;&#35774;&#25105;&#20204;&#20889;&#20102;&#19968;&#20010;&#23454;&#29616;&#20102; <span class="RktVar">increment</span> &#20989;&#25968;&#30340;&#38750;&#31867;&#22411;&#21270;&#27169;&#22359;:</p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=module.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._module%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">module</a></span><span class="hspace">&nbsp;</span><span class="RktSym">increment</span><span class="hspace">&nbsp;</span><span class="RktSym">racket</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._provide%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">provide</a></span><span class="hspace">&nbsp;</span><span class="RktSym">increment</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">; </span><span class="RktSym">increment</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._%7E3a%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.9" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._define%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">increment</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"this is broken"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div></p><p>&#21644;&#19968;&#20010;&#20351;&#29992;&#23427;&#30340;&#31867;&#22411;&#21270;&#27169;&#22359;:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=module.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._module%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">module</a></span><span class="hspace">&nbsp;</span><span class="RktSym">client</span><span class="hspace">&nbsp;</span><span class="RktSym">typed/racket</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._require%252Ftyped%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">require/typed</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">increment</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">increment</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Integer%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">Integer</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Integer%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">Integer</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">increment</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote><p>&#36825;&#20010;&#32452;&#21512;&#31243;&#24207;&#26377;&#19968;&#20010;&#38382;&#39064;&#12290;
 &#22312;&#31867;&#22411;&#21270;&#30340; Racket &#20013;,&#25152;&#26377;&#23545; <span class="RktVar">increment</span> &#30340;&#20351;&#29992;&#37117;&#26159;&#27491;&#30830;&#30340;,
&#21069;&#25552;&#26159; <span class="RktVar">increment</span> &#20989;&#25968;&#22362;&#25345; <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Integer%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">Integer</a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Integer%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">Integer</a></span><span class="RktPn">)</span> &#31867;&#22411;&#12290;
&#19981;&#24184;&#30340;&#26159;,&#25105;&#20204;&#30340; <span class="RktVar">increment</span> &#23454;&#29616;&#23454;&#38469;&#19978;&#24182;&#27809;&#26377;&#22362;&#25345;&#36825;&#20010;&#20551;&#35774;,&#22240;&#20026;&#36825;&#20010;&#20989;&#25968;&#23454;&#38469;&#19978;&#20135;&#29983;&#20102;&#23383;&#31526;&#20018;&#12290;</p><p>&#40664;&#35748;&#24773;&#20917;&#19979;,Typed Racket &#20250;&#22312;&#31867;&#22411;&#21270;&#20195;&#30721;&#21644;&#38750;&#31867;&#22411;&#21270;&#20195;&#30721;&#20132;&#20114;&#30340;&#22320;&#26041;&#24314;&#31435;&#22865;&#32422;,&#20197;&#30830;&#20445;&#24378;&#31867;&#22411;&#12290;
 &#28982;&#32780;,&#36825;&#20123;&#22865;&#32422;&#20250;&#23545;&#24615;&#33021;&#20135;&#29983;&#38750;&#21516;&#23567;&#21487;&#30340;&#24433;&#21709;&#12290;
 &#23545;&#20110;&#36825;&#20123;&#25104;&#26412;&#26377;&#38382;&#39064;&#30340;&#31243;&#24207;,Typed Racket &#25552;&#20379;&#20102;&#20004;&#31181;&#36873;&#25321;&#12290;
&#24635;&#30340;&#26469;&#35828;,&#36825;&#19977;&#31181;&#36873;&#25321;&#26159;&#28145;&#31867;&#22411;&#12289;&#27973;&#31867;&#22411;&#21644;&#21487;&#36873;&#31867;&#22411;&#12290;</p><ol><li><p><font class="badlink"><span class="techoutside"><span class="techinside">Deep types</span></span></font> &#36890;&#36807;&#20005;&#26684;&#30340;&#22865;&#32422;&#26816;&#26597;&#26469;&#25191;&#34892;&#12290;</p></li><li><p><font class="badlink"><span class="techoutside"><span class="techinside">Shallow types</span></span></font> &#22312;&#31867;&#22411;&#21270;&#20195;&#30721;&#20013;&#36890;&#36807;&#36731;&#37327;&#32423;&#30340;&#26029;&#35328;(&#31216;&#20026; <a href="#%28tech._shape._check%29" class="techoutside" data-pltdoc="x"><span class="techinside">shape checks</span></a> )&#36827;&#34892;&#26816;&#26597;&#12290;</p></li><li><p><font class="badlink"><span class="techoutside"><span class="techinside">Optional types</span></span></font> &#19981;&#20250;&#20197;&#20219;&#20309;&#26041;&#24335;&#34987;&#24378;&#21046;&#25191;&#34892;&#12290;
&#23427;&#20204;&#19981;&#33021;&#30830;&#20445;&#23433;&#20840;&#30340;&#31867;&#22411;&#21270;-&#38750;&#31867;&#22411;&#21270;&#20132;&#20114;&#12290;</p></li></ol><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>&#21478;&#35265;: &#31867;&#22411;&#21270; Racket &#21442;&#32771;&#20013;&#30340; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=behavior-of-types.html&amp;version=8.9" class="Sq" data-pltdoc="x">&#28145;&#23618;&#12289;&#27973;&#23618;&#21644;&#21487;&#36873;&#35821;&#20041;</a> &#12290;</p></blockquote></blockquote></blockquote></div><div class="SIntrapara">&#19979;&#38754;&#30340;&#23567;&#33410;&#32473;&#20986;&#20102;&#28145;&#23618;&#12289;&#27973;&#23618;&#21644;&#21487;&#36873;&#34892;&#20026;&#30340;&#20363;&#23376;&#12290;</div></p><h5 x-source-module="(lib &quot;typed-racket/scribblings/ts-guide.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;深度类型__完全可靠&quot;">6.3.1<tt>&nbsp;</tt><a name="(part._~e6~b7~b1~e5~ba~a6~e7~b1~bb~e5~9e~8b__~e5~ae~8c~e5~85~a8~e5~8f~af~e9~9d~a0)"></a>&#28145;&#24230;&#31867;&#22411;: &#23436;&#20840;&#21487;&#38752;</h5><p>&#24403;&#19978;&#38754;&#30340; <span class="RktVar">client</span> &#31243;&#24207;&#36816;&#34892;&#26102;,
&#26631;&#20934;&#30340;&#31867;&#22411;&#21270; Racket(&#21448;&#31216;&#28145;&#31867;&#22411;&#21270; Racket)&#36890;&#36807;&#19968;&#20010;&#22865;&#32422;&#26469;&#25191;&#34892; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._require%252Ftyped%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">require/typed</a></span>
&#25509;&#21475;&#12290;
&#24403; <span class="RktVar">client</span> &#35843;&#29992;&#26410;&#23450;&#22411;&#30340; <span class="RktVar">increment</span> &#20989;&#25968;&#26102;,&#36825;&#20010;&#22865;&#32422;&#20250;&#26816;&#27979;&#21040;&#19968;&#20010;&#22833;&#36133;&#30340;&#31867;&#22411;&#20551;&#35774;:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">client</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">increment: broke its own contract</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">promised: exact-integer?</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">produced: "this is broken"</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: (-&gt; any/c exact-integer?)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: (interface for increment)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: (interface for increment)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at: eval:3:0</span></p></td></tr></table></blockquote><p>&#22240;&#20026;&#26410;&#31867;&#22411;&#21270;&#27169;&#22359;&#20013;&#30340;&#23454;&#29616;&#36829;&#21453;&#20102;&#22865;&#32422;,&#36820;&#22238;&#20102;&#19968;&#20010;&#23383;&#31526;&#20018;&#32780;&#19981;&#26159;&#19968;&#20010;&#25972;&#25968;,&#25152;&#20197;&#38169;&#35823;&#20449;&#24687;&#25351;&#36131;&#23427;&#12290;</p><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>&#20851;&#20110; Racket &#30340;&#22865;&#32422;&#31995;&#32479;&#30340;&#19968;&#33324;&#20449;&#24687;,
&#35831;&#21442;&#35265; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=guide&amp;rel=contracts.html&amp;version=8.9" class="Sq" data-pltdoc="x">&#21512;&#32422;</a> &#12290;</p></blockquote></blockquote></blockquote></div><div class="SIntrapara">&#19968;&#33324;&#26469;&#35828;,Deep Typed Racket &#20250;&#26816;&#26597;&#25152;&#26377;&#20174;&#31867;&#22411;&#21270;&#27169;&#22359;&#20256;&#36882;&#21040;&#38750;&#31867;&#22411;&#21270;&#27169;&#22359;&#30340;&#20989;&#25968;&#21644;&#20854;&#20182;&#20540;,&#25110;&#32773;&#21453;&#20043;&#20134;&#28982;&#30340;&#21512;&#32422;&#12290;
&#36825;&#24847;&#21619;&#30528;,&#20363;&#22914;,Typed Racket &#21487;&#20197;&#23433;&#20840;&#22320;&#20248;&#21270;&#31243;&#24207;(&#35265; <a href="optimization.html" data-pltdoc="x">Typed Racket &#20013;&#30340;&#20248;&#21270;</a>) ,
&#20445;&#35777;&#31243;&#24207;&#19981;&#20250;&#22240;&#20026;&#26410;&#26816;&#26597;&#30340;&#20551;&#35774;&#32780;&#21457;&#29983;&#25925;&#38556;&#12290;</div></p><p><span style="font-weight: bold">&#37325;&#35201;&#30340;&#27880;&#24847;&#20107;&#39033;</span>: &#20687;&#19978;&#38754;&#30340; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Integer%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">Integer</a></span> &#26816;&#26597;&#36825;&#26679;&#30340;&#22865;&#32422;&#26159;&#39640;&#24615;&#33021;&#30340;&#12290;
 &#28982;&#32780;,&#19968;&#33324;&#26469;&#35828;,&#22865;&#32422;&#20250;&#23545;&#24615;&#33021;&#20135;&#29983;&#19981;&#21487;&#24573;&#35270;&#30340;&#24433;&#21709;,&#29305;&#21035;&#26159;&#22312;&#20351;&#29992;&#19968;&#32423;&#20989;&#25968;&#25110;&#20854;&#20182;&#39640;&#38454;&#25968;&#25454;(&#22914;&#21521;&#37327;)&#26102;&#12290;</p><p>&#35831;&#27880;&#24847;,&#22312;&#20351;&#29992;&#21478;&#19968;&#20010;&#28145;&#31867;&#22411;&#27169;&#22359;&#30340;&#31867;&#22411;&#20540;&#26102;,&#19981;&#20250;&#20135;&#29983;&#22865;&#32422;&#30340;&#24320;&#38144;&#12290;</p><h5 x-source-module="(lib &quot;typed-racket/scribblings/ts-guide.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;浅类型__健全的类型_低成本的交互&quot;">6.3.2<tt>&nbsp;</tt><a name="(part._~e6~b5~85~e7~b1~bb~e5~9e~8b__~e5~81~a5~e5~85~a8~e7~9a~84~e7~b1~bb~e5~9e~8b_~e4~bd~8e~e6~88~90~e6~9c~ac~e7~9a~84~e4~ba~a4~e4~ba~92)"></a>&#27973;&#31867;&#22411;: &#20581;&#20840;&#30340;&#31867;&#22411;,&#20302;&#25104;&#26412;&#30340;&#20132;&#20114;</h5><p>&#23558; <span class="RktVar">client</span> &#31243;&#24207;&#30340;&#27169;&#22359;&#35821;&#35328;&#20174; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=index.html&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">typed/racket</span></a> &#25913;&#20026;
<a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=behavior-of-types.html%23%2528mod-path._typed%252Fracket%252Fshallow%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">typed/racket/shallow</span></a> &#25913;&#21464;&#20102;&#20445;&#25252; typed-untyped &#20132;&#20114;&#30340;&#26041;&#24335;&#12290;
Typed Racket &#20351;&#29992; <a name="(tech._shape._check)"></a><span style="font-style: italic">shape checks</span> &#26469;&#25191;&#34892;&#36825;&#20123; Shallow &#31867;&#22411;,&#32780;&#19981;&#26159;&#22865;&#32422;&#12290;</p><p>&#26377;&#20102;Shallow&#31867;&#22411;,&#24403;&#19968;&#20010;&#26410;&#31867;&#22411;&#21270;&#30340;&#20989;&#25968;&#36820;&#22238;&#19968;&#20010;&#23383;&#31526;&#20018;&#32780;&#19981;&#26159;&#19968;&#20010;&#25972;&#25968;&#26102;,
&#19978;&#38754;&#30340; <span class="RktVar">client</span> &#31243;&#24207;&#20173;&#28982;&#20250;&#26816;&#27979;&#21040;&#19968;&#20010;&#38169;&#35823;:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=module.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._module%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">module</a></span><span class="hspace">&nbsp;</span><span class="RktSym">client</span><span class="hspace">&nbsp;</span><span class="RktSym">typed/racket/shallow</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._require%252Ftyped%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">require/typed</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">increment</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">increment</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Integer%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">Integer</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Integer%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">Integer</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">increment</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">client</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">shape-check: value does not match expected type</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">value: "this is broken"</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">type: Integer</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">lang: 'typed/racket/shallow</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">src: '(eval 2 0 2 1)</span></p></td></tr></table></blockquote><p>&#32534;&#35793;&#21518;&#30340; <span class="RktVar">client</span> &#27169;&#22359;&#24635;&#20849;&#26377;&#20004;&#20010;&#24418;&#29366;&#26816;&#26597;:</p><ol><li><p>&#22312; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._require%252Ftyped%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">require/typed</a></span> &#36793;&#30028;&#30340;&#24418;&#29366;&#26816;&#26597;&#30830;&#35748;&#20102; <span class="RktSym">increment</span> &#26159;&#19968;&#20010;&#26399;&#26395;&#26377;&#19968;&#20010;&#21442;&#25968;&#30340;&#20989;&#25968;&#12290;</p></li><li><p>&#22312;&#35843;&#29992; <span class="RktPn">(</span><span class="RktSym">increment</span><span class="stt"> </span><span class="RktVal">5</span><span class="RktPn">)</span> &#20043;&#21518;&#30340;&#24418;&#29366;&#26816;&#26597;&#23547;&#25214;&#19968;&#20010;&#25972;&#25968;&#12290;&#36825;&#20010;&#26816;&#26597;&#22833;&#36133;&#20102;&#12290;</p></li></ol><p>&#36825;&#26679;&#30340;&#26816;&#26597;&#22312;&#19968;&#20010;&#31867;&#22411;&#21270;&#30340;&#27169;&#22359;&#20013;&#19968;&#36215;&#24037;&#20316;,&#20197;&#25191;&#34892;&#23427;&#23545;&#38750;&#31867;&#22411;&#21270;&#20195;&#30721;&#30340;&#20551;&#35774;&#12290;</p><p>&#24418;&#29366;&#26816;&#26597;&#30340;&#19968;&#20010;&#35774;&#35745;&#20934;&#21017;&#26159;&#30830;&#20445;&#19968;&#20010;&#20540;&#19982;&#31867;&#22411;&#30340;&#39030;&#23618;&#26500;&#36896;&#20989;&#25968;&#30456;&#21305;&#37197;&#12290;
&#24418;&#29366;&#26816;&#26597;&#24635;&#26159; "&#26159;" &#25110; "&#21542;" &#30340;&#35859;&#35789;(&#19981;&#20687;&#22865;&#32422;,&#23427;&#21487;&#20197;&#21253;&#20303;&#19968;&#20010;&#20540;),&#24182;&#19988;&#36890;&#24120;&#22312;&#24658;&#23450;&#26102;&#38388;&#20869;&#36816;&#34892;&#12290;
&#22240;&#20026;&#23427;&#20204;&#30830;&#20445;&#20102;&#31867;&#22411;&#26500;&#36896;&#20989;&#25968;&#30340;&#26377;&#25928;&#24615;,
&#25152;&#20197;&#24418;&#29366;&#26816;&#26597;&#20801;&#35768; Typed Racket &#23433;&#20840;&#22320;&#20248;&#21270;&#19968;&#20123;&#31243;&#24207;&ndash;&#23613;&#31649;&#20854;&#31243;&#24230;&#19982; Deep types &#19981;&#21516;&#12290;</p><p><span style="font-weight: bold">&#37325;&#35201;&#30340;&#27880;&#24847;&#28857;</span>: (1) &#19968;&#20010;&#27169;&#22359;&#20013;&#30340;&#24418;&#29366;&#26816;&#26597;&#30340;&#25968;&#37327;&#19982;&#23427;&#30340;&#22823;&#23567;&#25104;&#27604;&#20363;&#22686;&#38271;&#12290;
&#20363;&#22914;,Shallow &#31867;&#22411;&#20195;&#30721;&#20013;&#30340;&#27599;&#20010;&#20989;&#25968;&#35843;&#29992;&#37117;&#35201;&#34987;&#26816;&#26597;&ndash;&#38500;&#38750; Typed Racket &#30830;&#23450;&#23427;&#21487;&#20197;&#20449;&#20219;&#35813;&#20989;&#25968;&#12290;
&#22240;&#27492;,&#23545;&#20110;&#22823;&#22411;&#30340;&#12289;&#35745;&#31639;&#37327;&#22823;&#30340;&#27169;&#22359;&#26469;&#35828;,&#27973;&#23618;&#31867;&#22411;&#26159;&#19968;&#20010;&#31967;&#31957;&#30340;&#36873;&#25321;&#12290;
(2) &#27973;&#23618;&#31867;&#22411;&#21482;&#22312;&#20854;&#30452;&#25509;&#30340;&#12289;&#23616;&#37096;&#30340;&#29615;&#22659;&#20013;&#34987;&#25191;&#34892;&#12290;
&#20363;&#22914;,&#22914;&#26524;&#31867;&#22411;&#21270;&#30340;&#20195;&#30721;&#25237;&#36882; <span class="RktSym">increment</span> &#20197;&#26399;&#26395;&#19968;&#20010;&#23383;&#31526;&#20018;,&#37027;&#20040;&#20989;&#25968;&#21487;&#20197;&#34987;&#35843;&#29992;&#32780;&#19981;&#20250;&#20986;&#38169;&#12290;</p><h5 x-source-module="(lib &quot;typed-racket/scribblings/ts-guide.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;可选类型__只是_Racket&quot;">6.3.3<tt>&nbsp;</tt><a name="(part._~e5~8f~af~e9~80~89~e7~b1~bb~e5~9e~8b__~e5~8f~aa~e6~98~af_.Racket)"></a>&#21487;&#36873;&#31867;&#22411;: &#21482;&#26159; Racket</h5><p><span class="RktVar">client</span> &#31243;&#24207;&#30340;&#31532;&#19977;&#20010;&#36873;&#25321;&#26159;&#20351;&#29992; Optional &#31867;&#22411;,
&#23427;&#26159;&#30001;&#35821;&#35328; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=behavior-of-types.html%23%2528mod-path._typed%252Fracket%252Foptional%2529&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">typed/racket/optional</span></a> &#25552;&#20379;&#30340;:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=module.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._module%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">module</a></span><span class="hspace">&nbsp;</span><span class="RktSym">client</span><span class="hspace">&nbsp;</span><span class="RktSym">typed/racket/optional</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._require%252Ftyped%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">require/typed</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">increment</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">increment</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Integer%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">Integer</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Integer%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">Integer</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">increment</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote><p>&#21487;&#36873;&#31867;&#22411;&#24182;&#19981;&#33021;&#30830;&#20445;&#23433;&#20840;&#30340;&#31867;&#22411;&#21270;-&#38750;&#31867;&#22411;&#21270;&#20132;&#20114;&#12290;
 &#20107;&#23454;&#19978;,&#23427;&#20204;&#22312;&#36816;&#34892;&#26102;&#27809;&#26377;&#20570;&#20219;&#20309;&#26816;&#26597;&#31867;&#22411;&#30340;&#24037;&#20316;&#12290;
 &#23545;&#22686;&#37327;&#20989;&#25968;&#30340;&#35843;&#29992;&#24182;&#19981;&#20250;&#24341;&#21457;&#38169;&#35823;:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">client</span><span class="RktPn">)</span></td></tr></table></blockquote><p>&#21487;&#36873;&#31867;&#22411;&#19981;&#33021;&#26816;&#27979;&#19981;&#27491;&#30830;&#30340;&#31867;&#22411;&#20551;&#35774;,&#22240;&#27492;&#19981;&#33021;&#23454;&#29616;&#31867;&#22411;&#39537;&#21160;&#30340;&#20248;&#21270;&#12290;
&#20294;&#26159;,&#23427;&#20204;&#20063;&#27809;&#26377;&#22686;&#21152;&#20219;&#20309;&#25104;&#26412;&#26469;&#20943;&#32531;&#31243;&#24207;&#30340;&#36816;&#34892;&#12290;
&#36816;&#34892;&#26102;&#30340;&#34892;&#20026;&#19982;&#26080;&#31867;&#22411;&#30340; Racket &#21644; <a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=________Typed_Racket___.html&amp;version=8.9" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">typed/racket/no-check</span></a> &#38750;&#24120;&#30456;&#20284;&#12290;</p><h5 x-source-module="(lib &quot;typed-racket/scribblings/ts-guide.scrbl&quot;)" x-source-pkg="typed-racket-doc" x-part-tag="&quot;何时使用深类型_浅类型或可选类型_&quot;">6.3.4<tt>&nbsp;</tt><a name="(part._~e4~bd~95~e6~97~b6~e4~bd~bf~e7~94~a8~e6~b7~b1~e7~b1~bb~e5~9e~8b_~e6~b5~85~e7~b1~bb~e5~9e~8b~e6~88~96~e5~8f~af~e9~80~89~e7~b1~bb~e5~9e~8b_)"></a>&#20309;&#26102;&#20351;&#29992;&#28145;&#31867;&#22411;&#12289;&#27973;&#31867;&#22411;&#25110;&#21487;&#36873;&#31867;&#22411;?</h5><ul><li><p><font class="badlink"><span class="techoutside"><span class="techinside">Deep types</span></span></font> &#21487;&#20197;&#26368;&#22823;&#21270;&#38745;&#24577;&#26816;&#26597;&#21644;&#31867;&#22411;&#39537;&#21160;&#30340;&#20248;&#21270;&#30340;&#22909;&#22788;&#12290;
&#23558;&#23427;&#20204;&#29992;&#20110;&#32039;&#23494;&#36830;&#25509;&#30340;&#31867;&#22411;&#21270;&#27169;&#22359;&#32452;&#12290;
&#24403;&#26410;&#31867;&#22411;&#21270;&#30340;&#39640;&#38454;&#20540;&#32463;&#24120;&#36328;&#36234;&#36793;&#30028;&#36827;&#20837;&#31867;&#22411;&#21270;&#20195;&#30721;&#26102;,&#35201;&#36991;&#20813;&#20351;&#29992;&#23427;&#20204;&#12290;
&#26114;&#36149;&#30340;&#36793;&#30028;&#31867;&#22411;&#21253;&#25324; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Vectorof%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">Vectorof</a></span>, <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span> &#21644; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=____.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._.Object%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">Object</a></span> &#12290;</p></li><li><p><font class="badlink"><span class="techoutside"><span class="techinside">Shallow types</span></span></font> &#26368;&#36866;&#21512;&#20110;&#32463;&#24120;&#19982;&#38750;&#31867;&#22411;&#21270;&#20195;&#30721;&#20132;&#20114;&#30340;&#23567;&#22411;&#31867;&#22411;&#21270;&#27169;&#22359;&#12290;
&#36825;&#26159;&#22240;&#20026; Shallow &#31867;&#22411;&#30340;&#26816;&#26597;&#36816;&#34892;&#24471;&#24456;&#24555;:&#23545;&#20110;&#22823;&#22810;&#25968;&#31867;&#22411;&#26469;&#35828;&#26159;&#24658;&#23450;&#26102;&#38388;,
  &#32780;&#23545;&#20110;&#23569;&#25968;&#20363;&#22806;&#24773;&#20917;&#22914; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.U%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">U</a></span> &#21644; <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.9/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._case-%7E3e%2529%2529&amp;version=8.9" class="RktStxLink Sq" data-pltdoc="x">case-&gt;</a></span> &#26469;&#35828;&#26159;&#32447;&#24615;&#26102;&#38388;(&#22312;&#31867;&#22411;&#30340;&#22823;&#23567;&#19978;,&#32780;&#19981;&#26159;&#22312;&#20540;&#19978;)&#12290;
&#22312;&#32463;&#24120;&#35843;&#29992;&#20989;&#25968;&#25110;&#35775;&#38382;&#25968;&#25454;&#32467;&#26500;&#30340;&#22823;&#22411;&#31867;&#22411;&#21270;&#27169;&#22359;&#20013;&#36991;&#20813;&#20351;&#29992; Shallow &#31867;&#22411;,&#22240;&#20026;&#36825;&#20123;&#25805;&#20316;&#21487;&#33021;&#20250;&#20135;&#29983;&#24418;&#29366;&#26816;&#26597;,&#20854;&#20928;&#25104;&#26412;&#21487;&#33021;&#24456;&#39640;&#12290;</p></li><li><p><font class="badlink"><span class="techoutside"><span class="techinside">Optional types</span></span></font> &#21487;&#20197;&#21551;&#29992;&#31867;&#22411;&#26816;&#26597;&#22120;,&#32780;&#19981;&#26159;&#20854;&#20182;&#12290;
&#24403;&#20320;&#19981;&#24076;&#26395;&#31867;&#22411;&#22312;&#36816;&#34892;&#26102;&#34987;&#24378;&#21046;&#25191;&#34892;&#26102;,&#35831;&#20351;&#29992;&#23427;&#20204;&#12290;</p></li></ul><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.9&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.9&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="occurrence-typing.html" title="backward to &quot;5 出现类型&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Typed Racket 指南&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="optimization.html" title="forward to &quot;7 Typed Racket 中的优化&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>